(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var Pm={exports:{}},eu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function ex(){if(Xv)return eu;Xv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return eu.Fragment=e,eu.jsx=t,eu.jsxs=t,eu}var Wv;function tx(){return Wv||(Wv=1,Pm.exports=ex()),Pm.exports}var g=tx(),Vm={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function nx(){if(Zv)return Se;Zv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),A=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=A&&j[A]||j["@@iterator"],typeof j=="function"?j:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,$={};function U(j,ne,de){this.props=j,this.context=ne,this.refs=$,this.updater=de||C}U.prototype.isReactComponent={},U.prototype.setState=function(j,ne){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ne,"setState")},U.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function Q(){}Q.prototype=U.prototype;function ee(j,ne,de){this.props=j,this.context=ne,this.refs=$,this.updater=de||C}var J=ee.prototype=new Q;J.constructor=ee,k(J,U.prototype),J.isPureReactComponent=!0;var he=Array.isArray,ue={H:null,A:null,T:null,S:null},Te=Object.prototype.hasOwnProperty;function M(j,ne,de,ae,oe,Re){return de=Re.ref,{$$typeof:i,type:j,key:ne,ref:de!==void 0?de:null,props:Re}}function I(j,ne){return M(j.type,ne,void 0,void 0,void 0,j.props)}function R(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function D(j){var ne={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(de){return ne[de]})}var V=/\/+/g;function F(j,ne){return typeof j=="object"&&j!==null&&j.key!=null?D(""+j.key):ne.toString(36)}function O(){}function bt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(O,O):(j.status="pending",j.then(function(ne){j.status==="pending"&&(j.status="fulfilled",j.value=ne)},function(ne){j.status==="pending"&&(j.status="rejected",j.reason=ne)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function pt(j,ne,de,ae,oe){var Re=typeof j;(Re==="undefined"||Re==="boolean")&&(j=null);var xe=!1;if(j===null)xe=!0;else switch(Re){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(j.$$typeof){case i:case e:xe=!0;break;case v:return xe=j._init,pt(xe(j._payload),ne,de,ae,oe)}}if(xe)return oe=oe(j),xe=ae===""?"."+F(j,0):ae,he(oe)?(de="",xe!=null&&(de=xe.replace(V,"$&/")+"/"),pt(oe,ne,de,"",function(ot){return ot})):oe!=null&&(R(oe)&&(oe=I(oe,de+(oe.key==null||j&&j.key===oe.key?"":(""+oe.key).replace(V,"$&/")+"/")+xe)),ne.push(oe)),1;xe=0;var gt=ae===""?".":ae+":";if(he(j))for(var ze=0;ze<j.length;ze++)ae=j[ze],Re=gt+F(ae,ze),xe+=pt(ae,ne,de,Re,oe);else if(ze=x(j),typeof ze=="function")for(j=ze.call(j),ze=0;!(ae=j.next()).done;)ae=ae.value,Re=gt+F(ae,ze++),xe+=pt(ae,ne,de,Re,oe);else if(Re==="object"){if(typeof j.then=="function")return pt(bt(j),ne,de,ae,oe);throw ne=String(j),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return xe}function re(j,ne,de){if(j==null)return j;var ae=[],oe=0;return pt(j,ae,"","",function(Re){return ne.call(de,Re,oe++)}),ae}function _e(j){if(j._status===-1){var ne=j._result;ne=ne(),ne.then(function(de){(j._status===0||j._status===-1)&&(j._status=1,j._result=de)},function(de){(j._status===0||j._status===-1)&&(j._status=2,j._result=de)}),j._status===-1&&(j._status=0,j._result=ne)}if(j._status===1)return j._result.default;throw j._result}var pe=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function He(){}return Se.Children={map:re,forEach:function(j,ne,de){re(j,function(){ne.apply(this,arguments)},de)},count:function(j){var ne=0;return re(j,function(){ne++}),ne},toArray:function(j){return re(j,function(ne){return ne})||[]},only:function(j){if(!R(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Se.Component=U,Se.Fragment=t,Se.Profiler=o,Se.PureComponent=ee,Se.StrictMode=s,Se.Suspense=m,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Se.act=function(){throw Error("act(...) is not supported in production builds of React.")},Se.cache=function(j){return function(){return j.apply(null,arguments)}},Se.cloneElement=function(j,ne,de){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ae=k({},j.props),oe=j.key,Re=void 0;if(ne!=null)for(xe in ne.ref!==void 0&&(Re=void 0),ne.key!==void 0&&(oe=""+ne.key),ne)!Te.call(ne,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ne.ref===void 0||(ae[xe]=ne[xe]);var xe=arguments.length-2;if(xe===1)ae.children=de;else if(1<xe){for(var gt=Array(xe),ze=0;ze<xe;ze++)gt[ze]=arguments[ze+2];ae.children=gt}return M(j.type,oe,void 0,void 0,Re,ae)},Se.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:u,_context:j},j},Se.createElement=function(j,ne,de){var ae,oe={},Re=null;if(ne!=null)for(ae in ne.key!==void 0&&(Re=""+ne.key),ne)Te.call(ne,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(oe[ae]=ne[ae]);var xe=arguments.length-2;if(xe===1)oe.children=de;else if(1<xe){for(var gt=Array(xe),ze=0;ze<xe;ze++)gt[ze]=arguments[ze+2];oe.children=gt}if(j&&j.defaultProps)for(ae in xe=j.defaultProps,xe)oe[ae]===void 0&&(oe[ae]=xe[ae]);return M(j,Re,void 0,void 0,null,oe)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(j){return{$$typeof:d,render:j}},Se.isValidElement=R,Se.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:_e}},Se.memo=function(j,ne){return{$$typeof:y,type:j,compare:ne===void 0?null:ne}},Se.startTransition=function(j){var ne=ue.T,de={};ue.T=de;try{var ae=j(),oe=ue.S;oe!==null&&oe(de,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(He,pe)}catch(Re){pe(Re)}finally{ue.T=ne}},Se.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Se.use=function(j){return ue.H.use(j)},Se.useActionState=function(j,ne,de){return ue.H.useActionState(j,ne,de)},Se.useCallback=function(j,ne){return ue.H.useCallback(j,ne)},Se.useContext=function(j){return ue.H.useContext(j)},Se.useDebugValue=function(){},Se.useDeferredValue=function(j,ne){return ue.H.useDeferredValue(j,ne)},Se.useEffect=function(j,ne){return ue.H.useEffect(j,ne)},Se.useId=function(){return ue.H.useId()},Se.useImperativeHandle=function(j,ne,de){return ue.H.useImperativeHandle(j,ne,de)},Se.useInsertionEffect=function(j,ne){return ue.H.useInsertionEffect(j,ne)},Se.useLayoutEffect=function(j,ne){return ue.H.useLayoutEffect(j,ne)},Se.useMemo=function(j,ne){return ue.H.useMemo(j,ne)},Se.useOptimistic=function(j,ne){return ue.H.useOptimistic(j,ne)},Se.useReducer=function(j,ne,de){return ue.H.useReducer(j,ne,de)},Se.useRef=function(j){return ue.H.useRef(j)},Se.useState=function(j){return ue.H.useState(j)},Se.useSyncExternalStore=function(j,ne,de){return ue.H.useSyncExternalStore(j,ne,de)},Se.useTransition=function(){return ue.H.useTransition()},Se.version="19.0.0",Se}var Jv;function Dp(){return Jv||(Jv=1,Vm.exports=nx()),Vm.exports}var w=Dp(),Lm={exports:{}},tu={},Um={exports:{}},zm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function ix(){return e0||(e0=1,function(i){function e(re,_e){var pe=re.length;re.push(_e);e:for(;0<pe;){var He=pe-1>>>1,j=re[He];if(0<o(j,_e))re[He]=_e,re[pe]=j,pe=He;else break e}}function t(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var _e=re[0],pe=re.pop();if(pe!==_e){re[0]=pe;e:for(var He=0,j=re.length,ne=j>>>1;He<ne;){var de=2*(He+1)-1,ae=re[de],oe=de+1,Re=re[oe];if(0>o(ae,pe))oe<j&&0>o(Re,ae)?(re[He]=Re,re[oe]=pe,He=oe):(re[He]=ae,re[de]=pe,He=de);else if(oe<j&&0>o(Re,pe))re[He]=Re,re[oe]=pe,He=oe;else break e}}return _e}function o(re,_e){var pe=re.sortIndex-_e.sortIndex;return pe!==0?pe:re.id-_e.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var m=[],y=[],v=1,A=null,x=3,C=!1,k=!1,$=!1,U=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function J(re){for(var _e=t(y);_e!==null;){if(_e.callback===null)s(y);else if(_e.startTime<=re)s(y),_e.sortIndex=_e.expirationTime,e(m,_e);else break;_e=t(y)}}function he(re){if($=!1,J(re),!k)if(t(m)!==null)k=!0,bt();else{var _e=t(y);_e!==null&&pt(he,_e.startTime-re)}}var ue=!1,Te=-1,M=5,I=-1;function R(){return!(i.unstable_now()-I<M)}function D(){if(ue){var re=i.unstable_now();I=re;var _e=!0;try{e:{k=!1,$&&($=!1,Q(Te),Te=-1),C=!0;var pe=x;try{t:{for(J(re),A=t(m);A!==null&&!(A.expirationTime>re&&R());){var He=A.callback;if(typeof He=="function"){A.callback=null,x=A.priorityLevel;var j=He(A.expirationTime<=re);if(re=i.unstable_now(),typeof j=="function"){A.callback=j,J(re),_e=!0;break t}A===t(m)&&s(m),J(re)}else s(m);A=t(m)}if(A!==null)_e=!0;else{var ne=t(y);ne!==null&&pt(he,ne.startTime-re),_e=!1}}break e}finally{A=null,x=pe,C=!1}_e=void 0}}finally{_e?V():ue=!1}}}var V;if(typeof ee=="function")V=function(){ee(D)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,O=F.port2;F.port1.onmessage=D,V=function(){O.postMessage(null)}}else V=function(){U(D,0)};function bt(){ue||(ue=!0,V())}function pt(re,_e){Te=U(function(){re(i.unstable_now())},_e)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(re){re.callback=null},i.unstable_continueExecution=function(){k||C||(k=!0,bt())},i.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<re?Math.floor(1e3/re):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_getFirstCallbackNode=function(){return t(m)},i.unstable_next=function(re){switch(x){case 1:case 2:case 3:var _e=3;break;default:_e=x}var pe=x;x=_e;try{return re()}finally{x=pe}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(re,_e){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var pe=x;x=re;try{return _e()}finally{x=pe}},i.unstable_scheduleCallback=function(re,_e,pe){var He=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?He+pe:He):pe=He,re){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=pe+j,re={id:v++,callback:_e,priorityLevel:re,startTime:pe,expirationTime:j,sortIndex:-1},pe>He?(re.sortIndex=pe,e(y,re),t(m)===null&&re===t(y)&&($?(Q(Te),Te=-1):$=!0,pt(he,pe-He))):(re.sortIndex=j,e(m,re),k||C||(k=!0,bt())),re},i.unstable_shouldYield=R,i.unstable_wrapCallback=function(re){var _e=x;return function(){var pe=x;x=_e;try{return re.apply(this,arguments)}finally{x=pe}}}}(zm)),zm}var t0;function rx(){return t0||(t0=1,Um.exports=ix()),Um.exports}var Bm={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function sx(){if(n0)return Xt;n0=1;var i=Dp();function e(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,y,v){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:m,containerInfo:y,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(m,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(m,y,null,v)},Xt.flushSync=function(m){var y=h.T,v=s.p;try{if(h.T=null,s.p=2,m)return m()}finally{h.T=y,s.p=v,s.d.f()}},Xt.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(m,y))},Xt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Xt.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var v=y.as,A=d(v,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,C=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?s.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:x,fetchPriority:C}):v==="script"&&s.d.X(m,{crossOrigin:A,integrity:x,fetchPriority:C,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xt.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=d(y.as,y.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(m)},Xt.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,A=d(v,y.crossOrigin);s.d.L(m,v,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xt.preloadModule=function(m,y){if(typeof m=="string")if(y){var v=d(y.as,y.crossOrigin);s.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(m)},Xt.requestFormReset=function(m){s.d.r(m)},Xt.unstable_batchedUpdates=function(m,y){return m(y)},Xt.useFormState=function(m,y,v){return h.H.useFormState(m,y,v)},Xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Xt.version="19.0.0",Xt}var i0;function JE(){if(i0)return Bm.exports;i0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Bm.exports=sx(),Bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0;function ax(){if(r0)return tu;r0=1;var i=rx(),e=Dp(),t=JE();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),C=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),he=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function Te(n){return n===null||typeof n!="object"?null:(n=ue&&n[ue]||n["@@iterator"],typeof n=="function"?n:null)}var M=Symbol.for("react.client.reference");function I(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===M?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case m:return"Fragment";case d:return"Portal";case v:return"Profiler";case y:return"StrictMode";case $:return"Suspense";case U:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case C:return(n.displayName||"Context")+".Provider";case x:return(n._context.displayName||"Context")+".Consumer";case k:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Q:return r=n.displayName||null,r!==null?r:I(n.type)||"Memo";case ee:r=n._payload,n=n._init;try{return I(n(r))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,V,F;function O(n){if(V===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);V=r&&r[1]||"",F=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+n+F}var bt=!1;function pt(n,r){if(!n||bt)return"";bt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var H=K}Reflect.construct(n,[],te)}else{try{te.call()}catch(K){H=K}n.call(te.prototype)}}else{try{throw Error()}catch(K){H=K}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),T=p[0],b=p[1];if(T&&b){var N=T.split(`
`),L=b.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<L.length&&!L[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===L.length)for(l=N.length-1,f=L.length-1;1<=l&&0<=f&&N[l]!==L[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==L[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==L[f]){var Y=`
`+N[l].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=l&&0<=f);break}}}finally{bt=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?O(a):""}function re(n){switch(n.tag){case 26:case 27:case 5:return O(n.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return n=pt(n.type,!1),n;case 11:return n=pt(n.type.render,!1),n;case 1:return n=pt(n.type,!0),n;default:return""}}function _e(n){try{var r="";do r+=re(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function pe(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function He(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function j(n){if(pe(n)!==n)throw Error(s(188))}function ne(n){var r=n.alternate;if(!r){if(r=pe(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return j(f),n;if(p===l)return j(f),r;p=p.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=p;else{for(var T=!1,b=f.child;b;){if(b===a){T=!0,a=f,l=p;break}if(b===l){T=!0,l=f,a=p;break}b=b.sibling}if(!T){for(b=p.child;b;){if(b===a){T=!0,a=p,l=f;break}if(b===l){T=!0,l=p,a=f;break}b=b.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function de(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=de(n),r!==null)return r;n=n.sibling}return null}var ae=Array.isArray,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re={pending:!1,data:null,method:null,action:null},xe=[],gt=-1;function ze(n){return{current:n}}function ot(n){0>gt||(n.current=xe[gt],xe[gt]=null,gt--)}function Ke(n,r){gt++,xe[gt]=n.current,n.current=r}var tn=ze(null),Pi=ze(null),In=ze(null),Er=ze(null);function Tr(n,r){switch(Ke(In,r),Ke(Pi,n),Ke(tn,null),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?xv(r):0;break;default:if(n=n===8?r.parentNode:r,r=n.tagName,n=n.namespaceURI)n=xv(n),r=Sv(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ot(tn),Ke(tn,r)}function Vi(){ot(tn),ot(Pi),ot(In)}function Yo(n){n.memoizedState!==null&&Ke(Er,n);var r=tn.current,a=Sv(r,n.type);r!==a&&(Ke(Pi,n),Ke(tn,a))}function xa(n){Pi.current===n&&(ot(tn),ot(Pi)),Er.current===n&&(ot(Er),Yl._currentValue=Re)}var Sa=Object.prototype.hasOwnProperty,ks=i.unstable_scheduleCallback,Ra=i.unstable_cancelCallback,Lf=i.unstable_shouldYield,Xo=i.unstable_requestPaint,dn=i.unstable_now,Zu=i.unstable_getCurrentPriorityLevel,At=i.unstable_ImmediatePriority,Ot=i.unstable_UserBlockingPriority,Li=i.unstable_NormalPriority,Ju=i.unstable_LowPriority,Wo=i.unstable_IdlePriority,Uf=i.log,js=i.unstable_setDisableYieldValue,wr=null,Qt=null;function Zo(n){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(wr,n,void 0,(n.current.flags&128)===128)}catch{}}function li(n){if(typeof Uf=="function"&&js(n),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(wr,n)}catch{}}var nn=Math.clz32?Math.clz32:tc,Jo=Math.log,ec=Math.LN2;function tc(n){return n>>>=0,n===0?32:31-(Jo(n)/ec|0)|0}var ui=128,br=4194304;function Qn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Nn(n,r){var a=n.pendingLanes;if(a===0)return 0;var l=0,f=n.suspendedLanes,p=n.pingedLanes,T=n.warmLanes;n=n.finishedLanes!==0;var b=a&134217727;return b!==0?(a=b&~f,a!==0?l=Qn(a):(p&=b,p!==0?l=Qn(p):n||(T=b&~T,T!==0&&(l=Qn(T))))):(b=a&~f,b!==0?l=Qn(b):p!==0?l=Qn(p):n||(T=a&~T,T!==0&&(l=Qn(T)))),l===0?0:r!==0&&r!==l&&(r&f)===0&&(f=l&-l,T=r&-r,f>=T||f===32&&(T&4194176)!==0)?r:l}function Ar(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Ca(n,r){switch(n){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function el(){var n=ui;return ui<<=1,(ui&4194176)===0&&(ui=128),n}function xr(){var n=br;return br<<=1,(br&62914560)===0&&(br=4194304),n}function Ia(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function ft(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function nc(n,r,a,l,f,p){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,N=n.expirationTimes,L=n.hiddenUpdates;for(a=T&~a;0<a;){var Y=31-nn(a),te=1<<Y;b[Y]=0,N[Y]=-1;var H=L[Y];if(H!==null)for(L[Y]=null,Y=0;Y<H.length;Y++){var K=H[Y];K!==null&&(K.lane&=-536870913)}a&=~te}l!==0&&Sr(n,l,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(T&~r))}function Sr(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-nn(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194218}function Rr(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-nn(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function ic(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function rc(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:Hv(n.type))}function Cr(n,r){var a=oe.p;try{return oe.p=n,r()}finally{oe.p=a}}var ci=Math.random().toString(36).slice(2),kt="__reactFiber$"+ci,xt="__reactProps$"+ci,Ui="__reactContainer$"+ci,Ms="__reactEvents$"+ci,Na="__reactListeners$"+ci,hi="__reactHandles$"+ci,tl="__reactResources$"+ci,Ir="__reactMarker$"+ci;function Ps(n){delete n[kt],delete n[xt],delete n[Ms],delete n[Na],delete n[hi]}function Yn(n){var r=n[kt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Ui]||a[kt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Iv(n);n!==null;){if(a=n[kt])return a;n=Iv(n)}return r}n=a,a=n.parentNode}return null}function zi(n){if(n=n[kt]||n[Ui]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Nr(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Dr(n){var r=n[tl];return r||(r=n[tl]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function it(n){n[Ir]=!0}var nl=new Set,Da={};function En(n,r){mn(n,r),mn(n+"Capture",r)}function mn(n,r){for(Da[n]=r,n=0;n<r.length;n++)nl.add(r[n])}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),il={},rl={};function sc(n){return Sa.call(rl,n)?!0:Sa.call(il,n)?!1:zf.test(n)?rl[n]=!0:(il[n]=!0,!1)}function Or(n,r,a){if(sc(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function kr(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Dn(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}function rn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ac(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Bf(n){var r=ac(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,p.call(this,T)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Vs(n){n._valueTracker||(n._valueTracker=Bf(n))}function sl(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=ac(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Oa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Bi=/[\n"\\]/g;function lt(n){return n.replace(Bi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function jr(n,r,a,l,f,p,T,b){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),r!=null?T==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+rn(r)):n.value!==""+rn(r)&&(n.value=""+rn(r)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),r!=null?ka(n,T,rn(r)):a!=null?ka(n,T,rn(a)):l!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+rn(b):n.removeAttribute("name")}function Ls(n,r,a,l,f,p,T,b){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),r!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;a=a!=null?""+rn(a):"",r=r!=null?""+rn(r):a,b||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function ka(n,r,a){r==="number"&&Oa(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Be(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+rn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Us(n,r,a){if(r!=null&&(r=""+rn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+rn(a):""}function Mr(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=rn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function On(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Ff=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function al(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Ff.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function oc(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&al(n,f,l)}else for(var p in r)r.hasOwnProperty(p)&&al(n,p,r[p])}function ol(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fi(n){return Hf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var kn=null;function ja(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Fi=null,qi=null;function Hi(n){var r=zi(n);if(r&&(n=r.stateNode)){var a=n[xt]||null;e:switch(n=r.stateNode,r.type){case"input":if(jr(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+lt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[xt]||null;if(!f)throw Error(s(90));jr(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&sl(l)}break e;case"textarea":Us(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Be(n,!!a.multiple,r,!1)}}}var ll=!1;function lc(n,r,a){if(ll)return n(r,a);ll=!0;try{var l=n(r);return l}finally{if(ll=!1,(Fi!==null||qi!==null)&&(Jc(),Fi&&(r=Fi,n=qi,qi=Fi=null,Hi(r),n)))for(r=0;r<n.length;r++)Hi(n[r])}}function zs(n,r){var a=n.stateNode;if(a===null)return null;var l=a[xt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var jn=!1;if(Tn)try{var Bs={};Object.defineProperty(Bs,"passive",{get:function(){jn=!0}}),window.addEventListener("test",Bs,Bs),window.removeEventListener("test",Bs,Bs)}catch{jn=!1}var di=null,Pr=null,Gi=null;function ul(){if(Gi)return Gi;var n,r=Pr,a=r.length,l,f="value"in di?di.value:di.textContent,p=f.length;for(n=0;n<a&&r[n]===f[n];n++);var T=a-n;for(l=1;l<=T&&r[a-l]===f[p-l];l++);return Gi=f.slice(n,1<l?1-l:void 0)}function mi(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function pi(){return!0}function cl(){return!1}function jt(n){function r(a,l,f,p,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?pi:cl,this.isPropagationStopped=cl,this}return D(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),r}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ma=jt(Ge),Fs=D({},Ge,{view:0,detail:0}),uc=jt(Fs),Pa,Va,gi,qs=D({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$s,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==gi&&(gi&&n.type==="mousemove"?(Pa=n.screenX-gi.screenX,Va=n.screenY-gi.screenY):Va=Pa=0,gi=n),Pa)},movementY:function(n){return"movementY"in n?n.movementY:Va}}),Mn=jt(qs),cc=D({},qs,{dataTransfer:0}),Gf=jt(cc),Hs=D({},Fs,{relatedTarget:0}),La=jt(Hs),hl=D({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Ua=jt(hl),hc=D({},Ge,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),za=jt(hc),$f=D({},Ge,{data:0}),fl=jt($f),Gs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=dc[n])?!!r[n]:!1}function $s(){return dl}var mc=D({},Fs,{key:function(n){if(n.key){var r=Gs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=mi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?fc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$s,charCode:function(n){return n.type==="keypress"?mi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?mi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ba=jt(mc),pc=D({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ml=jt(pc),$i=D({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$s}),gc=jt($i),yc=D({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),_c=jt(yc),vc=D({},qs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Fa=jt(vc),sn=D({},Ge,{newState:0,oldState:0}),Ec=jt(sn),Tc=[9,13,27,32],yi=Tn&&"CompositionEvent"in window,c=null;Tn&&"documentMode"in document&&(c=document.documentMode);var _=Tn&&"TextEvent"in window&&!c,E=Tn&&(!yi||c&&8<c&&11>=c),S=" ",B=!1;function G(n,r){switch(n){case"keyup":return Tc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pe=!1;function St(n,r){switch(n){case"compositionend":return ie(r);case"keypress":return r.which!==32?null:(B=!0,S);case"textInput":return n=r.data,n===S&&B?null:n;default:return null}}function Ve(n,r){if(Pe)return n==="compositionend"||!yi&&G(n,r)?(n=ul(),Gi=Pr=di=null,Pe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return E&&r.locale!=="ko"?null:r.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Mt[n.type]:r==="textarea"}function Ki(n,r,a,l){Fi?qi?qi.push(l):qi=[l]:Fi=l,r=rh(r,"onChange"),0<r.length&&(a=new Ma("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var zt=null,_i=null;function pl(n){Ev(n,0)}function wc(n){var r=Nr(n);if(sl(r))return n}function Yg(n,r){if(n==="change")return r}var Xg=!1;if(Tn){var Kf;if(Tn){var Qf="oninput"in document;if(!Qf){var Wg=document.createElement("div");Wg.setAttribute("oninput","return;"),Qf=typeof Wg.oninput=="function"}Kf=Qf}else Kf=!1;Xg=Kf&&(!document.documentMode||9<document.documentMode)}function Zg(){zt&&(zt.detachEvent("onpropertychange",Jg),_i=zt=null)}function Jg(n){if(n.propertyName==="value"&&wc(_i)){var r=[];Ki(r,_i,n,ja(n)),lc(pl,r)}}function N1(n,r,a){n==="focusin"?(Zg(),zt=r,_i=a,zt.attachEvent("onpropertychange",Jg)):n==="focusout"&&Zg()}function D1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return wc(_i)}function O1(n,r){if(n==="click")return wc(r)}function k1(n,r){if(n==="input"||n==="change")return wc(r)}function j1(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var wn=typeof Object.is=="function"?Object.is:j1;function gl(n,r){if(wn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Sa.call(r,f)||!wn(n[f],r[f]))return!1}return!0}function ey(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ty(n,r){var a=ey(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ey(a)}}function ny(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?ny(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function iy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Oa(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Oa(n.document)}return r}function Yf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function M1(n,r){var a=iy(r);r=n.focusedElem;var l=n.selectionRange;if(a!==r&&r&&r.ownerDocument&&ny(r.ownerDocument.documentElement,r)){if(l!==null&&Yf(r)){if(n=l.start,a=l.end,a===void 0&&(a=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(a,r.value.length);else if(a=(n=r.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=r.textContent.length,p=Math.min(l.start,f);l=l.end===void 0?p:Math.min(l.end,f),!a.extend&&p>l&&(f=l,l=p,p=f),f=ty(r,p);var T=ty(r,l);f&&T&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==T.node||a.focusOffset!==T.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),p>l?(a.addRange(n),a.extend(T.node,T.offset)):(n.setEnd(T.node,T.offset),a.addRange(n)))}}for(n=[],a=r;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)a=n[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var P1=Tn&&"documentMode"in document&&11>=document.documentMode,qa=null,Xf=null,yl=null,Wf=!1;function ry(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wf||qa==null||qa!==Oa(l)||(l=qa,"selectionStart"in l&&Yf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yl&&gl(yl,l)||(yl=l,l=rh(Xf,"onSelect"),0<l.length&&(r=new Ma("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=qa)))}function Ks(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ha={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},Zf={},sy={};Tn&&(sy=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function Qs(n){if(Zf[n])return Zf[n];if(!Ha[n])return n;var r=Ha[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in sy)return Zf[n]=r[a];return n}var ay=Qs("animationend"),oy=Qs("animationiteration"),ly=Qs("animationstart"),V1=Qs("transitionrun"),L1=Qs("transitionstart"),U1=Qs("transitioncancel"),uy=Qs("transitionend"),cy=new Map,hy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Xn(n,r){cy.set(n,r),En(r,[n])}var Pn=[],Ga=0,Jf=0;function bc(){for(var n=Ga,r=Jf=Ga=0;r<n;){var a=Pn[r];Pn[r++]=null;var l=Pn[r];Pn[r++]=null;var f=Pn[r];Pn[r++]=null;var p=Pn[r];if(Pn[r++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}p!==0&&fy(a,f,p)}}function Ac(n,r,a,l){Pn[Ga++]=n,Pn[Ga++]=r,Pn[Ga++]=a,Pn[Ga++]=l,Jf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function ed(n,r,a,l){return Ac(n,r,a,l),xc(n)}function Vr(n,r){return Ac(n,null,null,r),xc(n)}function fy(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,p=n.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;f&&r!==null&&n.tag===3&&(p=n.stateNode,f=31-nn(a),p=p.hiddenUpdates,n=p[f],n===null?p[f]=[r]:n.push(r),r.lane=a|536870912)}function xc(n){if(50<Fl)throw Fl=0,am=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var $a={},dy=new WeakMap;function Vn(n,r){if(typeof n=="object"&&n!==null){var a=dy.get(n);return a!==void 0?a:(r={value:n,source:r,stack:_e(r)},dy.set(n,r),r)}return{value:n,source:r,stack:_e(r)}}var Ka=[],Qa=0,Sc=null,Rc=0,Ln=[],Un=0,Ys=null,Qi=1,Yi="";function Xs(n,r){Ka[Qa++]=Rc,Ka[Qa++]=Sc,Sc=n,Rc=r}function my(n,r,a){Ln[Un++]=Qi,Ln[Un++]=Yi,Ln[Un++]=Ys,Ys=n;var l=Qi;n=Yi;var f=32-nn(l)-1;l&=~(1<<f),a+=1;var p=32-nn(r)+f;if(30<p){var T=f-f%5;p=(l&(1<<T)-1).toString(32),l>>=T,f-=T,Qi=1<<32-nn(r)+f|a<<f|l,Yi=p+n}else Qi=1<<p|a<<f|l,Yi=n}function td(n){n.return!==null&&(Xs(n,1),my(n,1,0))}function nd(n){for(;n===Sc;)Sc=Ka[--Qa],Ka[Qa]=null,Rc=Ka[--Qa],Ka[Qa]=null;for(;n===Ys;)Ys=Ln[--Un],Ln[Un]=null,Yi=Ln[--Un],Ln[Un]=null,Qi=Ln[--Un],Ln[Un]=null}var an=null,Bt=null,Fe=!1,Wn=null,vi=!1,id=Error(s(519));function Ws(n){var r=Error(s(418,""));throw El(Vn(r,n)),id}function py(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[kt]=n,r[xt]=l,a){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(a=0;a<Hl.length;a++)je(Hl[a],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":je("invalid",r),Ls(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Vs(r);break;case"select":je("invalid",r);break;case"textarea":je("invalid",r),Mr(r,l.value,l.defaultValue,l.children),Vs(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Av(r.textContent,a)?(l.popover!=null&&(je("beforetoggle",r),je("toggle",r)),l.onScroll!=null&&je("scroll",r),l.onScrollEnd!=null&&je("scrollend",r),l.onClick!=null&&(r.onclick=sh),r=!0):r=!1,r||Ws(n)}function gy(n){for(an=n.return;an;)switch(an.tag){case 3:case 27:vi=!0;return;case 5:case 13:vi=!1;return;default:an=an.return}}function _l(n){if(n!==an)return!1;if(!Fe)return gy(n),Fe=!0,!1;var r=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||bm(n.type,n.memoizedProps)),a=!a),a&&(r=!0),r&&Bt&&Ws(n),gy(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){Bt=Jn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}Bt=null}}else Bt=an?Jn(n.stateNode.nextSibling):null;return!0}function vl(){Bt=an=null,Fe=!1}function El(n){Wn===null?Wn=[n]:Wn.push(n)}var Tl=Error(s(460)),yy=Error(s(474)),rd={then:function(){}};function _y(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Cc(){}function vy(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Cc,Cc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===Tl?Error(s(483)):n;default:if(typeof r.status=="string")r.then(Cc,Cc);else{if(n=Je,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===Tl?Error(s(483)):n}throw wl=r,Tl}}var wl=null;function Ey(){if(wl===null)throw Error(s(459));var n=wl;return wl=null,n}var Ya=null,bl=0;function Ic(n){var r=bl;return bl+=1,Ya===null&&(Ya=[]),vy(Ya,n,r)}function Al(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Nc(n,r){throw r.$$typeof===u?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Ty(n){var r=n._init;return r(n._payload)}function wy(n){function r(z,P){if(n){var q=z.deletions;q===null?(z.deletions=[P],z.flags|=16):q.push(P)}}function a(z,P){if(!n)return null;for(;P!==null;)r(z,P),P=P.sibling;return null}function l(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function f(z,P){return z=Yr(z,P),z.index=0,z.sibling=null,z}function p(z,P,q){return z.index=q,n?(q=z.alternate,q!==null?(q=q.index,q<P?(z.flags|=33554434,P):q):(z.flags|=33554434,P)):(z.flags|=1048576,P)}function T(z){return n&&z.alternate===null&&(z.flags|=33554434),z}function b(z,P,q,W){return P===null||P.tag!==6?(P=Zd(q,z.mode,W),P.return=z,P):(P=f(P,q),P.return=z,P)}function N(z,P,q,W){var ce=q.type;return ce===m?Y(z,P,q.props.children,W,q.key):P!==null&&(P.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ee&&Ty(ce)===P.type)?(P=f(P,q.props),Al(P,q),P.return=z,P):(P=Qc(q.type,q.key,q.props,null,z.mode,W),Al(P,q),P.return=z,P)}function L(z,P,q,W){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=Jd(q,z.mode,W),P.return=z,P):(P=f(P,q.children||[]),P.return=z,P)}function Y(z,P,q,W,ce){return P===null||P.tag!==7?(P=oa(q,z.mode,W,ce),P.return=z,P):(P=f(P,q),P.return=z,P)}function te(z,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Zd(""+P,z.mode,q),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case h:return q=Qc(P.type,P.key,P.props,null,z.mode,q),Al(q,P),q.return=z,q;case d:return P=Jd(P,z.mode,q),P.return=z,P;case ee:var W=P._init;return P=W(P._payload),te(z,P,q)}if(ae(P)||Te(P))return P=oa(P,z.mode,q,null),P.return=z,P;if(typeof P.then=="function")return te(z,Ic(P),q);if(P.$$typeof===C)return te(z,Gc(z,P),q);Nc(z,P)}return null}function H(z,P,q,W){var ce=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ce!==null?null:b(z,P,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case h:return q.key===ce?N(z,P,q,W):null;case d:return q.key===ce?L(z,P,q,W):null;case ee:return ce=q._init,q=ce(q._payload),H(z,P,q,W)}if(ae(q)||Te(q))return ce!==null?null:Y(z,P,q,W,null);if(typeof q.then=="function")return H(z,P,Ic(q),W);if(q.$$typeof===C)return H(z,P,Gc(z,q),W);Nc(z,q)}return null}function K(z,P,q,W,ce){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(q)||null,b(P,z,""+W,ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case h:return z=z.get(W.key===null?q:W.key)||null,N(P,z,W,ce);case d:return z=z.get(W.key===null?q:W.key)||null,L(P,z,W,ce);case ee:var Ne=W._init;return W=Ne(W._payload),K(z,P,q,W,ce)}if(ae(W)||Te(W))return z=z.get(q)||null,Y(P,z,W,ce,null);if(typeof W.then=="function")return K(z,P,q,Ic(W),ce);if(W.$$typeof===C)return K(z,P,q,Gc(P,W),ce);Nc(P,W)}return null}function fe(z,P,q,W){for(var ce=null,Ne=null,me=P,ye=P=0,Lt=null;me!==null&&ye<q.length;ye++){me.index>ye?(Lt=me,me=null):Lt=me.sibling;var qe=H(z,me,q[ye],W);if(qe===null){me===null&&(me=Lt);break}n&&me&&qe.alternate===null&&r(z,me),P=p(qe,P,ye),Ne===null?ce=qe:Ne.sibling=qe,Ne=qe,me=Lt}if(ye===q.length)return a(z,me),Fe&&Xs(z,ye),ce;if(me===null){for(;ye<q.length;ye++)me=te(z,q[ye],W),me!==null&&(P=p(me,P,ye),Ne===null?ce=me:Ne.sibling=me,Ne=me);return Fe&&Xs(z,ye),ce}for(me=l(me);ye<q.length;ye++)Lt=K(me,z,ye,q[ye],W),Lt!==null&&(n&&Lt.alternate!==null&&me.delete(Lt.key===null?ye:Lt.key),P=p(Lt,P,ye),Ne===null?ce=Lt:Ne.sibling=Lt,Ne=Lt);return n&&me.forEach(function(ns){return r(z,ns)}),Fe&&Xs(z,ye),ce}function be(z,P,q,W){if(q==null)throw Error(s(151));for(var ce=null,Ne=null,me=P,ye=P=0,Lt=null,qe=q.next();me!==null&&!qe.done;ye++,qe=q.next()){me.index>ye?(Lt=me,me=null):Lt=me.sibling;var ns=H(z,me,qe.value,W);if(ns===null){me===null&&(me=Lt);break}n&&me&&ns.alternate===null&&r(z,me),P=p(ns,P,ye),Ne===null?ce=ns:Ne.sibling=ns,Ne=ns,me=Lt}if(qe.done)return a(z,me),Fe&&Xs(z,ye),ce;if(me===null){for(;!qe.done;ye++,qe=q.next())qe=te(z,qe.value,W),qe!==null&&(P=p(qe,P,ye),Ne===null?ce=qe:Ne.sibling=qe,Ne=qe);return Fe&&Xs(z,ye),ce}for(me=l(me);!qe.done;ye++,qe=q.next())qe=K(me,z,ye,qe.value,W),qe!==null&&(n&&qe.alternate!==null&&me.delete(qe.key===null?ye:qe.key),P=p(qe,P,ye),Ne===null?ce=qe:Ne.sibling=qe,Ne=qe);return n&&me.forEach(function(JA){return r(z,JA)}),Fe&&Xs(z,ye),ce}function ht(z,P,q,W){if(typeof q=="object"&&q!==null&&q.type===m&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case h:e:{for(var ce=q.key;P!==null;){if(P.key===ce){if(ce=q.type,ce===m){if(P.tag===7){a(z,P.sibling),W=f(P,q.props.children),W.return=z,z=W;break e}}else if(P.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ee&&Ty(ce)===P.type){a(z,P.sibling),W=f(P,q.props),Al(W,q),W.return=z,z=W;break e}a(z,P);break}else r(z,P);P=P.sibling}q.type===m?(W=oa(q.props.children,z.mode,W,q.key),W.return=z,z=W):(W=Qc(q.type,q.key,q.props,null,z.mode,W),Al(W,q),W.return=z,z=W)}return T(z);case d:e:{for(ce=q.key;P!==null;){if(P.key===ce)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){a(z,P.sibling),W=f(P,q.children||[]),W.return=z,z=W;break e}else{a(z,P);break}else r(z,P);P=P.sibling}W=Jd(q,z.mode,W),W.return=z,z=W}return T(z);case ee:return ce=q._init,q=ce(q._payload),ht(z,P,q,W)}if(ae(q))return fe(z,P,q,W);if(Te(q)){if(ce=Te(q),typeof ce!="function")throw Error(s(150));return q=ce.call(q),be(z,P,q,W)}if(typeof q.then=="function")return ht(z,P,Ic(q),W);if(q.$$typeof===C)return ht(z,P,Gc(z,q),W);Nc(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(a(z,P.sibling),W=f(P,q),W.return=z,z=W):(a(z,P),W=Zd(q,z.mode,W),W.return=z,z=W),T(z)):a(z,P)}return function(z,P,q,W){try{bl=0;var ce=ht(z,P,q,W);return Ya=null,ce}catch(me){if(me===Tl)throw me;var Ne=qn(29,me,null,z.mode);return Ne.lanes=W,Ne.return=z,Ne}finally{}}}var Zs=wy(!0),by=wy(!1),Xa=ze(null),Dc=ze(0);function Ay(n,r){n=ar,Ke(Dc,n),Ke(Xa,r),ar=n|r.baseLanes}function sd(){Ke(Dc,ar),Ke(Xa,Xa.current)}function ad(){ar=Dc.current,ot(Xa),ot(Dc)}var zn=ze(null),Ei=null;function Lr(n){var r=n.alternate;Ke(Ct,Ct.current&1),Ke(zn,n),Ei===null&&(r===null||Xa.current!==null||r.memoizedState!==null)&&(Ei=n)}function xy(n){if(n.tag===22){if(Ke(Ct,Ct.current),Ke(zn,n),Ei===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Ei=n)}}else Ur()}function Ur(){Ke(Ct,Ct.current),Ke(zn,zn.current)}function Xi(n){ot(zn),Ei===n&&(Ei=null),ot(Ct)}var Ct=ze(0);function Oc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var z1=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},B1=i.unstable_scheduleCallback,F1=i.unstable_NormalPriority,It={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function od(){return{controller:new z1,data:new Map,refCount:0}}function xl(n){n.refCount--,n.refCount===0&&B1(F1,function(){n.controller.abort()})}var Sl=null,ld=0,Wa=0,Za=null;function q1(n,r){if(Sl===null){var a=Sl=[];ld=0,Wa=mm(),Za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ld++,r.then(Sy,Sy),r}function Sy(){if(--ld===0&&Sl!==null){Za!==null&&(Za.status="fulfilled");var n=Sl;Sl=null,Wa=0,Za=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function H1(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ry=R.S;R.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&q1(n,r),Ry!==null&&Ry(n,r)};var Js=ze(null);function ud(){var n=Js.current;return n!==null?n:Je.pooledCache}function kc(n,r){r===null?Ke(Js,Js.current):Ke(Js,r.pool)}function Cy(){var n=ud();return n===null?null:{parent:It._currentValue,pool:n}}var zr=0,Ie=null,Qe=null,yt=null,jc=!1,Ja=!1,ea=!1,Mc=0,Rl=0,eo=null,G1=0;function dt(){throw Error(s(321))}function cd(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!wn(n[a],r[a]))return!1;return!0}function hd(n,r,a,l,f,p){return zr=p,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,R.H=n===null||n.memoizedState===null?ta:Br,ea=!1,p=a(l,f),ea=!1,Ja&&(p=Ny(r,a,l,f)),Iy(n),p}function Iy(n){R.H=Ti;var r=Qe!==null&&Qe.next!==null;if(zr=0,yt=Qe=Ie=null,jc=!1,Rl=0,eo=null,r)throw Error(s(300));n===null||Pt||(n=n.dependencies,n!==null&&Hc(n)&&(Pt=!0))}function Ny(n,r,a,l){Ie=n;var f=0;do{if(Ja&&(eo=null),Rl=0,Ja=!1,25<=f)throw Error(s(301));if(f+=1,yt=Qe=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}R.H=na,p=r(a,l)}while(Ja);return p}function $1(){var n=R.H,r=n.useState()[0];return r=typeof r.then=="function"?Cl(r):r,n=n.useState()[0],(Qe!==null?Qe.memoizedState:null)!==n&&(Ie.flags|=1024),r}function fd(){var n=Mc!==0;return Mc=0,n}function dd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function md(n){if(jc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}jc=!1}zr=0,yt=Qe=Ie=null,Ja=!1,Rl=Mc=0,eo=null}function pn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ie.memoizedState=yt=n:yt=yt.next=n,yt}function _t(){if(Qe===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=Qe.next;var r=yt===null?Ie.memoizedState:yt.next;if(r!==null)yt=r,Qe=n;else{if(n===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Qe=n,n={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},yt===null?Ie.memoizedState=yt=n:yt=yt.next=n}return yt}var Pc;Pc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Cl(n){var r=Rl;return Rl+=1,eo===null&&(eo=[]),n=vy(eo,n,r),r=Ie,(yt===null?r.memoizedState:yt.next)===null&&(r=r.alternate,R.H=r===null||r.memoizedState===null?ta:Br),n}function Vc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Cl(n);if(n.$$typeof===C)return Yt(n)}throw Error(s(438,String(n)))}function pd(n){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Pc(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=he;return r.index++,a}function Wi(n,r){return typeof r=="function"?r(n):r}function Lc(n){var r=_t();return gd(r,Qe,n)}function gd(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,p=l.pending;if(p!==null){if(f!==null){var T=f.next;f.next=p.next,p.next=T}r.baseQueue=f=p,l.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{r=f.next;var b=T=null,N=null,L=r,Y=!1;do{var te=L.lane&-536870913;if(te!==L.lane?(Le&te)===te:(zr&te)===te){var H=L.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),te===Wa&&(Y=!0);else if((zr&H)===H){L=L.next,H===Wa&&(Y=!0);continue}else te={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},N===null?(b=N=te,T=p):N=N.next=te,Ie.lanes|=H,Xr|=H;te=L.action,ea&&a(p,te),p=L.hasEagerState?L.eagerState:a(p,te)}else H={lane:te,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},N===null?(b=N=H,T=p):N=N.next=H,Ie.lanes|=te,Xr|=te;L=L.next}while(L!==null&&L!==r);if(N===null?T=p:N.next=b,!wn(p,n.memoizedState)&&(Pt=!0,Y&&(a=Za,a!==null)))throw a;n.memoizedState=p,n.baseState=T,n.baseQueue=N,l.lastRenderedState=p}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function yd(n){var r=_t(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,p=r.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do p=n(p,T.action),T=T.next;while(T!==f);wn(p,r.memoizedState)||(Pt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,l]}function Dy(n,r,a){var l=Ie,f=_t(),p=Fe;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!wn((Qe||f).memoizedState,a);if(T&&(f.memoizedState=a,Pt=!0),f=f.queue,Ed(jy.bind(null,l,f,n),[n]),f.getSnapshot!==r||T||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,to(9,ky.bind(null,l,f,a,r),{destroy:void 0},null),Je===null)throw Error(s(349));p||(zr&60)!==0||Oy(l,r,a)}return a}function Oy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=Pc(),Ie.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function ky(n,r,a,l){r.value=a,r.getSnapshot=l,My(r)&&Py(n)}function jy(n,r,a){return a(function(){My(r)&&Py(n)})}function My(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!wn(n,a)}catch{return!0}}function Py(n){var r=Vr(n,2);r!==null&&on(r,n,2)}function _d(n){var r=pn();if(typeof n=="function"){var a=n;if(n=a(),ea){li(!0);try{a()}finally{li(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:n},r}function Vy(n,r,a,l){return n.baseState=a,gd(n,Qe,typeof l=="function"?l:Wi)}function K1(n,r,a,l,f){if(Bc(n))throw Error(s(485));if(n=r.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};R.T!==null?a(!0):p.isTransition=!1,l(p),a=r.pending,a===null?(p.next=r.pending=p,Ly(r,p)):(p.next=a.next,r.pending=a.next=p)}}function Ly(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var p=R.T,T={};R.T=T;try{var b=a(f,l),N=R.S;N!==null&&N(T,b),Uy(n,r,b)}catch(L){vd(n,r,L)}finally{R.T=p}}else try{p=a(f,l),Uy(n,r,p)}catch(L){vd(n,r,L)}}function Uy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){zy(n,r,l)},function(l){return vd(n,r,l)}):zy(n,r,a)}function zy(n,r,a){r.status="fulfilled",r.value=a,By(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Ly(n,a)))}function vd(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,By(r),r=r.next;while(r!==l)}n.action=null}function By(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Fy(n,r){return r}function qy(n,r){if(Fe){var a=Je.formState;if(a!==null){e:{var l=Ie;if(Fe){if(Bt){t:{for(var f=Bt,p=vi;f.nodeType!==8;){if(!p){f=null;break t}if(f=Jn(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Bt=Jn(f.nextSibling),l=f.data==="F!";break e}}Ws(l)}l=!1}l&&(r=a[0])}}return a=pn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fy,lastRenderedState:r},a.queue=l,a=o_.bind(null,Ie,l),l.dispatch=a,l=_d(!1),p=xd.bind(null,Ie,!1,l.queue),l=pn(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=K1.bind(null,Ie,f,p,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function Hy(n){var r=_t();return Gy(r,Qe,n)}function Gy(n,r,a){r=gd(n,r,Fy)[0],n=Lc(Wi)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?Cl(r):r;var l=_t(),f=l.queue,p=f.dispatch;return a!==l.memoizedState&&(Ie.flags|=2048,to(9,Q1.bind(null,f,a),{destroy:void 0},null)),[r,p,n]}function Q1(n,r){n.action=r}function $y(n){var r=_t(),a=Qe;if(a!==null)return Gy(r,a,n);_t(),r=r.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function to(n,r,a,l){return n={tag:n,create:r,inst:a,deps:l,next:null},r=Ie.updateQueue,r===null&&(r=Pc(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Ky(){return _t().memoizedState}function Uc(n,r,a,l){var f=pn();Ie.flags|=n,f.memoizedState=to(1|r,a,{destroy:void 0},l===void 0?null:l)}function zc(n,r,a,l){var f=_t();l=l===void 0?null:l;var p=f.memoizedState.inst;Qe!==null&&l!==null&&cd(l,Qe.memoizedState.deps)?f.memoizedState=to(r,a,p,l):(Ie.flags|=n,f.memoizedState=to(1|r,a,p,l))}function Qy(n,r){Uc(8390656,8,n,r)}function Ed(n,r){zc(2048,8,n,r)}function Yy(n,r){return zc(4,2,n,r)}function Xy(n,r){return zc(4,4,n,r)}function Wy(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Zy(n,r,a){a=a!=null?a.concat([n]):null,zc(4,4,Wy.bind(null,r,n),a)}function Td(){}function Jy(n,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&cd(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function e_(n,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&cd(r,l[1]))return l[0];if(l=n(),ea){li(!0);try{n()}finally{li(!1)}}return a.memoizedState=[l,r],l}function wd(n,r,a){return a===void 0||(zr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=nv(),Ie.lanes|=n,Xr|=n,a)}function t_(n,r,a,l){return wn(a,r)?a:Xa.current!==null?(n=wd(n,a,l),wn(n,r)||(Pt=!0),n):(zr&42)===0?(Pt=!0,n.memoizedState=a):(n=nv(),Ie.lanes|=n,Xr|=n,r)}function n_(n,r,a,l,f){var p=oe.p;oe.p=p!==0&&8>p?p:8;var T=R.T,b={};R.T=b,xd(n,!1,r,a);try{var N=f(),L=R.S;if(L!==null&&L(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Y=H1(N,l);Il(n,r,Y,Sn(n))}else Il(n,r,l,Sn(n))}catch(te){Il(n,r,{then:function(){},status:"rejected",reason:te},Sn())}finally{oe.p=p,R.T=T}}function Y1(){}function bd(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=i_(n).queue;n_(n,f,r,Re,a===null?Y1:function(){return r_(n),a(l)})}function i_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:Re,baseState:Re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:Re},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function r_(n){var r=i_(n).next.queue;Il(n,r,{},Sn())}function Ad(){return Yt(Yl)}function s_(){return _t().memoizedState}function a_(){return _t().memoizedState}function X1(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Sn();n=Hr(a);var l=Gr(r,n,a);l!==null&&(on(l,r,a),Ol(l,r,a)),r={cache:od()},n.payload=r;return}r=r.return}}function W1(n,r,a){var l=Sn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Bc(n)?l_(r,a):(a=ed(n,r,a,l),a!==null&&(on(a,n,l),u_(a,r,l)))}function o_(n,r,a){var l=Sn();Il(n,r,a,l)}function Il(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Bc(n))l_(r,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var T=r.lastRenderedState,b=p(T,a);if(f.hasEagerState=!0,f.eagerState=b,wn(b,T))return Ac(n,r,f,0),Je===null&&bc(),!1}catch{}finally{}if(a=ed(n,r,f,l),a!==null)return on(a,n,l),u_(a,r,l),!0}return!1}function xd(n,r,a,l){if(l={lane:2,revertLane:mm(),action:l,hasEagerState:!1,eagerState:null,next:null},Bc(n)){if(r)throw Error(s(479))}else r=ed(n,a,l,2),r!==null&&on(r,n,2)}function Bc(n){var r=n.alternate;return n===Ie||r!==null&&r===Ie}function l_(n,r){Ja=jc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function u_(n,r,a){if((a&4194176)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Rr(n,a)}}var Ti={readContext:Yt,use:Vc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt};Ti.useCacheRefresh=dt,Ti.useMemoCache=dt,Ti.useHostTransitionStatus=dt,Ti.useFormState=dt,Ti.useActionState=dt,Ti.useOptimistic=dt;var ta={readContext:Yt,use:Vc,useCallback:function(n,r){return pn().memoizedState=[n,r===void 0?null:r],n},useContext:Yt,useEffect:Qy,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Uc(4194308,4,Wy.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Uc(4194308,4,n,r)},useInsertionEffect:function(n,r){Uc(4,2,n,r)},useMemo:function(n,r){var a=pn();r=r===void 0?null:r;var l=n();if(ea){li(!0);try{n()}finally{li(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=pn();if(a!==void 0){var f=a(r);if(ea){li(!0);try{a(r)}finally{li(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=W1.bind(null,Ie,n),[l.memoizedState,n]},useRef:function(n){var r=pn();return n={current:n},r.memoizedState=n},useState:function(n){n=_d(n);var r=n.queue,a=o_.bind(null,Ie,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Td,useDeferredValue:function(n,r){var a=pn();return wd(a,n,r)},useTransition:function(){var n=_d(!1);return n=n_.bind(null,Ie,n.queue,!0,!1),pn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Ie,f=pn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Je===null)throw Error(s(349));(Le&60)!==0||Oy(l,r,a)}f.memoizedState=a;var p={value:a,getSnapshot:r};return f.queue=p,Qy(jy.bind(null,l,p,n),[n]),l.flags|=2048,to(9,ky.bind(null,l,p,a,r),{destroy:void 0},null),a},useId:function(){var n=pn(),r=Je.identifierPrefix;if(Fe){var a=Yi,l=Qi;a=(l&~(1<<32-nn(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=Mc++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=G1++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},useCacheRefresh:function(){return pn().memoizedState=X1.bind(null,Ie)}};ta.useMemoCache=pd,ta.useHostTransitionStatus=Ad,ta.useFormState=qy,ta.useActionState=qy,ta.useOptimistic=function(n){var r=pn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=xd.bind(null,Ie,!0,a),a.dispatch=r,[n,r]};var Br={readContext:Yt,use:Vc,useCallback:Jy,useContext:Yt,useEffect:Ed,useImperativeHandle:Zy,useInsertionEffect:Yy,useLayoutEffect:Xy,useMemo:e_,useReducer:Lc,useRef:Ky,useState:function(){return Lc(Wi)},useDebugValue:Td,useDeferredValue:function(n,r){var a=_t();return t_(a,Qe.memoizedState,n,r)},useTransition:function(){var n=Lc(Wi)[0],r=_t().memoizedState;return[typeof n=="boolean"?n:Cl(n),r]},useSyncExternalStore:Dy,useId:s_};Br.useCacheRefresh=a_,Br.useMemoCache=pd,Br.useHostTransitionStatus=Ad,Br.useFormState=Hy,Br.useActionState=Hy,Br.useOptimistic=function(n,r){var a=_t();return Vy(a,Qe,n,r)};var na={readContext:Yt,use:Vc,useCallback:Jy,useContext:Yt,useEffect:Ed,useImperativeHandle:Zy,useInsertionEffect:Yy,useLayoutEffect:Xy,useMemo:e_,useReducer:yd,useRef:Ky,useState:function(){return yd(Wi)},useDebugValue:Td,useDeferredValue:function(n,r){var a=_t();return Qe===null?wd(a,n,r):t_(a,Qe.memoizedState,n,r)},useTransition:function(){var n=yd(Wi)[0],r=_t().memoizedState;return[typeof n=="boolean"?n:Cl(n),r]},useSyncExternalStore:Dy,useId:s_};na.useCacheRefresh=a_,na.useMemoCache=pd,na.useHostTransitionStatus=Ad,na.useFormState=$y,na.useActionState=$y,na.useOptimistic=function(n,r){var a=_t();return Qe!==null?Vy(a,Qe,n,r):(a.baseState=n,[n,a.queue.dispatch])};function Sd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:D({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Rd={isMounted:function(n){return(n=n._reactInternals)?pe(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var l=Sn(),f=Hr(l);f.payload=r,a!=null&&(f.callback=a),r=Gr(n,f,l),r!==null&&(on(r,n,l),Ol(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=Sn(),f=Hr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Gr(n,f,l),r!==null&&(on(r,n,l),Ol(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Sn(),l=Hr(a);l.tag=2,r!=null&&(l.callback=r),r=Gr(n,l,a),r!==null&&(on(r,n,a),Ol(r,n,a))}};function c_(n,r,a,l,f,p,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,p,T):r.prototype&&r.prototype.isPureReactComponent?!gl(a,l)||!gl(f,p):!0}function h_(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Rd.enqueueReplaceState(r,r.state,null)}function ia(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=D({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Fc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function f_(n){Fc(n)}function d_(n){console.error(n)}function m_(n){Fc(n)}function qc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function p_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Cd(n,r,a){return a=Hr(a),a.tag=3,a.payload={element:null},a.callback=function(){qc(n,r)},a}function g_(n){return n=Hr(n),n.tag=3,n}function y_(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;n.payload=function(){return f(p)},n.callback=function(){p_(r,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){p_(r,a,l),typeof f!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function Z1(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Dl(r,a,f,!0),a=zn.current,a!==null){switch(a.tag){case 13:return Ei===null?um():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===rd?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),hm(n,l,f)),!1;case 22:return a.flags|=65536,l===rd?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),hm(n,l,f)),!1}throw Error(s(435,a.tag))}return hm(n,l,f),um(),!1}if(Fe)return r=zn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==id&&(n=Error(s(422),{cause:l}),El(Vn(n,a)))):(l!==id&&(r=Error(s(423),{cause:l}),El(Vn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Vn(l,a),f=Cd(n.stateNode,l,f),qd(n,f),ct!==4&&(ct=2)),!1;var p=Error(s(520),{cause:l});if(p=Vn(p,a),zl===null?zl=[p]:zl.push(p),ct!==4&&(ct=2),r===null)return!0;l=Vn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Cd(a.stateNode,l,n),qd(a,n),!1;case 1:if(r=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Wr===null||!Wr.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=g_(f),y_(f,n,a,l),qd(a,f),!1}a=a.return}while(a!==null);return!1}var __=Error(s(461)),Pt=!1;function Ft(n,r,a,l){r.child=n===null?by(r,null,a,l):Zs(r,n.child,a,l)}function v_(n,r,a,l,f){a=a.render;var p=r.ref;if("ref"in l){var T={};for(var b in l)b!=="ref"&&(T[b]=l[b])}else T=l;return sa(r),l=hd(n,r,a,T,p,f),b=fd(),n!==null&&!Pt?(dd(n,r,f),Zi(n,r,f)):(Fe&&b&&td(r),r.flags|=1,Ft(n,r,l,f),r.child)}function E_(n,r,a,l,f){if(n===null){var p=a.type;return typeof p=="function"&&!Wd(p)&&p.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=p,T_(n,r,p,l,f)):(n=Qc(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(p=n.child,!Vd(n,f)){var T=p.memoizedProps;if(a=a.compare,a=a!==null?a:gl,a(T,l)&&n.ref===r.ref)return Zi(n,r,f)}return r.flags|=1,n=Yr(p,l),n.ref=r.ref,n.return=r,r.child=n}function T_(n,r,a,l,f){if(n!==null){var p=n.memoizedProps;if(gl(p,l)&&n.ref===r.ref)if(Pt=!1,r.pendingProps=l=p,Vd(n,f))(n.flags&131072)!==0&&(Pt=!0);else return r.lanes=n.lanes,Zi(n,r,f)}return Id(n,r,a,l,f)}function w_(n,r,a){var l=r.pendingProps,f=l.children,p=(r.stateNode._pendingVisibility&2)!==0,T=n!==null?n.memoizedState:null;if(Nl(n,r),l.mode==="hidden"||p){if((r.flags&128)!==0){if(l=T!==null?T.baseLanes|a:a,n!==null){for(f=r.child=n.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;r.childLanes=p&~l}else r.childLanes=0,r.child=null;return b_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&kc(r,T!==null?T.cachePool:null),T!==null?Ay(r,T):sd(),xy(r);else return r.lanes=r.childLanes=536870912,b_(n,r,T!==null?T.baseLanes|a:a,a)}else T!==null?(kc(r,T.cachePool),Ay(r,T),Ur(),r.memoizedState=null):(n!==null&&kc(r,null),sd(),Ur());return Ft(n,r,f,a),r.child}function b_(n,r,a,l){var f=ud();return f=f===null?null:{parent:It._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&kc(r,null),sd(),xy(r),n!==null&&Dl(n,r,l,!0),null}function Nl(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=2097664)}}function Id(n,r,a,l,f){return sa(r),a=hd(n,r,a,l,void 0,f),l=fd(),n!==null&&!Pt?(dd(n,r,f),Zi(n,r,f)):(Fe&&l&&td(r),r.flags|=1,Ft(n,r,a,f),r.child)}function A_(n,r,a,l,f,p){return sa(r),r.updateQueue=null,a=Ny(r,l,a,f),Iy(n),l=fd(),n!==null&&!Pt?(dd(n,r,p),Zi(n,r,p)):(Fe&&l&&td(r),r.flags|=1,Ft(n,r,a,p),r.child)}function x_(n,r,a,l,f){if(sa(r),r.stateNode===null){var p=$a,T=a.contextType;typeof T=="object"&&T!==null&&(p=Yt(T)),p=new a(l,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Rd,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=l,p.state=r.memoizedState,p.refs={},Bd(r),T=a.contextType,p.context=typeof T=="object"&&T!==null?Yt(T):$a,p.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Sd(r,a,T,l),p.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Rd.enqueueReplaceState(p,p.state,null),jl(r,l,p,f),kl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){p=r.stateNode;var b=r.memoizedProps,N=ia(a,b);p.props=N;var L=p.context,Y=a.contextType;T=$a,typeof Y=="object"&&Y!==null&&(T=Yt(Y));var te=a.getDerivedStateFromProps;Y=typeof te=="function"||typeof p.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,Y||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b||L!==T)&&h_(r,p,l,T),qr=!1;var H=r.memoizedState;p.state=H,jl(r,l,p,f),kl(),L=r.memoizedState,b||H!==L||qr?(typeof te=="function"&&(Sd(r,a,te,l),L=r.memoizedState),(N=qr||c_(r,a,N,l,H,L,T))?(Y||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=L),p.props=l,p.state=L,p.context=T,l=N):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,Fd(n,r),T=r.memoizedProps,Y=ia(a,T),p.props=Y,te=r.pendingProps,H=p.context,L=a.contextType,N=$a,typeof L=="object"&&L!==null&&(N=Yt(L)),b=a.getDerivedStateFromProps,(L=typeof b=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==te||H!==N)&&h_(r,p,l,N),qr=!1,H=r.memoizedState,p.state=H,jl(r,l,p,f),kl();var K=r.memoizedState;T!==te||H!==K||qr||n!==null&&n.dependencies!==null&&Hc(n.dependencies)?(typeof b=="function"&&(Sd(r,a,b,l),K=r.memoizedState),(Y=qr||c_(r,a,Y,l,H,K,N)||n!==null&&n.dependencies!==null&&Hc(n.dependencies))?(L||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,K,N),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,K,N)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),p.props=l,p.state=K,p.context=N,l=Y):(typeof p.componentDidUpdate!="function"||T===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),l=!1)}return p=l,Nl(n,r),l=(r.flags&128)!==0,p||l?(p=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,n!==null&&l?(r.child=Zs(r,n.child,null,f),r.child=Zs(r,null,a,f)):Ft(n,r,a,f),r.memoizedState=p.state,n=r.child):n=Zi(n,r,f),n}function S_(n,r,a,l){return vl(),r.flags|=256,Ft(n,r,a,l),r.child}var Nd={dehydrated:null,treeContext:null,retryLane:0};function Dd(n){return{baseLanes:n,cachePool:Cy()}}function Od(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Hn),n}function R_(n,r,a){var l=r.pendingProps,f=!1,p=(r.flags&128)!==0,T;if((T=p)||(T=n!==null&&n.memoizedState===null?!1:(Ct.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,n===null){if(Fe){if(f?Lr(r):Ur(),Fe){var b=Bt,N;if(N=b){e:{for(N=b,b=vi;N.nodeType!==8;){if(!b){b=null;break e}if(N=Jn(N.nextSibling),N===null){b=null;break e}}b=N}b!==null?(r.memoizedState={dehydrated:b,treeContext:Ys!==null?{id:Qi,overflow:Yi}:null,retryLane:536870912},N=qn(18,null,null,0),N.stateNode=b,N.return=r,r.child=N,an=r,Bt=null,N=!0):N=!1}N||Ws(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return b.data==="$!"?r.lanes=16:r.lanes=536870912,null;Xi(r)}return b=l.children,l=l.fallback,f?(Ur(),f=r.mode,b=jd({mode:"hidden",children:b},f),l=oa(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,f=r.child,f.memoizedState=Dd(a),f.childLanes=Od(n,T,a),r.memoizedState=Nd,l):(Lr(r),kd(r,b))}if(N=n.memoizedState,N!==null&&(b=N.dehydrated,b!==null)){if(p)r.flags&256?(Lr(r),r.flags&=-257,r=Md(n,r,a)):r.memoizedState!==null?(Ur(),r.child=n.child,r.flags|=128,r=null):(Ur(),f=l.fallback,b=r.mode,l=jd({mode:"visible",children:l.children},b),f=oa(f,b,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Zs(r,n.child,null,a),l=r.child,l.memoizedState=Dd(a),l.childLanes=Od(n,T,a),r.memoizedState=Nd,r=f);else if(Lr(r),b.data==="$!"){if(T=b.nextSibling&&b.nextSibling.dataset,T)var L=T.dgst;T=L,l=Error(s(419)),l.stack="",l.digest=T,El({value:l,source:null,stack:null}),r=Md(n,r,a)}else if(Pt||Dl(n,r,a,!1),T=(a&n.childLanes)!==0,Pt||T){if(T=Je,T!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane)throw N.retryLane=l,Vr(n,l),on(T,n,l),__}b.data==="$?"||um(),r=Md(n,r,a)}else b.data==="$?"?(r.flags|=128,r.child=n.child,r=dA.bind(null,n),b._reactRetry=r,r=null):(n=N.treeContext,Bt=Jn(b.nextSibling),an=r,Fe=!0,Wn=null,vi=!1,n!==null&&(Ln[Un++]=Qi,Ln[Un++]=Yi,Ln[Un++]=Ys,Qi=n.id,Yi=n.overflow,Ys=r),r=kd(r,l.children),r.flags|=4096);return r}return f?(Ur(),f=l.fallback,b=r.mode,N=n.child,L=N.sibling,l=Yr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&31457280,L!==null?f=Yr(L,f):(f=oa(f,b,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,b=n.child.memoizedState,b===null?b=Dd(a):(N=b.cachePool,N!==null?(L=It._currentValue,N=N.parent!==L?{parent:L,pool:L}:N):N=Cy(),b={baseLanes:b.baseLanes|a,cachePool:N}),f.memoizedState=b,f.childLanes=Od(n,T,a),r.memoizedState=Nd,l):(Lr(r),a=n.child,n=a.sibling,a=Yr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(T=r.deletions,T===null?(r.deletions=[n],r.flags|=16):T.push(n)),r.child=a,r.memoizedState=null,a)}function kd(n,r){return r=jd({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function jd(n,r){return J_(n,r,0,null)}function Md(n,r,a){return Zs(r,n.child,null,a),n=kd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function C_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Ud(n.return,r,a)}function Pd(n,r,a,l,f){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=f)}function I_(n,r,a){var l=r.pendingProps,f=l.revealOrder,p=l.tail;if(Ft(n,r,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&C_(n,a,r);else if(n.tag===19)C_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(Ke(Ct,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&Oc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Pd(r,!1,f,a,p);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Oc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Pd(r,!0,a,null,p);break;case"together":Pd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Zi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Xr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Dl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Yr(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Yr(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Vd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Hc(n)))}function J1(n,r,a){switch(r.tag){case 3:Tr(r,r.stateNode.containerInfo),Fr(r,It,n.memoizedState.cache),vl();break;case 27:case 5:Yo(r);break;case 4:Tr(r,r.stateNode.containerInfo);break;case 10:Fr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Lr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?R_(n,r,a):(Lr(r),n=Zi(n,r,a),n!==null?n.sibling:null);Lr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Dl(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return I_(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ke(Ct,Ct.current),l)break;return null;case 22:case 23:return r.lanes=0,w_(n,r,a);case 24:Fr(r,It,n.memoizedState.cache)}return Zi(n,r,a)}function N_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Pt=!0;else{if(!Vd(n,a)&&(r.flags&128)===0)return Pt=!1,J1(n,r,a);Pt=(n.flags&131072)!==0}else Pt=!1,Fe&&(r.flags&1048576)!==0&&my(r,Rc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Wd(l)?(n=ia(l,n),r.tag=1,r=x_(null,r,l,n,a)):(r.tag=0,r=Id(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===k){r.tag=11,r=v_(null,r,l,n,a);break e}else if(f===Q){r.tag=14,r=E_(null,r,l,n,a);break e}}throw r=I(l)||l,Error(s(306,r,""))}}return r;case 0:return Id(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ia(l,r.pendingProps),x_(n,r,l,f,a);case 3:e:{if(Tr(r,r.stateNode.containerInfo),n===null)throw Error(s(387));var p=r.pendingProps;f=r.memoizedState,l=f.element,Fd(n,r),jl(r,p,null,a);var T=r.memoizedState;if(p=T.cache,Fr(r,It,p),p!==f.cache&&zd(r,[It],a,!0),kl(),p=T.element,f.isDehydrated)if(f={element:p,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=S_(n,r,p,a);break e}else if(p!==l){l=Vn(Error(s(424)),r),El(l),r=S_(n,r,p,a);break e}else for(Bt=Jn(r.stateNode.containerInfo.firstChild),an=r,Fe=!0,Wn=null,vi=!0,a=by(r,null,p,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(vl(),p===l){r=Zi(n,r,a);break e}Ft(n,r,p,a)}r=r.child}return r;case 26:return Nl(n,r),n===null?(a=kv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Fe||(a=r.type,n=r.pendingProps,l=ah(In.current).createElement(a),l[kt]=r,l[xt]=n,qt(l,a,n),it(l),r.stateNode=l):r.memoizedState=kv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Yo(r),n===null&&Fe&&(l=r.stateNode=Nv(r.type,r.pendingProps,In.current),an=r,vi=!0,Bt=Jn(l.firstChild)),l=r.pendingProps.children,n!==null||Fe?Ft(n,r,l,a):r.child=Zs(r,null,l,a),Nl(n,r),r.child;case 5:return n===null&&Fe&&((f=l=Bt)&&(l=IA(l,r.type,r.pendingProps,vi),l!==null?(r.stateNode=l,an=r,Bt=Jn(l.firstChild),vi=!1,f=!0):f=!1),f||Ws(r)),Yo(r),f=r.type,p=r.pendingProps,T=n!==null?n.memoizedProps:null,l=p.children,bm(f,p)?l=null:T!==null&&bm(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=hd(n,r,$1,null,null,a),Yl._currentValue=f),Nl(n,r),Ft(n,r,l,a),r.child;case 6:return n===null&&Fe&&((n=a=Bt)&&(a=NA(a,r.pendingProps,vi),a!==null?(r.stateNode=a,an=r,Bt=null,n=!0):n=!1),n||Ws(r)),null;case 13:return R_(n,r,a);case 4:return Tr(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Zs(r,null,l,a):Ft(n,r,l,a),r.child;case 11:return v_(n,r,r.type,r.pendingProps,a);case 7:return Ft(n,r,r.pendingProps,a),r.child;case 8:return Ft(n,r,r.pendingProps.children,a),r.child;case 12:return Ft(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Fr(r,r.type,l.value),Ft(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,sa(r),f=Yt(f),l=l(f),r.flags|=1,Ft(n,r,l,a),r.child;case 14:return E_(n,r,r.type,r.pendingProps,a);case 15:return T_(n,r,r.type,r.pendingProps,a);case 19:return I_(n,r,a);case 22:return w_(n,r,a);case 24:return sa(r),l=Yt(It),n===null?(f=ud(),f===null&&(f=Je,p=od(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),r.memoizedState={parent:l,cache:f},Bd(r),Fr(r,It,f)):((n.lanes&a)!==0&&(Fd(n,r),jl(r,null,null,a),kl()),f=n.memoizedState,p=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Fr(r,It,l)):(l=p.cache,Fr(r,It,l),l!==f.cache&&zd(r,[It],a,!0))),Ft(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var Ld=ze(null),ra=null,Ji=null;function Fr(n,r,a){Ke(Ld,r._currentValue),r._currentValue=a}function er(n){n._currentValue=Ld.current,ot(Ld)}function Ud(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function zd(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var T=f.child;p=p.firstContext;e:for(;p!==null;){var b=p;p=f;for(var N=0;N<r.length;N++)if(b.context===r[N]){p.lanes|=a,b=p.alternate,b!==null&&(b.lanes|=a),Ud(p.return,a,n),l||(T=null);break e}p=b.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,p=T.alternate,p!==null&&(p.lanes|=a),Ud(T,a,n),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===n){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Dl(n,r,a,l){n=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var b=f.type;wn(f.pendingProps.value,T.value)||(n!==null?n.push(b):n=[b])}}else if(f===Er.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Yl):n=[Yl])}f=f.return}n!==null&&zd(r,n,a,l),r.flags|=262144}function Hc(n){for(n=n.firstContext;n!==null;){if(!wn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function sa(n){ra=n,Ji=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Yt(n){return D_(ra,n)}function Gc(n,r){return ra===null&&sa(n),D_(n,r)}function D_(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Ji===null){if(n===null)throw Error(s(308));Ji=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Ji=Ji.next=r;return a}var qr=!1;function Bd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Hr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Gr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(st&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=xc(n),fy(n,null,a),r}return Ac(n,l,r,a),xc(n)}function Ol(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Rr(n,a)}}function qd(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=T:p=p.next=T,a=a.next}while(a!==null);p===null?f=p=r:p=p.next=r}else f=p=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Hd=!1;function kl(){if(Hd){var n=Za;if(n!==null)throw n}}function jl(n,r,a,l){Hd=!1;var f=n.updateQueue;qr=!1;var p=f.firstBaseUpdate,T=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var N=b,L=N.next;N.next=null,T===null?p=L:T.next=L,T=N;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,b=Y.lastBaseUpdate,b!==T&&(b===null?Y.firstBaseUpdate=L:b.next=L,Y.lastBaseUpdate=N))}if(p!==null){var te=f.baseState;T=0,Y=L=N=null,b=p;do{var H=b.lane&-536870913,K=H!==b.lane;if(K?(Le&H)===H:(l&H)===H){H!==0&&H===Wa&&(Hd=!0),Y!==null&&(Y=Y.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var fe=n,be=b;H=r;var ht=a;switch(be.tag){case 1:if(fe=be.payload,typeof fe=="function"){te=fe.call(ht,te,H);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=be.payload,H=typeof fe=="function"?fe.call(ht,te,H):fe,H==null)break e;te=D({},te,H);break e;case 2:qr=!0}}H=b.callback,H!==null&&(n.flags|=64,K&&(n.flags|=8192),K=f.callbacks,K===null?f.callbacks=[H]:K.push(H))}else K={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Y===null?(L=Y=K,N=te):Y=Y.next=K,T|=H;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;K=b,b=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);Y===null&&(N=te),f.baseState=N,f.firstBaseUpdate=L,f.lastBaseUpdate=Y,p===null&&(f.shared.lanes=0),Xr|=T,n.lanes=T,n.memoizedState=te}}function O_(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function k_(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)O_(a[n],r)}function Ml(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var p=a.create,T=a.inst;l=p(),T.destroy=l}a=a.next}while(a!==f)}}catch(b){Ze(r,r.return,b)}}function $r(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&n)===n){var T=l.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,f=r;var N=a;try{b()}catch(L){Ze(f,N,L)}}}l=l.next}while(l!==p)}}catch(L){Ze(r,r.return,L)}}function j_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{k_(r,a)}catch(l){Ze(n,n.return,l)}}}function M_(n,r,a){a.props=ia(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(n,r,l)}}function aa(n,r){try{var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(p){Ze(n,r,p)}}function bn(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ze(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ze(n,r,f)}else a.current=null}function P_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ze(n,n.return,f)}}function V_(n,r,a){try{var l=n.stateNode;AA(l,n.type,a,r),l[xt]=r}catch(f){Ze(n,n.return,f)}}function L_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Gd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||L_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function $d(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=sh));else if(l!==4&&l!==27&&(n=n.child,n!==null))for($d(n,r,a),n=n.sibling;n!==null;)$d(n,r,a),n=n.sibling}function $c(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for($c(n,r,a),n=n.sibling;n!==null;)$c(n,r,a),n=n.sibling}var tr=!1,ut=!1,Kd=!1,U_=typeof WeakSet=="function"?WeakSet:Set,Vt=null,z_=!1;function eA(n,r){if(n=n.containerInfo,Tm=fh,n=iy(n),Yf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var T=0,b=-1,N=-1,L=0,Y=0,te=n,H=null;t:for(;;){for(var K;te!==a||f!==0&&te.nodeType!==3||(b=T+f),te!==p||l!==0&&te.nodeType!==3||(N=T+l),te.nodeType===3&&(T+=te.nodeValue.length),(K=te.firstChild)!==null;)H=te,te=K;for(;;){if(te===n)break t;if(H===a&&++L===f&&(b=T),H===p&&++Y===l&&(N=T),(K=te.nextSibling)!==null)break;te=H,H=te.parentNode}te=K}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(wm={focusedElem:n,selectionRange:a},fh=!1,Vt=r;Vt!==null;)if(r=Vt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Vt=n;else for(;Vt!==null;){switch(r=Vt,p=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,a=r,f=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var fe=ia(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(fe,p),l.__reactInternalSnapshotBeforeUpdate=n}catch(be){Ze(a,a.return,be)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Sm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Sm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Vt=n;break}Vt=r.return}return fe=z_,z_=!1,fe}function B_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ir(n,a),l&4&&Ml(5,a);break;case 1:if(ir(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(b){Ze(a,a.return,b)}else{var f=ia(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(b){Ze(a,a.return,b)}}l&64&&j_(a),l&512&&aa(a,a.return);break;case 3:if(ir(n,a),l&64&&(l=a.updateQueue,l!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{k_(l,n)}catch(b){Ze(a,a.return,b)}}break;case 26:ir(n,a),l&512&&aa(a,a.return);break;case 27:case 5:ir(n,a),r===null&&l&4&&P_(a),l&512&&aa(a,a.return);break;case 12:ir(n,a);break;case 13:ir(n,a),l&4&&H_(n,a);break;case 22:if(f=a.memoizedState!==null||tr,!f){r=r!==null&&r.memoizedState!==null||ut;var p=tr,T=ut;tr=f,(ut=r)&&!T?Kr(n,a,(a.subtreeFlags&8772)!==0):ir(n,a),tr=p,ut=T}l&512&&(a.memoizedProps.mode==="manual"?aa(a,a.return):bn(a,a.return));break;default:ir(n,a)}}function F_(n){var r=n.alternate;r!==null&&(n.alternate=null,F_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Ps(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var vt=null,An=!1;function nr(n,r,a){for(a=a.child;a!==null;)q_(n,r,a),a=a.sibling}function q_(n,r,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(wr,a)}catch{}switch(a.tag){case 26:ut||bn(a,r),nr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||bn(a,r);var l=vt,f=An;for(vt=a.stateNode,nr(n,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);Ps(a),vt=l,An=f;break;case 5:ut||bn(a,r);case 6:f=vt;var p=An;if(vt=null,nr(n,r,a),vt=f,An=p,vt!==null)if(An)try{n=vt,l=a.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(T){Ze(a,r,T)}else try{vt.removeChild(a.stateNode)}catch(T){Ze(a,r,T)}break;case 18:vt!==null&&(An?(r=vt,a=a.stateNode,r.nodeType===8?xm(r.parentNode,a):r.nodeType===1&&xm(r,a),Jl(r)):xm(vt,a.stateNode));break;case 4:l=vt,f=An,vt=a.stateNode.containerInfo,An=!0,nr(n,r,a),vt=l,An=f;break;case 0:case 11:case 14:case 15:ut||$r(2,a,r),ut||$r(4,a,r),nr(n,r,a);break;case 1:ut||(bn(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&M_(a,r,l)),nr(n,r,a);break;case 21:nr(n,r,a);break;case 22:ut||bn(a,r),ut=(l=ut)||a.memoizedState!==null,nr(n,r,a),ut=l;break;default:nr(n,r,a)}}function H_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Jl(n)}catch(a){Ze(r,r.return,a)}}function tA(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new U_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new U_),r;default:throw Error(s(435,n.tag))}}function Qd(n,r){var a=tA(n);r.forEach(function(l){var f=mA.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function Bn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],p=n,T=r,b=T;e:for(;b!==null;){switch(b.tag){case 27:case 5:vt=b.stateNode,An=!1;break e;case 3:vt=b.stateNode.containerInfo,An=!0;break e;case 4:vt=b.stateNode.containerInfo,An=!0;break e}b=b.return}if(vt===null)throw Error(s(160));q_(p,T,f),vt=null,An=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)G_(r,n),r=r.sibling}var Zn=null;function G_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Bn(r,n),Fn(n),l&4&&($r(3,n,n.return),Ml(3,n),$r(5,n,n.return));break;case 1:Bn(r,n),Fn(n),l&512&&(ut||a===null||bn(a,a.return)),l&64&&tr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Zn;if(Bn(r,n),Fn(n),l&512&&(ut||a===null||bn(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Ir]||p[kt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),qt(p,l,a),p[kt]=n,it(p),l=p;break e;case"link":var T=Pv("link","href",f).get(l+(a.href||""));if(T){for(var b=0;b<T.length;b++)if(p=T[b],p.getAttribute("href")===(a.href==null?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(b,1);break t}}p=f.createElement(l),qt(p,l,a),f.head.appendChild(p);break;case"meta":if(T=Pv("meta","content",f).get(l+(a.content||""))){for(b=0;b<T.length;b++)if(p=T[b],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(b,1);break t}}p=f.createElement(l),qt(p,l,a),f.head.appendChild(p);break;default:throw Error(s(468,l))}p[kt]=n,it(p),l=p}n.stateNode=l}else Vv(f,n.type,n.stateNode);else n.stateNode=Mv(f,l,n.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?Vv(f,n.type,n.stateNode):Mv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&V_(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){f=n.stateNode,p=n.memoizedProps;try{for(var N=f.firstChild;N;){var L=N.nextSibling,Y=N.nodeName;N[Ir]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&N.rel.toLowerCase()==="stylesheet"||f.removeChild(N),N=L}for(var te=n.type,H=f.attributes;H.length;)f.removeAttributeNode(H[0]);qt(f,te,p),f[kt]=n,f[xt]=p}catch(fe){Ze(n,n.return,fe)}}case 5:if(Bn(r,n),Fn(n),l&512&&(ut||a===null||bn(a,a.return)),n.flags&32){f=n.stateNode;try{On(f,"")}catch(fe){Ze(n,n.return,fe)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,V_(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Kd=!0);break;case 6:if(Bn(r,n),Fn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(fe){Ze(n,n.return,fe)}}break;case 3:if(uh=null,f=Zn,Zn=oh(r.containerInfo),Bn(r,n),Zn=f,Fn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Jl(r.containerInfo)}catch(fe){Ze(n,n.return,fe)}Kd&&(Kd=!1,$_(n));break;case 4:l=Zn,Zn=oh(n.stateNode.containerInfo),Bn(r,n),Fn(n),Zn=l;break;case 12:Bn(r,n),Fn(n);break;case 13:Bn(r,n),Fn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(im=dn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Qd(n,l)));break;case 22:if(l&512&&(ut||a===null||bn(a,a.return)),N=n.memoizedState!==null,L=a!==null&&a.memoizedState!==null,Y=tr,te=ut,tr=Y||N,ut=te||L,Bn(r,n),ut=te,tr=Y,Fn(n),r=n.stateNode,r._current=n,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=N?r._visibility&-2:r._visibility|1,N&&(r=tr||ut,a===null||L||r||no(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,r=n;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){L=a=r;try{if(f=L.stateNode,N)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=L.stateNode,b=L.memoizedProps.style;var K=b!=null&&b.hasOwnProperty("display")?b.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(fe){Ze(L,L.return,fe)}}}else if(r.tag===6){if(a===null){L=r;try{L.stateNode.nodeValue=N?"":L.memoizedProps}catch(fe){Ze(L,L.return,fe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Qd(n,a))));break;case 19:Bn(r,n),Fn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Qd(n,l)));break;case 21:break;default:Bn(r,n),Fn(n)}}function Fn(n){var r=n.flags;if(r&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(L_(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var f=l.stateNode,p=Gd(n);$c(n,p,f);break;case 5:var T=l.stateNode;l.flags&32&&(On(T,""),l.flags&=-33);var b=Gd(n);$c(n,b,T);break;case 3:case 4:var N=l.stateNode.containerInfo,L=Gd(n);$d(n,L,N);break;default:throw Error(s(161))}}}catch(Y){Ze(n,n.return,Y)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function $_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;$_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function ir(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)B_(n,r.alternate,r),r=r.sibling}function no(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:$r(4,r,r.return),no(r);break;case 1:bn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&M_(r,r.return,a),no(r);break;case 26:case 27:case 5:bn(r,r.return),no(r);break;case 22:bn(r,r.return),r.memoizedState===null&&no(r);break;default:no(r)}n=n.sibling}}function Kr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,p=r,T=p.flags;switch(p.tag){case 0:case 11:case 15:Kr(f,p,a),Ml(4,p);break;case 1:if(Kr(f,p,a),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(L){Ze(l,l.return,L)}if(l=p,f=l.updateQueue,f!==null){var b=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)O_(N[f],b)}catch(L){Ze(l,l.return,L)}}a&&T&64&&j_(p),aa(p,p.return);break;case 26:case 27:case 5:Kr(f,p,a),a&&l===null&&T&4&&P_(p),aa(p,p.return);break;case 12:Kr(f,p,a);break;case 13:Kr(f,p,a),a&&T&4&&H_(f,p);break;case 22:p.memoizedState===null&&Kr(f,p,a),aa(p,p.return);break;default:Kr(f,p,a)}r=r.sibling}}function Yd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&xl(a))}function Xd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&xl(n))}function Qr(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)K_(n,r,a,l),r=r.sibling}function K_(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Qr(n,r,a,l),f&2048&&Ml(9,r);break;case 3:Qr(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&xl(n)));break;case 12:if(f&2048){Qr(n,r,a,l),n=r.stateNode;try{var p=r.memoizedProps,T=p.id,b=p.onPostCommit;typeof b=="function"&&b(T,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){Ze(r,r.return,N)}}else Qr(n,r,a,l);break;case 23:break;case 22:p=r.stateNode,r.memoizedState!==null?p._visibility&4?Qr(n,r,a,l):Pl(n,r):p._visibility&4?Qr(n,r,a,l):(p._visibility|=4,io(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Yd(r.alternate,r);break;case 24:Qr(n,r,a,l),f&2048&&Xd(r.alternate,r);break;default:Qr(n,r,a,l)}}function io(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=n,T=r,b=a,N=l,L=T.flags;switch(T.tag){case 0:case 11:case 15:io(p,T,b,N,f),Ml(8,T);break;case 23:break;case 22:var Y=T.stateNode;T.memoizedState!==null?Y._visibility&4?io(p,T,b,N,f):Pl(p,T):(Y._visibility|=4,io(p,T,b,N,f)),f&&L&2048&&Yd(T.alternate,T);break;case 24:io(p,T,b,N,f),f&&L&2048&&Xd(T.alternate,T);break;default:io(p,T,b,N,f)}r=r.sibling}}function Pl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:Pl(a,l),f&2048&&Yd(l.alternate,l);break;case 24:Pl(a,l),f&2048&&Xd(l.alternate,l);break;default:Pl(a,l)}r=r.sibling}}var Vl=8192;function ro(n){if(n.subtreeFlags&Vl)for(n=n.child;n!==null;)Q_(n),n=n.sibling}function Q_(n){switch(n.tag){case 26:ro(n),n.flags&Vl&&n.memoizedState!==null&&qA(Zn,n.memoizedState,n.memoizedProps);break;case 5:ro(n);break;case 3:case 4:var r=Zn;Zn=oh(n.stateNode.containerInfo),ro(n),Zn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Vl,Vl=16777216,ro(n),Vl=r):ro(n));break;default:ro(n)}}function Y_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Ll(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Vt=l,W_(l,n)}Y_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)X_(n),n=n.sibling}function X_(n){switch(n.tag){case 0:case 11:case 15:Ll(n),n.flags&2048&&$r(9,n,n.return);break;case 3:Ll(n);break;case 12:Ll(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&4&&(n.return===null||n.return.tag!==13)?(r._visibility&=-5,Kc(n)):Ll(n);break;default:Ll(n)}}function Kc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Vt=l,W_(l,n)}Y_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:$r(8,r,r.return),Kc(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Kc(r));break;default:Kc(r)}n=n.sibling}}function W_(n,r){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:$r(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=n;Vt!==null;){l=Vt;var f=l.sibling,p=l.return;if(F_(l),l===a){Vt=null;break e}if(f!==null){f.return=p,Vt=f;break e}Vt=p}}}function nA(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(n,r,a,l){return new nA(n,r,a,l)}function Wd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Yr(n,r){var a=n.alternate;return a===null?(a=qn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Z_(n,r){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Qc(n,r,a,l,f,p){var T=0;if(l=n,typeof n=="function")Wd(n)&&(T=1);else if(typeof n=="string")T=BA(n,a,tn.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case m:return oa(a.children,f,p,r);case y:T=8,f|=24;break;case v:return n=qn(12,a,r,f|2),n.elementType=v,n.lanes=p,n;case $:return n=qn(13,a,r,f),n.elementType=$,n.lanes=p,n;case U:return n=qn(19,a,r,f),n.elementType=U,n.lanes=p,n;case J:return J_(a,f,p,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case A:case C:T=10;break e;case x:T=9;break e;case k:T=11;break e;case Q:T=14;break e;case ee:T=16,l=null;break e}T=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=qn(T,a,r,f),r.elementType=n,r.type=l,r.lanes=p,r}function oa(n,r,a,l){return n=qn(7,n,l,r),n.lanes=a,n}function J_(n,r,a,l){n=qn(22,n,l,r),n.elementType=J,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var p=f._current;if(p===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var T=Vr(p,2);T!==null&&(f._pendingVisibility|=2,on(T,p,2))}},attach:function(){var p=f._current;if(p===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var T=Vr(p,2);T!==null&&(f._pendingVisibility&=-3,on(T,p,2))}}};return n.stateNode=f,n}function Zd(n,r,a){return n=qn(6,n,null,r),n.lanes=a,n}function Jd(n,r,a){return r=qn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function rr(n){n.flags|=4}function ev(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Lv(r)){if(r=zn.current,r!==null&&((Le&4194176)===Le?Ei!==null:(Le&62914560)!==Le&&(Le&536870912)===0||r!==Ei))throw wl=rd,yy;n.flags|=8192}}function Yc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?xr():536870912,n.lanes|=r,ao|=r)}function Ul(n,r){if(!Fe)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function rt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function iA(n,r,a){var l=r.pendingProps;switch(nd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(r),null;case 1:return rt(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),er(It),Vi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(_l(r)?rr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Wn!==null&&(om(Wn),Wn=null))),rt(r),null;case 26:return a=r.memoizedState,n===null?(rr(r),a!==null?(rt(r),ev(r,a)):(rt(r),r.flags&=-16777217)):a?a!==n.memoizedState?(rr(r),rt(r),ev(r,a)):(rt(r),r.flags&=-16777217):(n.memoizedProps!==l&&rr(r),rt(r),r.flags&=-16777217),null;case 27:xa(r),a=In.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&rr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}n=tn.current,_l(r)?py(r):(n=Nv(f,l,a),r.stateNode=n,rr(r))}return rt(r),null;case 5:if(xa(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&rr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}if(n=tn.current,_l(r))py(r);else{switch(f=ah(In.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[kt]=r,n[xt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(qt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&rr(r)}}return rt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&rr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=In.current,_l(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=an,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[kt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Av(n.nodeValue,a)),n||Ws(r)}else n=ah(n).createTextNode(l),n[kt]=r,r.stateNode=n}return rt(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=_l(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[kt]=r}else vl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),f=!1}else Wn!==null&&(om(Wn),Wn=null),f=!0;if(!f)return r.flags&256?(Xi(r),r):(Xi(r),null)}if(Xi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Yc(r,r.updateQueue),rt(r),null;case 4:return Vi(),n===null&&_m(r.stateNode.containerInfo),rt(r),null;case 10:return er(r.type),rt(r),null;case 19:if(ot(Ct),f=r.memoizedState,f===null)return rt(r),null;if(l=(r.flags&128)!==0,p=f.rendering,p===null)if(l)Ul(f,!1);else{if(ct!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(p=Oc(n),p!==null){for(r.flags|=128,Ul(f,!1),n=p.updateQueue,r.updateQueue=n,Yc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Z_(a,n),a=a.sibling;return Ke(Ct,Ct.current&1|2),r.child}n=n.sibling}f.tail!==null&&dn()>Xc&&(r.flags|=128,l=!0,Ul(f,!1),r.lanes=4194304)}else{if(!l)if(n=Oc(p),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Yc(r,n),Ul(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Fe)return rt(r),null}else 2*dn()-f.renderingStartTime>Xc&&a!==536870912&&(r.flags|=128,l=!0,Ul(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(n=f.last,n!==null?n.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=dn(),r.sibling=null,n=Ct.current,Ke(Ct,l?n&1|2:n&1),r):(rt(r),null);case 22:case 23:return Xi(r),ad(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(rt(r),r.subtreeFlags&6&&(r.flags|=8192)):rt(r),a=r.updateQueue,a!==null&&Yc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ot(Js),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),er(It),rt(r),null;case 25:return null}throw Error(s(156,r.tag))}function rA(n,r){switch(nd(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return er(It),Vi(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return xa(r),null;case 13:if(Xi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));vl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ot(Ct),null;case 4:return Vi(),null;case 10:return er(r.type),null;case 22:case 23:return Xi(r),ad(),n!==null&&ot(Js),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return er(It),null;case 25:return null;default:return null}}function tv(n,r){switch(nd(r),r.tag){case 3:er(It),Vi();break;case 26:case 27:case 5:xa(r);break;case 4:Vi();break;case 13:Xi(r);break;case 19:ot(Ct);break;case 10:er(r.type);break;case 22:case 23:Xi(r),ad(),n!==null&&ot(Js);break;case 24:er(It)}}var sA={getCacheForType:function(n){var r=Yt(It),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},aA=typeof WeakMap=="function"?WeakMap:Map,st=0,Je=null,De=null,Le=0,et=0,xn=null,sr=!1,so=!1,em=!1,ar=0,ct=0,Xr=0,la=0,tm=0,Hn=0,ao=0,zl=null,wi=null,nm=!1,im=0,Xc=1/0,Wc=null,Wr=null,Zc=!1,ua=null,Bl=0,rm=0,sm=null,Fl=0,am=null;function Sn(){if((st&2)!==0&&Le!==0)return Le&-Le;if(R.T!==null){var n=Wa;return n!==0?n:mm()}return rc()}function nv(){Hn===0&&(Hn=(Le&536870912)===0||Fe?el():536870912);var n=zn.current;return n!==null&&(n.flags|=32),Hn}function on(n,r,a){(n===Je&&et===2||n.cancelPendingCommit!==null)&&(oo(n,0),or(n,Le,Hn,!1)),ft(n,a),((st&2)===0||n!==Je)&&(n===Je&&((st&2)===0&&(la|=a),ct===4&&or(n,Le,Hn,!1)),bi(n))}function iv(n,r,a){if((st&6)!==0)throw Error(s(327));var l=!a&&(r&60)===0&&(r&n.expiredLanes)===0||Ar(n,r),f=l?uA(n,r):cm(n,r,!0),p=l;do{if(f===0){so&&!l&&or(n,r,0,!1);break}else if(f===6)or(n,r,0,!sr);else{if(a=n.current.alternate,p&&!oA(a)){f=cm(n,r,!1),p=!1;continue}if(f===2){if(p=r,n.errorRecoveryDisabledLanes&p)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var b=n;f=zl;var N=b.current.memoizedState.isDehydrated;if(N&&(oo(b,T).flags|=256),T=cm(b,T,!1),T!==2){if(em&&!N){b.errorRecoveryDisabledLanes|=p,la|=p,f=4;break e}p=wi,wi=f,p!==null&&om(p)}f=T}if(p=!1,f!==2)continue}}if(f===1){oo(n,0),or(n,r,0,!0);break}e:{switch(l=n,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){or(l,r,Hn,!sr);break e}break;case 2:wi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(p=im+300-dn(),10<p)){if(or(l,r,Hn,!sr),Nn(l,0)!==0)break e;l.timeoutHandle=Rv(rv.bind(null,l,a,wi,Wc,nm,r,Hn,la,ao,sr,2,-0,0),p);break e}rv(l,a,wi,Wc,nm,r,Hn,la,ao,sr,0,-0,0)}}break}while(!0);bi(n)}function om(n){wi===null?wi=n:wi.push.apply(wi,n)}function rv(n,r,a,l,f,p,T,b,N,L,Y,te,H){var K=r.subtreeFlags;if((K&8192||(K&16785408)===16785408)&&(Ql={stylesheets:null,count:0,unsuspend:FA},Q_(r),r=HA(),r!==null)){n.cancelPendingCommit=r(hv.bind(null,n,a,l,f,T,b,N,1,te,H)),or(n,p,T,!L);return}hv(n,a,l,f,T,b,N,Y,te,H)}function oA(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],p=f.getSnapshot;f=f.value;try{if(!wn(p(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function or(n,r,a,l){r&=~tm,r&=~la,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var p=31-nn(f),T=1<<p;l[p]=-1,f&=~T}a!==0&&Sr(n,a,r)}function Jc(){return(st&6)===0?(ql(0),!1):!0}function lm(){if(De!==null){if(et===0)var n=De.return;else n=De,Ji=ra=null,md(n),Ya=null,bl=0,n=De;for(;n!==null;)tv(n.alternate,n),n=n.return;De=null}}function oo(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,SA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),lm(),Je=n,De=a=Yr(n.current,null),Le=r,et=0,xn=null,sr=!1,so=Ar(n,r),em=!1,ao=Hn=tm=la=Xr=ct=0,wi=zl=null,nm=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-nn(l),p=1<<f;r|=n[f],l&=~p}return ar=r,bc(),a}function sv(n,r){Ie=null,R.H=Ti,r===Tl?(r=Ey(),et=3):r===yy?(r=Ey(),et=4):et=r===__?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,xn=r,De===null&&(ct=1,qc(n,Vn(r,n.current)))}function av(){var n=R.H;return R.H=Ti,n===null?Ti:n}function ov(){var n=R.A;return R.A=sA,n}function um(){ct=4,sr||(Le&4194176)!==Le&&zn.current!==null||(so=!0),(Xr&134217727)===0&&(la&134217727)===0||Je===null||or(Je,Le,Hn,!1)}function cm(n,r,a){var l=st;st|=2;var f=av(),p=ov();(Je!==n||Le!==r)&&(Wc=null,oo(n,r)),r=!1;var T=ct;e:do try{if(et!==0&&De!==null){var b=De,N=xn;switch(et){case 8:lm(),T=6;break e;case 3:case 2:case 6:zn.current===null&&(r=!0);var L=et;if(et=0,xn=null,lo(n,b,N,L),a&&so){T=0;break e}break;default:L=et,et=0,xn=null,lo(n,b,N,L)}}lA(),T=ct;break}catch(Y){sv(n,Y)}while(!0);return r&&n.shellSuspendCounter++,Ji=ra=null,st=l,R.H=f,R.A=p,De===null&&(Je=null,Le=0,bc()),T}function lA(){for(;De!==null;)lv(De)}function uA(n,r){var a=st;st|=2;var l=av(),f=ov();Je!==n||Le!==r?(Wc=null,Xc=dn()+500,oo(n,r)):so=Ar(n,r);e:do try{if(et!==0&&De!==null){r=De;var p=xn;t:switch(et){case 1:et=0,xn=null,lo(n,r,p,1);break;case 2:if(_y(p)){et=0,xn=null,uv(r);break}r=function(){et===2&&Je===n&&(et=7),bi(n)},p.then(r,r);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:_y(p)?(et=0,xn=null,uv(r)):(et=0,xn=null,lo(n,r,p,7));break;case 5:var T=null;switch(De.tag){case 26:T=De.memoizedState;case 5:case 27:var b=De;if(!T||Lv(T)){et=0,xn=null;var N=b.sibling;if(N!==null)De=N;else{var L=b.return;L!==null?(De=L,eh(L)):De=null}break t}}et=0,xn=null,lo(n,r,p,5);break;case 6:et=0,xn=null,lo(n,r,p,6);break;case 8:lm(),ct=6;break e;default:throw Error(s(462))}}cA();break}catch(Y){sv(n,Y)}while(!0);return Ji=ra=null,R.H=l,R.A=f,st=a,De!==null?0:(Je=null,Le=0,bc(),ct)}function cA(){for(;De!==null&&!Lf();)lv(De)}function lv(n){var r=N_(n.alternate,n,ar);n.memoizedProps=n.pendingProps,r===null?eh(n):De=r}function uv(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=A_(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=A_(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:md(r);default:tv(a,r),r=De=Z_(r,ar),r=N_(a,r,ar)}n.memoizedProps=n.pendingProps,r===null?eh(n):De=r}function lo(n,r,a,l){Ji=ra=null,md(r),Ya=null,bl=0;var f=r.return;try{if(Z1(n,f,r,a,Le)){ct=1,qc(n,Vn(a,n.current)),De=null;return}}catch(p){if(f!==null)throw De=f,p;ct=1,qc(n,Vn(a,n.current)),De=null;return}r.flags&32768?(Fe||l===1?n=!0:so||(Le&536870912)!==0?n=!1:(sr=n=!0,(l===2||l===3||l===6)&&(l=zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),cv(r,n)):eh(r)}function eh(n){var r=n;do{if((r.flags&32768)!==0){cv(r,sr);return}n=r.return;var a=iA(r.alternate,r,ar);if(a!==null){De=a;return}if(r=r.sibling,r!==null){De=r;return}De=r=n}while(r!==null);ct===0&&(ct=5)}function cv(n,r){do{var a=rA(n.alternate,n);if(a!==null){a.flags&=32767,De=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){De=n;return}De=n=a}while(n!==null);ct=6,De=null}function hv(n,r,a,l,f,p,T,b,N,L){var Y=R.T,te=oe.p;try{oe.p=2,R.T=null,hA(n,r,a,l,te,f,p,T,b,N,L)}finally{R.T=Y,oe.p=te}}function hA(n,r,a,l,f,p,T,b){do uo();while(ua!==null);if((st&6)!==0)throw Error(s(327));var N=n.finishedWork;if(l=n.finishedLanes,N===null)return null;if(n.finishedWork=null,n.finishedLanes=0,N===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var L=N.lanes|N.childLanes;if(L|=Jf,nc(n,l,L,p,T,b),n===Je&&(De=Je=null,Le=0),(N.subtreeFlags&10256)===0&&(N.flags&10256)===0||Zc||(Zc=!0,rm=L,sm=a,pA(Li,function(){return uo(),null})),a=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||a?(a=R.T,R.T=null,p=oe.p,oe.p=2,T=st,st|=4,eA(n,N),G_(N,n),M1(wm,n.containerInfo),fh=!!Tm,wm=Tm=null,n.current=N,B_(n,N.alternate,N),Xo(),st=T,oe.p=p,R.T=a):n.current=N,Zc?(Zc=!1,ua=n,Bl=l):fv(n,L),L=n.pendingLanes,L===0&&(Wr=null),Zo(N.stateNode),bi(n),r!==null)for(f=n.onRecoverableError,N=0;N<r.length;N++)L=r[N],f(L.value,{componentStack:L.stack});return(Bl&3)!==0&&uo(),L=n.pendingLanes,(l&4194218)!==0&&(L&42)!==0?n===am?Fl++:(Fl=0,am=n):Fl=0,ql(0),null}function fv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,xl(r)))}function uo(){if(ua!==null){var n=ua,r=rm;rm=0;var a=ic(Bl),l=R.T,f=oe.p;try{if(oe.p=32>a?32:a,R.T=null,ua===null)var p=!1;else{a=sm,sm=null;var T=ua,b=Bl;if(ua=null,Bl=0,(st&6)!==0)throw Error(s(331));var N=st;if(st|=4,X_(T.current),K_(T,T.current,b,a),st=N,ql(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(wr,T)}catch{}p=!0}return p}finally{oe.p=f,R.T=l,fv(n,r)}}return!1}function dv(n,r,a){r=Vn(a,r),r=Cd(n.stateNode,r,2),n=Gr(n,r,2),n!==null&&(ft(n,2),bi(n))}function Ze(n,r,a){if(n.tag===3)dv(n,n,a);else for(;r!==null;){if(r.tag===3){dv(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Wr===null||!Wr.has(l))){n=Vn(a,n),a=g_(2),l=Gr(r,a,2),l!==null&&(y_(a,l,r,n),ft(l,2),bi(l));break}}r=r.return}}function hm(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new aA;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(em=!0,f.add(a),n=fA.bind(null,n,r,a),r.then(n,n))}function fA(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Je===n&&(Le&a)===a&&(ct===4||ct===3&&(Le&62914560)===Le&&300>dn()-im?(st&2)===0&&oo(n,0):tm|=a,ao===Le&&(ao=0)),bi(n)}function mv(n,r){r===0&&(r=xr()),n=Vr(n,r),n!==null&&(ft(n,r),bi(n))}function dA(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),mv(n,a)}function mA(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),mv(n,a)}function pA(n,r){return ks(n,r)}var th=null,co=null,fm=!1,nh=!1,dm=!1,ca=0;function bi(n){n!==co&&n.next===null&&(co===null?th=co=n:co=co.next=n),nh=!0,fm||(fm=!0,yA(gA))}function ql(n,r){if(!dm&&nh){dm=!0;do for(var a=!1,l=th;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var T=l.suspendedLanes,b=l.pingedLanes;p=(1<<31-nn(42|n)+1)-1,p&=f&~(T&~b),p=p&201326677?p&201326677|1:p?p|2:0}p!==0&&(a=!0,yv(l,p))}else p=Le,p=Nn(l,l===Je?p:0),(p&3)===0||Ar(l,p)||(a=!0,yv(l,p));l=l.next}while(a);dm=!1}}function gA(){nh=fm=!1;var n=0;ca!==0&&(xA()&&(n=ca),ca=0);for(var r=dn(),a=null,l=th;l!==null;){var f=l.next,p=pv(l,r);p===0?(l.next=null,a===null?th=f:a.next=f,f===null&&(co=a)):(a=l,(n!==0||(p&3)!==0)&&(nh=!0)),l=f}ql(n)}function pv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var T=31-nn(p),b=1<<T,N=f[T];N===-1?((b&a)===0||(b&l)!==0)&&(f[T]=Ca(b,r)):N<=r&&(n.expiredLanes|=b),p&=~b}if(r=Je,a=Le,a=Nn(n,n===r?a:0),l=n.callbackNode,a===0||n===r&&et===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Ra(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ar(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&Ra(l),ic(a)){case 2:case 8:a=Ot;break;case 32:a=Li;break;case 268435456:a=Wo;break;default:a=Li}return l=gv.bind(null,n),a=ks(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&Ra(l),n.callbackPriority=2,n.callbackNode=null,2}function gv(n,r){var a=n.callbackNode;if(uo()&&n.callbackNode!==a)return null;var l=Le;return l=Nn(n,n===Je?l:0),l===0?null:(iv(n,l,r),pv(n,dn()),n.callbackNode!=null&&n.callbackNode===a?gv.bind(null,n):null)}function yv(n,r){if(uo())return null;iv(n,r,!0)}function yA(n){RA(function(){(st&6)!==0?ks(At,n):n()})}function mm(){return ca===0&&(ca=el()),ca}function _v(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:fi(""+n)}function vv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function _A(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var p=_v((f[xt]||null).action),T=l.submitter;T&&(r=(r=T[xt]||null)?_v(r.formAction):T.getAttribute("formAction"),r!==null&&(p=r,T=null));var b=new Ma("action","action",null,l,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ca!==0){var N=T?vv(f,T):new FormData(f);bd(a,{pending:!0,data:N,method:f.method,action:p},null,N)}}else typeof p=="function"&&(b.preventDefault(),N=T?vv(f,T):new FormData(f),bd(a,{pending:!0,data:N,method:f.method,action:p},p,N))},currentTarget:f}]})}}for(var pm=0;pm<hy.length;pm++){var gm=hy[pm],vA=gm.toLowerCase(),EA=gm[0].toUpperCase()+gm.slice(1);Xn(vA,"on"+EA)}Xn(ay,"onAnimationEnd"),Xn(oy,"onAnimationIteration"),Xn(ly,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(V1,"onTransitionRun"),Xn(L1,"onTransitionStart"),Xn(U1,"onTransitionCancel"),Xn(uy,"onTransitionEnd"),mn("onMouseEnter",["mouseout","mouseover"]),mn("onMouseLeave",["mouseout","mouseover"]),mn("onPointerEnter",["pointerout","pointerover"]),mn("onPointerLeave",["pointerout","pointerover"]),En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),En("onBeforeInput",["compositionend","keypress","textInput","paste"]),En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function Ev(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var p=void 0;if(r)for(var T=l.length-1;0<=T;T--){var b=l[T],N=b.instance,L=b.currentTarget;if(b=b.listener,N!==p&&f.isPropagationStopped())break e;p=b,f.currentTarget=L;try{p(f)}catch(Y){Fc(Y)}f.currentTarget=null,p=N}else for(T=0;T<l.length;T++){if(b=l[T],N=b.instance,L=b.currentTarget,b=b.listener,N!==p&&f.isPropagationStopped())break e;p=b,f.currentTarget=L;try{p(f)}catch(Y){Fc(Y)}f.currentTarget=null,p=N}}}}function je(n,r){var a=r[Ms];a===void 0&&(a=r[Ms]=new Set);var l=n+"__bubble";a.has(l)||(Tv(r,n,2,!1),a.add(l))}function ym(n,r,a){var l=0;r&&(l|=4),Tv(a,n,l,r)}var ih="_reactListening"+Math.random().toString(36).slice(2);function _m(n){if(!n[ih]){n[ih]=!0,nl.forEach(function(a){a!=="selectionchange"&&(TA.has(a)||ym(a,!1,n),ym(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[ih]||(r[ih]=!0,ym("selectionchange",!1,r))}}function Tv(n,r,a,l){switch(Hv(r)){case 2:var f=KA;break;case 8:f=QA;break;default:f=Dm}a=f.bind(null,r,a,n),f=void 0,!jn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function vm(n,r,a,l,f){var p=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var b=l.stateNode.containerInfo;if(b===f||b.nodeType===8&&b.parentNode===f)break;if(T===4)for(T=l.return;T!==null;){var N=T.tag;if((N===3||N===4)&&(N=T.stateNode.containerInfo,N===f||N.nodeType===8&&N.parentNode===f))return;T=T.return}for(;b!==null;){if(T=Yn(b),T===null)return;if(N=T.tag,N===5||N===6||N===26||N===27){l=p=T;continue e}b=b.parentNode}}l=l.return}lc(function(){var L=p,Y=ja(a),te=[];e:{var H=cy.get(n);if(H!==void 0){var K=Ma,fe=n;switch(n){case"keypress":if(mi(a)===0)break e;case"keydown":case"keyup":K=Ba;break;case"focusin":fe="focus",K=La;break;case"focusout":fe="blur",K=La;break;case"beforeblur":case"afterblur":K=La;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Gf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=gc;break;case ay:case oy:case ly:K=Ua;break;case uy:K=_c;break;case"scroll":case"scrollend":K=uc;break;case"wheel":K=Fa;break;case"copy":case"cut":case"paste":K=za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=ml;break;case"toggle":case"beforetoggle":K=Ec}var be=(r&4)!==0,ht=!be&&(n==="scroll"||n==="scrollend"),z=be?H!==null?H+"Capture":null:H;be=[];for(var P=L,q;P!==null;){var W=P;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||z===null||(W=zs(P,z),W!=null&&be.push(Gl(P,W,q))),ht)break;P=P.return}0<be.length&&(H=new K(H,fe,null,a,Y),te.push({event:H,listeners:be}))}}if((r&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",H&&a!==kn&&(fe=a.relatedTarget||a.fromElement)&&(Yn(fe)||fe[Ui]))break e;if((K||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,K?(fe=a.relatedTarget||a.toElement,K=L,fe=fe?Yn(fe):null,fe!==null&&(ht=pe(fe),be=fe.tag,fe!==ht||be!==5&&be!==27&&be!==6)&&(fe=null)):(K=null,fe=L),K!==fe)){if(be=Mn,W="onMouseLeave",z="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(be=ml,W="onPointerLeave",z="onPointerEnter",P="pointer"),ht=K==null?H:Nr(K),q=fe==null?H:Nr(fe),H=new be(W,P+"leave",K,a,Y),H.target=ht,H.relatedTarget=q,W=null,Yn(Y)===L&&(be=new be(z,P+"enter",fe,a,Y),be.target=q,be.relatedTarget=ht,W=be),ht=W,K&&fe)t:{for(be=K,z=fe,P=0,q=be;q;q=ho(q))P++;for(q=0,W=z;W;W=ho(W))q++;for(;0<P-q;)be=ho(be),P--;for(;0<q-P;)z=ho(z),q--;for(;P--;){if(be===z||z!==null&&be===z.alternate)break t;be=ho(be),z=ho(z)}be=null}else be=null;K!==null&&wv(te,H,K,be,!1),fe!==null&&ht!==null&&wv(te,ht,fe,be,!0)}}e:{if(H=L?Nr(L):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var ce=Yg;else if(Rt(H))if(Xg)ce=k1;else{ce=D1;var Ne=N1}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?L&&ol(L.elementType)&&(ce=Yg):ce=O1;if(ce&&(ce=ce(n,L))){Ki(te,ce,a,Y);break e}Ne&&Ne(n,H,L),n==="focusout"&&L&&H.type==="number"&&L.memoizedProps.value!=null&&ka(H,"number",H.value)}switch(Ne=L?Nr(L):window,n){case"focusin":(Rt(Ne)||Ne.contentEditable==="true")&&(qa=Ne,Xf=L,yl=null);break;case"focusout":yl=Xf=qa=null;break;case"mousedown":Wf=!0;break;case"contextmenu":case"mouseup":case"dragend":Wf=!1,ry(te,a,Y);break;case"selectionchange":if(P1)break;case"keydown":case"keyup":ry(te,a,Y)}var me;if(yi)e:{switch(n){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Pe?G(n,a)&&(ye="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(E&&a.locale!=="ko"&&(Pe||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Pe&&(me=ul()):(di=Y,Pr="value"in di?di.value:di.textContent,Pe=!0)),Ne=rh(L,ye),0<Ne.length&&(ye=new fl(ye,n,null,a,Y),te.push({event:ye,listeners:Ne}),me?ye.data=me:(me=ie(a),me!==null&&(ye.data=me)))),(me=_?St(n,a):Ve(n,a))&&(ye=rh(L,"onBeforeInput"),0<ye.length&&(Ne=new fl("onBeforeInput","beforeinput",null,a,Y),te.push({event:Ne,listeners:ye}),Ne.data=me)),_A(te,n,L,a,Y)}Ev(te,r)})}function Gl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function rh(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,p=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=zs(n,a),f!=null&&l.unshift(Gl(n,f,p)),f=zs(n,r),f!=null&&l.push(Gl(n,f,p))),n=n.return}return l}function ho(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function wv(n,r,a,l,f){for(var p=r._reactName,T=[];a!==null&&a!==l;){var b=a,N=b.alternate,L=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||L===null||(N=L,f?(L=zs(a,p),L!=null&&T.unshift(Gl(a,L,N))):f||(L=zs(a,p),L!=null&&T.push(Gl(a,L,N)))),a=a.return}T.length!==0&&n.push({event:r,listeners:T})}var wA=/\r\n?/g,bA=/\u0000|\uFFFD/g;function bv(n){return(typeof n=="string"?n:""+n).replace(wA,`
`).replace(bA,"")}function Av(n,r){return r=bv(r),bv(n)===r}function sh(){}function Ye(n,r,a,l,f,p){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||On(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&On(n,""+l);break;case"className":kr(n,"class",l);break;case"tabIndex":kr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":kr(n,a,l);break;case"style":oc(n,l,p);break;case"data":if(r!=="object"){kr(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=fi(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(r!=="input"&&Ye(n,r,"name",f.name,f,null),Ye(n,r,"formEncType",f.formEncType,f,null),Ye(n,r,"formMethod",f.formMethod,f,null),Ye(n,r,"formTarget",f.formTarget,f,null)):(Ye(n,r,"encType",f.encType,f,null),Ye(n,r,"method",f.method,f,null),Ye(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=fi(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=sh);break;case"onScroll":l!=null&&je("scroll",n);break;case"onScrollEnd":l!=null&&je("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=fi(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":je("beforetoggle",n),je("toggle",n),Or(n,"popover",l);break;case"xlinkActuate":Dn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Dn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Dn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Dn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Dn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Dn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Dn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Dn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Dn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Or(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=qf.get(a)||a,Or(n,a,l))}}function Em(n,r,a,l,f,p){switch(a){case"style":oc(n,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?On(n,l):(typeof l=="number"||typeof l=="bigint")&&On(n,""+l);break;case"onScroll":l!=null&&je("scroll",n);break;case"onScrollEnd":l!=null&&je("scrollend",n);break;case"onClick":l!=null&&(n.onclick=sh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Da.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),p=n[xt]||null,p=p!=null?p[a]:null,typeof p=="function"&&n.removeEventListener(r,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Or(n,a,l)}}}function qt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",n),je("load",n);var l=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var T=a[p];if(T!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(n,r,p,T,a,null)}}f&&Ye(n,r,"srcSet",a.srcSet,a,null),l&&Ye(n,r,"src",a.src,a,null);return;case"input":je("invalid",n);var b=p=T=f=null,N=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":T=Y;break;case"checked":N=Y;break;case"defaultChecked":L=Y;break;case"value":p=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Ye(n,r,l,Y,a,null)}}Ls(n,p,b,N,L,T,f,!1),Vs(n);return;case"select":je("invalid",n),l=T=p=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":p=b;break;case"defaultValue":T=b;break;case"multiple":l=b;default:Ye(n,r,f,b,a,null)}r=p,a=T,n.multiple=!!l,r!=null?Be(n,!!l,r,!1):a!=null&&Be(n,!!l,a,!0);return;case"textarea":je("invalid",n),p=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(b=a[T],b!=null))switch(T){case"value":l=b;break;case"defaultValue":f=b;break;case"children":p=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Ye(n,r,T,b,a,null)}Mr(n,l,f,p),Vs(n);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(n,r,N,l,a,null)}return;case"dialog":je("cancel",n),je("close",n);break;case"iframe":case"object":je("load",n);break;case"video":case"audio":for(l=0;l<Hl.length;l++)je(Hl[l],n);break;case"image":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"embed":case"source":case"link":je("error",n),je("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(n,r,L,l,a,null)}return;default:if(ol(r)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Em(n,r,Y,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Ye(n,r,b,l,a,null))}function AA(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,T=null,b=null,N=null,L=null,Y=null;for(K in a){var te=a[K];if(a.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=te;default:l.hasOwnProperty(K)||Ye(n,r,K,null,l,te)}}for(var H in l){var K=l[H];if(te=a[H],l.hasOwnProperty(H)&&(K!=null||te!=null))switch(H){case"type":p=K;break;case"name":f=K;break;case"checked":L=K;break;case"defaultChecked":Y=K;break;case"value":T=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==te&&Ye(n,r,H,K,l,te)}}jr(n,T,b,N,L,Y,p,f);return;case"select":K=T=b=H=null;for(p in a)if(N=a[p],a.hasOwnProperty(p)&&N!=null)switch(p){case"value":break;case"multiple":K=N;default:l.hasOwnProperty(p)||Ye(n,r,p,null,l,N)}for(f in l)if(p=l[f],N=a[f],l.hasOwnProperty(f)&&(p!=null||N!=null))switch(f){case"value":H=p;break;case"defaultValue":b=p;break;case"multiple":T=p;default:p!==N&&Ye(n,r,f,p,l,N)}r=b,a=T,l=K,H!=null?Be(n,!!a,H,!1):!!l!=!!a&&(r!=null?Be(n,!!a,r,!0):Be(n,!!a,a?[]:"",!1));return;case"textarea":K=H=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ye(n,r,b,null,l,f)}for(T in l)if(f=l[T],p=a[T],l.hasOwnProperty(T)&&(f!=null||p!=null))switch(T){case"value":H=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&Ye(n,r,T,f,l,p)}Us(n,H,K);return;case"option":for(var fe in a)if(H=a[fe],a.hasOwnProperty(fe)&&H!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":n.selected=!1;break;default:Ye(n,r,fe,null,l,H)}for(N in l)if(H=l[N],K=a[N],l.hasOwnProperty(N)&&H!==K&&(H!=null||K!=null))switch(N){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ye(n,r,N,H,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)H=a[be],a.hasOwnProperty(be)&&H!=null&&!l.hasOwnProperty(be)&&Ye(n,r,be,null,l,H);for(L in l)if(H=l[L],K=a[L],l.hasOwnProperty(L)&&H!==K&&(H!=null||K!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:Ye(n,r,L,H,l,K)}return;default:if(ol(r)){for(var ht in a)H=a[ht],a.hasOwnProperty(ht)&&H!==void 0&&!l.hasOwnProperty(ht)&&Em(n,r,ht,void 0,l,H);for(Y in l)H=l[Y],K=a[Y],!l.hasOwnProperty(Y)||H===K||H===void 0&&K===void 0||Em(n,r,Y,H,l,K);return}}for(var z in a)H=a[z],a.hasOwnProperty(z)&&H!=null&&!l.hasOwnProperty(z)&&Ye(n,r,z,null,l,H);for(te in l)H=l[te],K=a[te],!l.hasOwnProperty(te)||H===K||H==null&&K==null||Ye(n,r,te,H,l,K)}var Tm=null,wm=null;function ah(n){return n.nodeType===9?n:n.ownerDocument}function xv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function bm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Am=null;function xA(){var n=window.event;return n&&n.type==="popstate"?n===Am?!1:(Am=n,!0):(Am=null,!1)}var Rv=typeof setTimeout=="function"?setTimeout:void 0,SA=typeof clearTimeout=="function"?clearTimeout:void 0,Cv=typeof Promise=="function"?Promise:void 0,RA=typeof queueMicrotask=="function"?queueMicrotask:typeof Cv<"u"?function(n){return Cv.resolve(null).then(n).catch(CA)}:Rv;function CA(n){setTimeout(function(){throw n})}function xm(n,r){var a=r,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(l===0){n.removeChild(f),Jl(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=f}while(a);Jl(r)}function Sm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sm(a),Ps(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function IA(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Ir])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Jn(n.nextSibling),n===null)break}return null}function NA(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Jn(n.nextSibling),n===null))return null;return n}function Jn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}function Iv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function Nv(n,r,a){switch(r=ah(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var Gn=new Map,Dv=new Set;function oh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var lr=oe.d;oe.d={f:DA,r:OA,D:kA,C:jA,L:MA,m:PA,X:LA,S:VA,M:UA};function DA(){var n=lr.f(),r=Jc();return n||r}function OA(n){var r=zi(n);r!==null&&r.tag===5&&r.type==="form"?r_(r):lr.r(n)}var fo=typeof document>"u"?null:document;function Ov(n,r,a){var l=fo;if(l&&typeof r=="string"&&r){var f=lt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Dv.has(f)||(Dv.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),qt(r,"link",n),it(r),l.head.appendChild(r)))}}function kA(n){lr.D(n),Ov("dns-prefetch",n,null)}function jA(n,r){lr.C(n,r),Ov("preconnect",n,r)}function MA(n,r,a){lr.L(n,r,a);var l=fo;if(l&&n&&r){var f='link[rel="preload"][as="'+lt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+lt(a.imageSizes)+'"]')):f+='[href="'+lt(n)+'"]';var p=f;switch(r){case"style":p=mo(n);break;case"script":p=po(n)}Gn.has(p)||(n=D({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Gn.set(p,n),l.querySelector(f)!==null||r==="style"&&l.querySelector($l(p))||r==="script"&&l.querySelector(Kl(p))||(r=l.createElement("link"),qt(r,"link",n),it(r),l.head.appendChild(r)))}}function PA(n,r){lr.m(n,r);var a=fo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+lt(l)+'"][href="'+lt(n)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=po(n)}if(!Gn.has(p)&&(n=D({rel:"modulepreload",href:n},r),Gn.set(p,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Kl(p)))return}l=a.createElement("link"),qt(l,"link",n),it(l),a.head.appendChild(l)}}}function VA(n,r,a){lr.S(n,r,a);var l=fo;if(l&&n){var f=Dr(l).hoistableStyles,p=mo(n);r=r||"default";var T=f.get(p);if(!T){var b={loading:0,preload:null};if(T=l.querySelector($l(p)))b.loading=5;else{n=D({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Gn.get(p))&&Rm(n,a);var N=T=l.createElement("link");it(N),qt(N,"link",n),N._p=new Promise(function(L,Y){N.onload=L,N.onerror=Y}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,lh(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:b},f.set(p,T)}}}function LA(n,r){lr.X(n,r);var a=fo;if(a&&n){var l=Dr(a).hoistableScripts,f=po(n),p=l.get(f);p||(p=a.querySelector(Kl(f)),p||(n=D({src:n,async:!0},r),(r=Gn.get(f))&&Cm(n,r),p=a.createElement("script"),it(p),qt(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function UA(n,r){lr.M(n,r);var a=fo;if(a&&n){var l=Dr(a).hoistableScripts,f=po(n),p=l.get(f);p||(p=a.querySelector(Kl(f)),p||(n=D({src:n,async:!0,type:"module"},r),(r=Gn.get(f))&&Cm(n,r),p=a.createElement("script"),it(p),qt(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function kv(n,r,a,l){var f=(f=In.current)?oh(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=mo(a.href),a=Dr(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=mo(a.href);var p=Dr(f).hoistableStyles,T=p.get(n);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,T),(p=f.querySelector($l(n)))&&!p._p&&(T.instance=p,T.state.loading=5),Gn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(n,a),p||zA(f,n,a,T.state))),r&&l===null)throw Error(s(528,""));return T}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=po(a),a=Dr(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function mo(n){return'href="'+lt(n)+'"'}function $l(n){return'link[rel="stylesheet"]['+n+"]"}function jv(n){return D({},n,{"data-precedence":n.precedence,precedence:null})}function zA(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),qt(r,"link",a),it(r),n.head.appendChild(r))}function po(n){return'[src="'+lt(n)+'"]'}function Kl(n){return"script[async]"+n}function Mv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+lt(a.href)+'"]');if(l)return r.instance=l,it(l),l;var f=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),it(l),qt(l,"style",f),lh(l,a.precedence,n),r.instance=l;case"stylesheet":f=mo(a.href);var p=n.querySelector($l(f));if(p)return r.state.loading|=4,r.instance=p,it(p),p;l=jv(a),(f=Gn.get(f))&&Rm(l,f),p=(n.ownerDocument||n).createElement("link"),it(p);var T=p;return T._p=new Promise(function(b,N){T.onload=b,T.onerror=N}),qt(p,"link",l),r.state.loading|=4,lh(p,a.precedence,n),r.instance=p;case"script":return p=po(a.src),(f=n.querySelector(Kl(p)))?(r.instance=f,it(f),f):(l=a,(f=Gn.get(p))&&(l=D({},a),Cm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),it(f),qt(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,lh(l,a.precedence,n));return r.instance}function lh(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,T=0;T<l.length;T++){var b=l[T];if(b.dataset.precedence===r)p=b;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Rm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Cm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var uh=null;function Pv(n,r,a){if(uh===null){var l=new Map,f=uh=new Map;f.set(a,l)}else f=uh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var p=a[f];if(!(p[Ir]||p[kt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(r)||"";T=n+T;var b=l.get(T);b?b.push(p):l.set(T,[p])}}return l}function Vv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function BA(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Lv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ql=null;function FA(){}function qA(n,r,a){if(Ql===null)throw Error(s(475));var l=Ql;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=mo(a.href),p=n.querySelector($l(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=ch.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=p,it(p);return}p=n.ownerDocument||n,a=jv(a),(f=Gn.get(f))&&Rm(a,f),p=p.createElement("link"),it(p);var T=p;T._p=new Promise(function(b,N){T.onload=b,T.onerror=N}),qt(p,"link",a),r.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=ch.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function HA(){if(Ql===null)throw Error(s(475));var n=Ql;return n.stylesheets&&n.count===0&&Im(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Im(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function ch(){if(this.count--,this.count===0){if(this.stylesheets)Im(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var hh=null;function Im(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,hh=new Map,r.forEach(GA,n),hh=null,ch.call(n))}function GA(n,r){if(!(r.state.loading&4)){var a=hh.get(n);if(a)var l=a.get(null);else{a=new Map,hh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var T=f[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=r.instance,T=f.getAttribute("data-precedence"),p=a.get(T)||l,p===l&&a.set(null,f),a.set(T,f),this.count++,l=ch.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Yl={$$typeof:C,Provider:null,Consumer:null,_currentValue:Re,_currentValue2:Re,_threadCount:0};function $A(n,r,a,l,f,p,T,b){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ia(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ia(0),this.hiddenUpdates=Ia(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Uv(n,r,a,l,f,p,T,b,N,L,Y,te){return n=new $A(n,r,a,T,b,N,L,te),r=1,p===!0&&(r|=24),p=qn(3,null,null,r),n.current=p,p.stateNode=n,r=od(),r.refCount++,n.pooledCache=r,r.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:r},Bd(p),n}function zv(n){return n?(n=$a,n):$a}function Bv(n,r,a,l,f,p){f=zv(f),l.context===null?l.context=f:l.pendingContext=f,l=Hr(r),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=Gr(n,l,r),a!==null&&(on(a,n,r),Ol(a,n,r))}function Fv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Nm(n,r){Fv(n,r),(n=n.alternate)&&Fv(n,r)}function qv(n){if(n.tag===13){var r=Vr(n,67108864);r!==null&&on(r,n,67108864),Nm(n,67108864)}}var fh=!0;function KA(n,r,a,l){var f=R.T;R.T=null;var p=oe.p;try{oe.p=2,Dm(n,r,a,l)}finally{oe.p=p,R.T=f}}function QA(n,r,a,l){var f=R.T;R.T=null;var p=oe.p;try{oe.p=8,Dm(n,r,a,l)}finally{oe.p=p,R.T=f}}function Dm(n,r,a,l){if(fh){var f=Om(l);if(f===null)vm(n,r,l,dh,a),Gv(n,l);else if(XA(f,n,r,a,l))l.stopPropagation();else if(Gv(n,l),r&4&&-1<YA.indexOf(n)){for(;f!==null;){var p=zi(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Qn(p.pendingLanes);if(T!==0){var b=p;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var N=1<<31-nn(T);b.entanglements[1]|=N,T&=~N}bi(p),(st&6)===0&&(Xc=dn()+500,ql(0))}}break;case 13:b=Vr(p,2),b!==null&&on(b,p,2),Jc(),Nm(p,2)}if(p=Om(l),p===null&&vm(n,r,l,dh,a),p===f)break;f=p}f!==null&&l.stopPropagation()}else vm(n,r,l,null,a)}}function Om(n){return n=ja(n),km(n)}var dh=null;function km(n){if(dh=null,n=Yn(n),n!==null){var r=pe(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=He(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return dh=n,null}function Hv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zu()){case At:return 2;case Ot:return 8;case Li:case Ju:return 32;case Wo:return 268435456;default:return 32}default:return 32}}var jm=!1,Zr=null,Jr=null,es=null,Xl=new Map,Wl=new Map,ts=[],YA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gv(n,r){switch(n){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":Xl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(r.pointerId)}}function Zl(n,r,a,l,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},r!==null&&(r=zi(r),r!==null&&qv(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function XA(n,r,a,l,f){switch(r){case"focusin":return Zr=Zl(Zr,n,r,a,l,f),!0;case"dragenter":return Jr=Zl(Jr,n,r,a,l,f),!0;case"mouseover":return es=Zl(es,n,r,a,l,f),!0;case"pointerover":var p=f.pointerId;return Xl.set(p,Zl(Xl.get(p)||null,n,r,a,l,f)),!0;case"gotpointercapture":return p=f.pointerId,Wl.set(p,Zl(Wl.get(p)||null,n,r,a,l,f)),!0}return!1}function $v(n){var r=Yn(n.target);if(r!==null){var a=pe(r);if(a!==null){if(r=a.tag,r===13){if(r=He(a),r!==null){n.blockedOn=r,Cr(n.priority,function(){if(a.tag===13){var l=Sn(),f=Vr(a,l);f!==null&&on(f,a,l),Nm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function mh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Om(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);kn=l,a.target.dispatchEvent(l),kn=null}else return r=zi(a),r!==null&&qv(r),n.blockedOn=a,!1;r.shift()}return!0}function Kv(n,r,a){mh(n)&&a.delete(r)}function WA(){jm=!1,Zr!==null&&mh(Zr)&&(Zr=null),Jr!==null&&mh(Jr)&&(Jr=null),es!==null&&mh(es)&&(es=null),Xl.forEach(Kv),Wl.forEach(Kv)}function ph(n,r){n.blockedOn===r&&(n.blockedOn=null,jm||(jm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,WA)))}var gh=null;function Qv(n){gh!==n&&(gh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){gh===n&&(gh=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(km(l||a)===null)continue;break}var p=zi(a);p!==null&&(n.splice(r,3),r-=3,bd(p,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Jl(n){function r(N){return ph(N,n)}Zr!==null&&ph(Zr,n),Jr!==null&&ph(Jr,n),es!==null&&ph(es,n),Xl.forEach(r),Wl.forEach(r);for(var a=0;a<ts.length;a++){var l=ts[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<ts.length&&(a=ts[0],a.blockedOn===null);)$v(a),a.blockedOn===null&&ts.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],p=a[l+1],T=f[xt]||null;if(typeof p=="function")T||Qv(a);else if(T){var b=null;if(p&&p.hasAttribute("formAction")){if(f=p,T=p[xt]||null)b=T.formAction;else if(km(f)!==null)continue}else b=T.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Qv(a)}}}function Mm(n){this._internalRoot=n}yh.prototype.render=Mm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Sn();Bv(a,l,n,r,null,null)},yh.prototype.unmount=Mm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;n.tag===0&&uo(),Bv(n.current,2,null,n,null,null),Jc(),r[Ui]=null}};function yh(n){this._internalRoot=n}yh.prototype.unstable_scheduleHydration=function(n){if(n){var r=rc();n={blockedOn:null,target:n,priority:r};for(var a=0;a<ts.length&&r!==0&&r<ts[a].priority;a++);ts.splice(a,0,n),a===0&&$v(n)}};var Yv=e.version;if(Yv!=="19.0.0")throw Error(s(527,Yv,"19.0.0"));oe.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=ne(r),n=n!==null?de(n):null,n=n===null?null:n.stateNode,n};var ZA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:Yn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_h.isDisabled&&_h.supportsFiber)try{wr=_h.inject(ZA),Qt=_h}catch{}}return tu.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=f_,p=d_,T=m_,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=Uv(n,1,!1,null,null,a,l,f,p,T,b,null),n[Ui]=r.current,_m(n.nodeType===8?n.parentNode:n),new Mm(r)},tu.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",p=f_,T=d_,b=m_,N=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),r=Uv(n,1,!0,r,a??null,l,f,p,T,b,N,L),r.context=zv(null),a=r.current,l=Sn(),f=Hr(l),f.callback=null,Gr(a,f,l),r.current.lanes=l,ft(r,l),bi(r),n[Ui]=r.current,_m(n),new yh(r)},tu.version="19.0.0",tu}var s0;function ox(){if(s0)return Lm.exports;s0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Lm.exports=ax(),Lm.exports}var lx=ox(),nu={},a0;function ux(){if(a0)return nu;a0=1,Object.defineProperty(nu,"__esModule",{value:!0}),nu.parse=h,nu.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function h(x,C){const k=new u,$=x.length;if($<2)return k;const U=(C==null?void 0:C.decode)||v;let Q=0;do{const ee=x.indexOf("=",Q);if(ee===-1)break;const J=x.indexOf(";",Q),he=J===-1?$:J;if(ee>he){Q=x.lastIndexOf(";",ee-1)+1;continue}const ue=d(x,Q,ee),Te=m(x,ee,ue),M=x.slice(ue,Te);if(k[M]===void 0){let I=d(x,ee+1,he),R=m(x,he,I);const D=U(x.slice(I,R));k[M]=D}Q=he+1}while(Q<$);return k}function d(x,C,k){do{const $=x.charCodeAt(C);if($!==32&&$!==9)return C}while(++C<k);return k}function m(x,C,k){for(;C>k;){const $=x.charCodeAt(--C);if($!==32&&$!==9)return C+1}return k}function y(x,C,k){const $=(k==null?void 0:k.encode)||encodeURIComponent;if(!i.test(x))throw new TypeError(`argument name is invalid: ${x}`);const U=$(C);if(!e.test(U))throw new TypeError(`argument val is invalid: ${C}`);let Q=x+"="+U;if(!k)return Q;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);Q+="; Max-Age="+k.maxAge}if(k.domain){if(!t.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);Q+="; Domain="+k.domain}if(k.path){if(!s.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);Q+="; Path="+k.path}if(k.expires){if(!A(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);Q+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(Q+="; HttpOnly"),k.secure&&(Q+="; Secure"),k.partitioned&&(Q+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return Q}function v(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function A(x){return o.call(x)==="[object Date]"}return nu}ux();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var o0="popstate";function cx(i={}){function e(o,u){let{pathname:h="/",search:d="",hash:m=""}=_a(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),rp("",{pathname:h,search:d,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function t(o,u){let h=o.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let m=o.location.href,y=m.indexOf("#");d=y===-1?m:m.slice(0,y)}return d+"#"+(typeof u=="string"?u:gu(u))}function s(o,u){$n(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return fx(e,t,s,i)}function nt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function $n(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hx(){return Math.random().toString(36).substring(2,10)}function l0(i,e){return{usr:i.state,key:i.key,idx:e}}function rp(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?_a(e):e,state:t,key:e&&e.key||s||hx()}}function gu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function _a(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function fx(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,d="POP",m=null,y=v();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function v(){return(h.state||{idx:null}).idx}function A(){d="POP";let U=v(),Q=U==null?null:U-y;y=U,m&&m({action:d,location:$.location,delta:Q})}function x(U,Q){d="PUSH";let ee=rp($.location,U,Q);t&&t(ee,U),y=v()+1;let J=l0(ee,y),he=$.createHref(ee);try{h.pushState(J,"",he)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(he)}u&&m&&m({action:d,location:$.location,delta:1})}function C(U,Q){d="REPLACE";let ee=rp($.location,U,Q);t&&t(ee,U),y=v();let J=l0(ee,y),he=$.createHref(ee);h.replaceState(J,"",he),u&&m&&m({action:d,location:$.location,delta:0})}function k(U){let Q=o.location.origin!=="null"?o.location.origin:o.location.href,ee=typeof U=="string"?U:gu(U);return ee=ee.replace(/ $/,"%20"),nt(Q,`No window.location.(origin|href) available to create URL for href: ${ee}`),new URL(ee,Q)}let $={get action(){return d},get location(){return i(o,h)},listen(U){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(o0,A),m=U,()=>{o.removeEventListener(o0,A),m=null}},createHref(U){return e(o,U)},createURL:k,encodeLocation(U){let Q=k(U);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:x,replace:C,go(U){return h.go(U)}};return $}function eT(i,e,t="/"){return dx(i,e,t,!1)}function dx(i,e,t,s){let o=typeof e=="string"?_a(e):e,u=fs(o.pathname||"/",t);if(u==null)return null;let h=tT(i);mx(h);let d=null;for(let m=0;d==null&&m<h.length;++m){let y=xx(u);d=bx(h[m],y,s)}return d}function tT(i,e=[],t=[],s=""){let o=(u,h,d)=>{let m={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};m.relativePath.startsWith("/")&&(nt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let y=dr([s,m.relativePath]),v=t.concat(m);u.children&&u.children.length>0&&(nt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),tT(u.children,e,v,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:Tx(y,u.index),routesMeta:v})};return i.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,h);else for(let m of nT(u.path))o(u,h,m)}),e}function nT(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=nT(s.join("/")),d=[];return d.push(...h.map(m=>m===""?u:[u,m].join("/"))),o&&d.push(...h),d.map(m=>i.startsWith("/")&&m===""?"/":m)}function mx(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:wx(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var px=/^:[\w-]+$/,gx=3,yx=2,_x=1,vx=10,Ex=-2,u0=i=>i==="*";function Tx(i,e){let t=i.split("/"),s=t.length;return t.some(u0)&&(s+=Ex),e&&(s+=yx),t.filter(o=>!u0(o)).reduce((o,u)=>o+(px.test(u)?gx:u===""?_x:vx),s)}function wx(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function bx(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let d=0;d<s.length;++d){let m=s[d],y=d===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",A=Bh({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},v),x=m.route;if(!A&&y&&t&&!s[s.length-1].route.index&&(A=Bh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!A)return null;Object.assign(o,A.params),h.push({params:o,pathname:dr([u,A.pathname]),pathnameBase:Ix(dr([u,A.pathnameBase])),route:x}),A.pathnameBase!=="/"&&(u=dr([u,A.pathnameBase]))}return h}function Bh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=Ax(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((y,{paramName:v,isOptional:A},x)=>{if(v==="*"){let k=d[x]||"";h=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const C=d[x];return A&&!C?y[v]=void 0:y[v]=(C||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:i}}function Ax(i,e=!1,t=!0){$n(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function xx(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function fs(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function Sx(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?_a(i):i;return{pathname:t?t.startsWith("/")?t:Rx(t,e):e,search:Nx(s),hash:Dx(o)}}function Rx(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Fm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Cx(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Op(i){let e=Cx(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function kp(i,e,t,s=!1){let o;typeof i=="string"?o=_a(i):(o={...i},nt(!o.pathname||!o.pathname.includes("?"),Fm("?","pathname","search",o)),nt(!o.pathname||!o.pathname.includes("#"),Fm("#","pathname","hash",o)),nt(!o.search||!o.search.includes("#"),Fm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=t;else{let A=e.length-1;if(!s&&h.startsWith("..")){let x=h.split("/");for(;x[0]==="..";)x.shift(),A-=1;o.pathname=x.join("/")}d=A>=0?e[A]:"/"}let m=Sx(o,d),y=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(y||v)&&(m.pathname+="/"),m}var dr=i=>i.join("/").replace(/\/\/+/g,"/"),Ix=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Nx=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Dx=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Ox(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var iT=["POST","PUT","PATCH","DELETE"];new Set(iT);var kx=["GET",...iT];new Set(kx);var ko=w.createContext(null);ko.displayName="DataRouter";var uf=w.createContext(null);uf.displayName="DataRouterState";var rT=w.createContext({isTransitioning:!1});rT.displayName="ViewTransition";var jx=w.createContext(new Map);jx.displayName="Fetchers";var Mx=w.createContext(null);Mx.displayName="Await";var ri=w.createContext(null);ri.displayName="Navigation";var Du=w.createContext(null);Du.displayName="Location";var si=w.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var jp=w.createContext(null);jp.displayName="RouteError";function Px(i,{relative:e}={}){nt(jo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=w.useContext(ri),{hash:o,pathname:u,search:h}=Ou(i,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:dr([t,u])),s.createHref({pathname:d,search:h,hash:o})}function jo(){return w.useContext(Du)!=null}function Ts(){return nt(jo(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Du).location}var sT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aT(i){w.useContext(ri).static||w.useLayoutEffect(i)}function Oi(){let{isDataRoute:i}=w.useContext(si);return i?Wx():Vx()}function Vx(){nt(jo(),"useNavigate() may be used only in the context of a <Router> component.");let i=w.useContext(ko),{basename:e,navigator:t}=w.useContext(ri),{matches:s}=w.useContext(si),{pathname:o}=Ts(),u=JSON.stringify(Op(s)),h=w.useRef(!1);return aT(()=>{h.current=!0}),w.useCallback((m,y={})=>{if($n(h.current,sT),!h.current)return;if(typeof m=="number"){t.go(m);return}let v=kp(m,JSON.parse(u),o,y.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:dr([e,v.pathname])),(y.replace?t.replace:t.push)(v,y.state,y)},[e,t,u,o,i])}var Lx=w.createContext(null);function Ux(i){let e=w.useContext(si).outlet;return e&&w.createElement(Lx.Provider,{value:i},e)}function Ou(i,{relative:e}={}){let{matches:t}=w.useContext(si),{pathname:s}=Ts(),o=JSON.stringify(Op(t));return w.useMemo(()=>kp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function zx(i,e){return oT(i,e)}function oT(i,e,t,s){var ee;nt(jo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=w.useContext(ri),{matches:h}=w.useContext(si),d=h[h.length-1],m=d?d.params:{},y=d?d.pathname:"/",v=d?d.pathnameBase:"/",A=d&&d.route;{let J=A&&A.path||"";lT(y,!A||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let x=Ts(),C;if(e){let J=typeof e=="string"?_a(e):e;nt(v==="/"||((ee=J.pathname)==null?void 0:ee.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${J.pathname}" was given in the \`location\` prop.`),C=J}else C=x;let k=C.pathname||"/",$=k;if(v!=="/"){let J=v.replace(/^\//,"").split("/");$="/"+k.replace(/^\//,"").split("/").slice(J.length).join("/")}let U=!u&&t&&t.matches&&t.matches.length>0?t.matches:eT(i,{pathname:$});$n(A||U!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),$n(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=Gx(U&&U.map(J=>Object.assign({},J,{params:Object.assign({},m,J.params),pathname:dr([v,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?v:dr([v,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),h,t,s);return e&&Q?w.createElement(Du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},Q):Q}function Bx(){let i=Xx(),e=Ox(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:u},"ErrorBoundary")," or"," ",w.createElement("code",{style:u},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:o},t):null,h)}var Fx=w.createElement(Bx,null),qx=class extends w.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?w.createElement(si.Provider,{value:this.props.routeContext},w.createElement(jp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Hx({routeContext:i,match:e,children:t}){let s=w.useContext(ko);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(si.Provider,{value:i},t)}function Gx(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t==null?void 0:t.errors;if(u!=null){let m=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);nt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let h=!1,d=-1;if(t)for(let m=0;m<o.length;m++){let y=o[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=m),y.route.id){let{loaderData:v,errors:A}=t,x=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||x){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,y,v)=>{let A,x=!1,C=null,k=null;t&&(A=u&&y.route.id?u[y.route.id]:void 0,C=y.route.errorElement||Fx,h&&(d<0&&v===0?(lT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,k=null):d===v&&(x=!0,k=y.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,v+1)),U=()=>{let Q;return A?Q=C:x?Q=k:y.route.Component?Q=w.createElement(y.route.Component,null):y.route.element?Q=y.route.element:Q=m,w.createElement(Hx,{match:y,routeContext:{outlet:m,matches:$,isDataRoute:t!=null},children:Q})};return t&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?w.createElement(qx,{location:t.location,revalidation:t.revalidation,component:C,error:A,children:U(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):U()},null)}function Mp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $x(i){let e=w.useContext(ko);return nt(e,Mp(i)),e}function Kx(i){let e=w.useContext(uf);return nt(e,Mp(i)),e}function Qx(i){let e=w.useContext(si);return nt(e,Mp(i)),e}function Pp(i){let e=Qx(i),t=e.matches[e.matches.length-1];return nt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function Yx(){return Pp("useRouteId")}function Xx(){var s;let i=w.useContext(jp),e=Kx("useRouteError"),t=Pp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function Wx(){let{router:i}=$x("useNavigate"),e=Pp("useNavigate"),t=w.useRef(!1);return aT(()=>{t.current=!0}),w.useCallback(async(o,u={})=>{$n(t.current,sT),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var c0={};function lT(i,e,t){!e&&!c0[i]&&(c0[i]=!0,$n(!1,t))}w.memo(Zx);function Zx({routes:i,future:e,state:t}){return oT(i,void 0,t,e)}function Vp({to:i,replace:e,state:t,relative:s}){nt(jo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=w.useContext(ri);$n(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=w.useContext(si),{pathname:h}=Ts(),d=Oi(),m=kp(i,Op(u),h,s==="path"),y=JSON.stringify(m);return w.useEffect(()=>{d(JSON.parse(y),{replace:e,state:t,relative:s})},[d,y,s,e,t]),null}function uT(i){return Ux(i.context)}function go(i){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Jx({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){nt(!jo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=_a(t));let{pathname:m="/",search:y="",hash:v="",state:A=null,key:x="default"}=t,C=w.useMemo(()=>{let k=fs(m,h);return k==null?null:{location:{pathname:k,search:y,hash:v,state:A,key:x},navigationType:s}},[h,m,y,v,A,x,s]);return $n(C!=null,`<Router basename="${h}"> is not able to match the URL "${m}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:w.createElement(ri.Provider,{value:d},w.createElement(Du.Provider,{children:e,value:C}))}function eS({children:i,location:e}){return zx(sp(i),e)}function sp(i,e=[]){let t=[];return w.Children.forEach(i,(s,o)=>{if(!w.isValidElement(s))return;let u=[...e,o];if(s.type===w.Fragment){t.push.apply(t,sp(s.props.children,u));return}nt(s.type===go,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=sp(s.props.children,u)),t.push(h)}),t}var Ch="get",Ih="application/x-www-form-urlencoded";function cf(i){return i!=null&&typeof i.tagName=="string"}function tS(i){return cf(i)&&i.tagName.toLowerCase()==="button"}function nS(i){return cf(i)&&i.tagName.toLowerCase()==="form"}function iS(i){return cf(i)&&i.tagName.toLowerCase()==="input"}function rS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function sS(i,e){return i.button===0&&(!e||e==="_self")&&!rS(i)}var vh=null;function aS(){if(vh===null)try{new FormData(document.createElement("form"),0),vh=!1}catch{vh=!0}return vh}var oS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qm(i){return i!=null&&!oS.has(i)?($n(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ih}"`),null):i}function lS(i,e){let t,s,o,u,h;if(nS(i)){let d=i.getAttribute("action");s=d?fs(d,e):null,t=i.getAttribute("method")||Ch,o=qm(i.getAttribute("enctype"))||Ih,u=new FormData(i)}else if(tS(i)||iS(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||d.getAttribute("action");if(s=m?fs(m,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||Ch,o=qm(i.getAttribute("formenctype"))||qm(d.getAttribute("enctype"))||Ih,u=new FormData(d,i),!aS()){let{name:y,type:v,value:A}=i;if(v==="image"){let x=y?`${y}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else y&&u.append(y,A)}}else{if(cf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ch,s=null,o=Ih,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Lp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function uS(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function hS(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await uS(u,t);return h.links?h.links():[]}return[]}));return pS(s.flat(1).filter(cS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function h0(i,e,t,s,o,u){let h=(m,y)=>t[y]?m.route.id!==t[y].route.id:!0,d=(m,y)=>{var v;return t[y].pathname!==m.pathname||((v=t[y].route.path)==null?void 0:v.endsWith("*"))&&t[y].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,y)=>h(m,y)||d(m,y)):u==="data"?e.filter((m,y)=>{var A;let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(h(m,y)||d(m,y))return!0;if(m.route.shouldRevalidate){let x=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=t[0])==null?void 0:A.params)||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function fS(i,e,{includeHydrateFallback:t}={}){return dS(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function dS(i){return[...new Set(i)]}function mS(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function pS(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(mS(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function gS(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function yS(){let i=w.useContext(ko);return Lp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function _S(){let i=w.useContext(uf);return Lp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Up=w.createContext(void 0);Up.displayName="FrameworkContext";function cT(){let i=w.useContext(Up);return Lp(i,"You must render this element inside a <HydratedRouter> element"),i}function vS(i,e){let t=w.useContext(Up),[s,o]=w.useState(!1),[u,h]=w.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:y,onMouseLeave:v,onTouchStart:A}=e,x=w.useRef(null);w.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let $=Q=>{Q.forEach(ee=>{h(ee.isIntersecting)})},U=new IntersectionObserver($,{threshold:.5});return x.current&&U.observe(x.current),()=>{U.disconnect()}}},[i]),w.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let C=()=>{o(!0)},k=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,x,{}]:[u,x,{onFocus:iu(d,C),onBlur:iu(m,k),onMouseEnter:iu(y,C),onMouseLeave:iu(v,k),onTouchStart:iu(A,C)}]:[!1,x,{}]}function iu(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function ES({page:i,...e}){let{router:t}=yS(),s=w.useMemo(()=>eT(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?w.createElement(wS,{page:i,matches:s,...e}):null}function TS(i){let{manifest:e,routeModules:t}=cT(),[s,o]=w.useState([]);return w.useEffect(()=>{let u=!1;return hS(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function wS({page:i,matches:e,...t}){let s=Ts(),{manifest:o,routeModules:u}=cT(),{loaderData:h,matches:d}=_S(),m=w.useMemo(()=>h0(i,e,d,o,s,"data"),[i,e,d,o,s]),y=w.useMemo(()=>h0(i,e,d,o,s,"assets"),[i,e,d,o,s]),v=w.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let C=new Set,k=!1;if(e.forEach(U=>{var ee;let Q=o.routes[U.route.id];!Q||!Q.hasLoader||(!m.some(J=>J.route.id===U.route.id)&&U.route.id in h&&((ee=u[U.route.id])!=null&&ee.shouldRevalidate)||Q.hasClientLoader?k=!0:C.add(U.route.id))}),C.size===0)return[];let $=gS(i);return k&&C.size>0&&$.searchParams.set("_routes",e.filter(U=>C.has(U.route.id)).map(U=>U.route.id).join(",")),[$.pathname+$.search]},[h,s,o,m,e,i,u]),A=w.useMemo(()=>fS(y,o),[y,o]),x=TS(y);return w.createElement(w.Fragment,null,v.map(C=>w.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),A.map(C=>w.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),x.map(({key:C,link:k})=>w.createElement("link",{key:C,...k})))}function bS(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var hT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hT&&(window.__reactRouterVersion="7.2.0")}catch{}function AS({basename:i,children:e,window:t}){let s=w.useRef();s.current==null&&(s.current=cx({window:t,v5Compat:!0}));let o=s.current,[u,h]=w.useState({action:o.action,location:o.location}),d=w.useCallback(m=>{w.startTransition(()=>h(m))},[h]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.createElement(Jx,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var fT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ei=w.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:d,target:m,to:y,preventScrollReset:v,viewTransition:A,...x},C){let{basename:k}=w.useContext(ri),$=typeof y=="string"&&fT.test(y),U,Q=!1;if(typeof y=="string"&&$&&(U=y,hT))try{let R=new URL(window.location.href),D=y.startsWith("//")?new URL(R.protocol+y):new URL(y),V=fs(D.pathname,k);D.origin===R.origin&&V!=null?y=V+D.search+D.hash:Q=!0}catch{$n(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=Px(y,{relative:o}),[J,he,ue]=vS(s,x),Te=CS(y,{replace:h,state:d,target:m,preventScrollReset:v,relative:o,viewTransition:A});function M(R){e&&e(R),R.defaultPrevented||Te(R)}let I=w.createElement("a",{...x,...ue,href:U||ee,onClick:Q||u?e:M,ref:bS(C,he),target:m,"data-discover":!$&&t==="render"?"true":void 0});return J&&!$?w.createElement(w.Fragment,null,I,w.createElement(ES,{page:ee})):I});ei.displayName="Link";var xS=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:d,children:m,...y},v){let A=Ou(h,{relative:y.relative}),x=Ts(),C=w.useContext(uf),{navigator:k,basename:$}=w.useContext(ri),U=C!=null&&kS(A)&&d===!0,Q=k.encodeLocation?k.encodeLocation(A).pathname:A.pathname,ee=x.pathname,J=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(ee=ee.toLowerCase(),J=J?J.toLowerCase():null,Q=Q.toLowerCase()),J&&$&&(J=fs(J,$)||J);const he=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ue=ee===Q||!o&&ee.startsWith(Q)&&ee.charAt(he)==="/",Te=J!=null&&(J===Q||!o&&J.startsWith(Q)&&J.charAt(Q.length)==="/"),M={isActive:ue,isPending:Te,isTransitioning:U},I=ue?e:void 0,R;typeof s=="function"?R=s(M):R=[s,ue?"active":null,Te?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(M):u;return w.createElement(ei,{...y,"aria-current":I,className:R,ref:v,style:D,to:h,viewTransition:d},typeof m=="function"?m(M):m)});xS.displayName="NavLink";var SS=w.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=Ch,action:d,onSubmit:m,relative:y,preventScrollReset:v,viewTransition:A,...x},C)=>{let k=DS(),$=OS(d,{relative:y}),U=h.toLowerCase()==="get"?"get":"post",Q=typeof d=="string"&&fT.test(d),ee=J=>{if(m&&m(J),J.defaultPrevented)return;J.preventDefault();let he=J.nativeEvent.submitter,ue=(he==null?void 0:he.getAttribute("formmethod"))||h;k(he||J.currentTarget,{fetcherKey:e,method:ue,navigate:t,replace:o,state:u,relative:y,preventScrollReset:v,viewTransition:A})};return w.createElement("form",{ref:C,method:U,action:$,onSubmit:s?m:ee,...x,"data-discover":!Q&&i==="render"?"true":void 0})});SS.displayName="Form";function RS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dT(i){let e=w.useContext(ko);return nt(e,RS(i)),e}function CS(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=Oi(),m=Ts(),y=Ou(i,{relative:u});return w.useCallback(v=>{if(sS(v,e)){v.preventDefault();let A=t!==void 0?t:gu(m)===gu(y);d(i,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[m,d,y,t,s,e,i,o,u,h])}var IS=0,NS=()=>`__${String(++IS)}__`;function DS(){let{router:i}=dT("useSubmit"),{basename:e}=w.useContext(ri),t=Yx();return w.useCallback(async(s,o={})=>{let{action:u,method:h,encType:d,formData:m,body:y}=lS(s,e);if(o.navigate===!1){let v=o.fetcherKey||NS();await i.fetch(v,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:y,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:y,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function OS(i,{relative:e}={}){let{basename:t}=w.useContext(ri),s=w.useContext(si);nt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Ou(i||".",{relative:e})},h=Ts();if(i==null){u.search=h.search;let d=new URLSearchParams(u.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(A=>A).forEach(A=>d.append("index",A));let v=d.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:dr([t,u.pathname])),gu(u)}function kS(i,e={}){let t=w.useContext(rT);nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=dT("useViewTransitionState"),o=Ou(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=fs(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=fs(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Bh(o.pathname,h)!=null||Bh(o.pathname,u)!=null}new TextEncoder;function f0({children:i}){return g.jsx("div",{className:"relative h-screen w-screen bg-[#f0f4f9]",children:g.jsx("div",{className:"flex h-full",children:i})})}function jS(){const[i,e]=w.useState([]),[t,s]=w.useState(""),o=w.useRef(!0),u=w.useMemo(()=>{const h=i.findIndex(d=>d.id===t);if(h!==-1)return{invoice:i[h],index:h}},[t,i]);return{invoices:i,setInvoices:e,setCurrentInvoiceId:s,currentInvoiceId:t,currentInvoiceData:u,shouldFetchInvoice:o}}const mT=w.createContext(null);function MS({children:i}){return g.jsx(mT.Provider,{value:jS(),children:i})}const pT=()=>{const i=w.useContext(mT);if(!i)throw new Error("InvoiceContext is not provided");return i};function PS({title:i,titleId:e,...t},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15m-3 0-3-3m0 0 3-3m-3 3H15"}))}const VS=w.forwardRef(PS);function LS({title:i,titleId:e,...t},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const gT=w.forwardRef(LS);function US({title:i,titleId:e,...t},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const zS=w.forwardRef(US);function BS({title:i,titleId:e,...t},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const FS=w.forwardRef(BS);function qS({title:i,titleId:e,...t},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const HS=w.forwardRef(qS);function GS({title:i,titleId:e,...t},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const $S=w.forwardRef(GS);function KS({title:i,titleId:e,...t},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const QS=w.forwardRef(KS);function YS({title:i,titleId:e,...t},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v7.5m2.25-6.466a9.016 9.016 0 0 0-3.461-.203c-.536.072-.974.478-1.021 1.017a4.559 4.559 0 0 0-.018.402c0 .464.336.844.775.994l2.95 1.012c.44.15.775.53.775.994 0 .136-.006.27-.018.402-.047.539-.485.945-1.021 1.017a9.077 9.077 0 0 1-3.461-.203M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const XS=w.forwardRef(YS);function WS({title:i,titleId:e,...t},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Mo=w.forwardRef(WS);function ZS({title:i,titleId:e,...t},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 21v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21m0 0h4.5V3.545M12.75 21h7.5V10.75M2.25 21h1.5m18 0h-18M2.25 9l4.5-1.636M18.75 3l-1.5.545m0 6.205 3 1m1.5.5-1.5-.5M6.75 7.364V3h-3v18m3-13.636 10.5-3.819"}))}const JS=w.forwardRef(ZS);function eR({title:i,titleId:e,...t},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const yT=w.forwardRef(eR);function tR({title:i,titleId:e,...t},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const _T=w.forwardRef(tR);function nR({title:i,titleId:e,...t},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const vT=w.forwardRef(nR);function iR({title:i,titleId:e,...t},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const ET=w.forwardRef(iR);function rR({title:i,titleId:e,...t},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const hf=w.forwardRef(rR);function sR({title:i,titleId:e,...t},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Po=w.forwardRef(sR);function aR({title:i,titleId:e,...t},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const zp=w.forwardRef(aR);function oR({title:i,titleId:e,...t},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Bp=w.forwardRef(oR);function lR({title:i,titleId:e,...t},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const TT=w.forwardRef(lR);function wT(i){var e,t,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var o=i.length;for(e=0;e<o;e++)i[e]&&(t=wT(i[e]))&&(s&&(s+=" "),s+=t)}else for(t in i)i[t]&&(s&&(s+=" "),s+=t);return s}function uR(){for(var i,e,t=0,s="",o=arguments.length;t<o;t++)(i=arguments[t])&&(e=wT(i))&&(s&&(s+=" "),s+=e);return s}const d0=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,m0=uR,Fp=(i,e)=>t=>{var s;if((e==null?void 0:e.variants)==null)return m0(i,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:u}=e,h=Object.keys(o).map(y=>{const v=t==null?void 0:t[y],A=u==null?void 0:u[y];if(v===null)return null;const x=d0(v)||d0(A);return o[y][x]}),d=t&&Object.entries(t).reduce((y,v)=>{let[A,x]=v;return x===void 0||(y[A]=x),y},{}),m=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((y,v)=>{let{class:A,className:x,...C}=v;return Object.entries(C).every(k=>{let[$,U]=k;return Array.isArray(U)?U.includes({...u,...d}[$]):{...u,...d}[$]===U})?[...y,A,x]:y},[]);return m0(i,h,m,t==null?void 0:t.class,t==null?void 0:t.className)},p0=Fp("inline-flex relative space-x-1 items-center z-0",{variants:{variant:{primary:"before:content-[''] before:absolute before:z-[-1] before:inset-0 active:translate-y-[2px] active:before:shadow-none",clear:"before:content-none"},color:{primary:"before:border-[#4a826f] text-[#fff] bg-[#5a9e87] before:shadow-[0_2px_0_#4a826f]",second:"before:border-[#ccc] text-[#333] bg-[#f6f6f6] before:shadow-[0_2px_0_#ccc]",clear:""},size:{primary:"px-5 py-1.5",clear:""},fontWeight:{primary:"font-[500]",clear:""},border:{primary:"before:border-[2px]",thin:"before:border-[1px]",clear:"before:border-b-[2px]"},rounded:{xl:"before:rounded-xl rounded-xl",lg:"before:rounded-lg rounded-lg",md:"before:rounded-md rounded-md"}},defaultVariants:{variant:"primary",color:"primary",size:"primary",fontWeight:"primary",border:"primary",rounded:"lg"}});function cR({onClick:i,loading:e,children:t,border:s,size:o,color:u,fontWeight:h,type:d="button",variant:m,disabled:y,rounded:v,className:A,active:x,href:C},k){const $=y||e,U="before:shadow-none translate-y-[2px]";return g.jsx(g.Fragment,{children:C?g.jsx(ei,{to:C,className:`${p0({variant:m,size:o,color:u,fontWeight:h,rounded:v,border:s,className:A})} ${x?U:""}`,children:t}):g.jsx("button",{ref:k,type:d||"button",onClick:i,disabled:$,className:`${p0({variant:m,size:o,color:x?"primary":u,border:s,fontWeight:h,className:A})} ${x?U:""}`,children:e?g.jsx(gT,{className:"w-6 animate-spin"}):t})})}const Ce=w.forwardRef(cR),hR=Fp("w-full",{variants:{variant:{primary:"bg-white border border-black/10 placeholder:[#888] text-[16px] outline-none py-1.5 px-2",clear:""},rounded:{xl:"rounded-xl",lg:"rounded-lg",md:"rounded-md"}},defaultVariants:{variant:"primary",rounded:"md"}});function fR({variant:i,className:e="",...t},s){return g.jsx("input",{ref:s,className:`${hR({variant:i,className:e})}`,...t})}const ln=w.forwardRef(fR),Xe=i=>new Intl.NumberFormat("en-US").format(i)+" ",dR=i=>+(i/1e3).toFixed(1)*1e3;function yu({value:i,setValue:e}){return g.jsxs("div",{className:"w-full",children:[g.jsx(ln,{step:1e3,min:0,placeholder:"0",value:i?i.toString():"",onChange:t=>isNaN(+t.target.value)?"":e(+t.target.value)}),g.jsxs("span",{className:"text-[#888] text-[16px] mt-1",children:["Formatted: ",Xe(i)]})]})}var mR=JE();function pR({children:i},e){const[t,s]=w.useState(!1),[o,u]=w.useState(!1),h=()=>{o&&u(!1),t||s(!0)},d=()=>{s(!0)},m=()=>{u(!1)};w.useImperativeHandle(e,()=>({toggle:h,open:d,close:m})),w.useEffect(()=>{o||setTimeout(()=>s(!1),150)},[o]),w.useEffect(()=>{t&&u(!0)},[t]);const y={unMountedContent:"opacity-0 scale-[0.9]",mountedContent:"opacity-100 scale-[1]",unMountedLayer:"opacity-0",mountedLayer:"opacity-100"};return g.jsx(g.Fragment,{children:t&&mR.createPortal(g.jsxs(g.Fragment,{children:[g.jsx("div",{className:`fixed transition-opacity ease-linear duration-150 inset-0 bg-black/40
                                ${o?y.mountedLayer:y.unMountedLayer}
                             `,onClick:h}),i&&g.jsx("div",{className:`fixed transition-all ease-linear duration-150 top-[50%] left-[50%] -translate-x-1/2 -translate-y-1/2
                                   ${o?y.mountedContent:y.unMountedContent}
                                `,children:g.jsx("div",{className:"bg-white max-h-[80vh] overflow-hidden p-3 rounded-lg w-[400px] flex flex-col max-w-[90vw]",children:i})})]}),document.querySelector("#portal"))})}const ws=w.forwardRef(pR),Vo="/Argo-Store/assets/simon_empty-ChRLxitn.png";function vn({children:i,less:e,className:t=""}){return g.jsxs("div",{className:`${t}`,children:[g.jsx("img",{className:"m-auto",src:Vo,alt:""}),!e&&g.jsx("p",{className:"text-[16px] text-center",children:"No result found, \\_()_/"}),i]})}const gR=Fp("border-[2px] p-3 border-b-[6px] rounded-[14px]",{variants:{colors:{primary:"bg-white border-[#e1e1e1]",second:"bg-[#cee9b6] border-[#4a826f]",third:"bg-white border-[#4a826f]",clear:""}},defaultVariants:{colors:"primary"}});function We({children:i,onClick:e,colors:t,className:s=""}){return g.jsx("div",{onClick:()=>e?e():{},className:`${gR({colors:t,className:s})} `,children:i})}function _n({icon:i,className:e="",title:t}){return g.jsxs("div",{className:`flex text-xanh-500 gap-2 items-center ${e}`,children:[i,g.jsx("p",{className:"text-xl",children:t})]})}function ki(){return g.jsx("div",{className:"flex flex-grow items-center justify-center",children:g.jsx(gT,{className:"w-6 animate-spin"})})}function ai(){const[i,e]=w.useState(!1),t=w.useRef(null),s=u=>{var h;(h=t.current)!=null&&h.contains(u.target)||e(!1)};w.useEffect(()=>(i&&window.addEventListener("click",s),()=>{window.removeEventListener("click",s)}),[i]);const o={linkItem:"inline-flex space-x-1 py-1.5 hover:text-xanh-500"};return g.jsxs(g.Fragment,{children:[g.jsx(Ce,{ref:t,onClick:()=>e(!i),size:"clear",className:"p-2 !absolute left-[10px] bottom-5",children:g.jsx(zS,{className:"w-6"})}),g.jsxs(We,{colors:"third",className:`absolute bg-white flex duration-[.25] flex-col transition-[left,opacity] bottom-[80px] p-2 ${i?"left-[10px] opacity-[1] pointer-events-auto":"left-0 opacity-[0] pointer-events-none"}`,children:[g.jsxs(ei,{to:"/",className:o.linkItem,children:[g.jsx(yT,{className:"w-6"}),g.jsx("span",{children:"Home"})]}),g.jsxs(ei,{to:"/menu/product",className:o.linkItem,children:[g.jsx($S,{className:"w-6"}),g.jsx("span",{children:"Product"})]}),g.jsxs(ei,{to:"/menu/customer",className:o.linkItem,children:[g.jsx(Bp,{className:"w-6"}),g.jsx("span",{children:"Customer"})]}),g.jsxs(ei,{to:"/menu/invoice",className:o.linkItem,children:[g.jsx(Mo,{className:"w-6"}),g.jsx("span",{children:"Invoice"})]}),g.jsxs(ei,{to:"/menu/receive",className:o.linkItem,children:[g.jsx(JS,{className:"w-6"}),g.jsx("span",{children:"Receive"})]}),g.jsxs(ei,{to:"/menu/setting",className:o.linkItem,children:[g.jsx(HS,{className:"w-6"}),g.jsx("span",{children:"Settings"})]})]})]})}function g0({children:i}){return g.jsxs(MS,{children:[i,g.jsx(ai,{})]})}function yR(){const[i,e]=w.useState([]),[t,s]=w.useState(""),o=w.useRef(!0),u=w.useMemo(()=>{const h=i.findIndex(d=>d.id===t);if(h!==-1)return{receiving:i[h],index:h}},[t,i]);return{receives:i,setReceives:e,shouldFetchWarehouseEntries:o,setCurrentReceivingId:s,currentReceivingData:u}}const bT=w.createContext(null);function _R({children:i}){return g.jsx(bT.Provider,{value:yR(),children:i})}const vR=()=>{const i=w.useContext(bT);if(!i)throw new Error("ReceivesProvider is not provided");return i};function ER(){const[i,e]=w.useState(),[t,s]=w.useState([]);return{setCartItems:s,cartItems:t,resetSelect:()=>{s([])},select:m=>{const y=[...t],v=y.findIndex(x=>x.id===m.id),A={...m,price:0,quantity:0};v===-1?y.push(A):y.splice(v,1),s(y)},remove:m=>{const y=[...t];y.splice(m,1),s(y)},updateCartItem:({index:m,product:y})=>{const v=[...t];v[m]={...v[m],...y},s(v)},receiving:i,setReceiving:e}}const AT=w.createContext(null);function TR({children:i}){return g.jsx(AT.Provider,{value:ER(),children:i})}const Lo=()=>{const i=w.useContext(AT);if(!i)throw new Error("WarehouseCartProvider not provided");return i};function Eh({children:i}){return g.jsx(_R,{children:g.jsx(TR,{children:i})})}function wR(){const[i,e]=w.useState("tien-mat"),[t,s]=w.useState(),[o,u]=w.useState(!1),[h,d]=w.useState(),m=w.useRef(""),y=w.useMemo(()=>h?h.items.reduce((A,x)=>A+x.quantity*x.price,0):0,[h]),v=()=>{d(void 0),s(void 0),e("tien-mat")};return{payMethod:i,setPayMethod:e,customer:t,setCustomer:s,ableToSubmit:o,setAbleToSubmit:u,invoice:h,setInvoice:d,newInvoiceId:m,totalInvoicePrice:+y.toFixed(1),resetCheckout:v}}const xT=w.createContext(null);function bR({children:i}){return g.jsx(xT.Provider,{value:wR(),children:i})}const bs=()=>{const i=w.useContext(xT);if(!i)throw new Error("CheckoutProvider not Provider");return i};function AR(){const[i,e]=w.useState([]),t=m=>{const y=[...i],v=y.findIndex(C=>C.id===m.id),A=m.units.map(C=>({...C,quantity:0})),x={...m,units:A,total:0,total_quantity:0};v===-1?y.push(x):y.splice(v,1),e(y)},s=({index:m,product:y})=>{const v=[...i];v[m]={...v[m],...y},e(v)},o=({productIndex:m,unit:y,unitIndex:v})=>{const A={...i[m].units[v]};if(!A)return;Object.assign(A,y);const x=[...i[m].units];x[v]=A,s({index:m,product:{units:x}})};return{setCartItems:e,cartItems:i,resetCart:()=>{e([])},select:t,action:m=>{const y={...i[m.productIndex].units[m.unitIndex]};if(!y)return;let v=y.quantity;switch(m.type){case"increase":v=v+1;break;case"decrease":v=v-1;break}v<0||o({productIndex:m.productIndex,unit:{quantity:v},unitIndex:m.unitIndex})},remove:m=>{const y=[...i];y.splice(m,1),e(y)},updateCartItem:s,updateUnit:o}}const ST=w.createContext(null);function xR({children:i}){return g.jsx(ST.Provider,{value:AR(),children:i})}const va=()=>{const i=w.useContext(ST);if(!i)throw new Error("SelectSongContext not provided");return i};var y0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},SR=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],d=i[t++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},CT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,d=h?i[o+1]:0,m=o+2<i.length,y=m?i[o+2]:0,v=u>>2,A=(u&3)<<4|d>>4;let x=(d&15)<<2|y>>6,C=y&63;m||(C=64,h||(x=64)),s.push(t[v],t[A],t[x],t[C])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(RT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):SR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],d=o<i.length?t[i.charAt(o)]:0;++o;const y=o<i.length?t[i.charAt(o)]:64;++o;const A=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||d==null||y==null||A==null)throw new RR;const x=u<<2|d>>4;if(s.push(x),y!==64){const C=d<<4&240|y>>2;if(s.push(C),A!==64){const k=y<<6&192|A;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class RR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CR=function(i){const e=RT(i);return CT.encodeByteArray(e,!0)},Fh=function(i){return CR(i).replace(/\./g,"")},IT=function(i){try{return CT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=()=>IR().__FIREBASE_DEFAULTS__,DR=()=>{if(typeof process>"u"||typeof y0>"u")return;const i=y0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},OR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&IT(i[1]);return e&&JSON.parse(e)},ff=()=>{try{return NR()||DR()||OR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},NT=i=>{var e,t;return(t=(e=ff())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},DT=i=>{const e=NT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},OT=()=>{var i;return(i=ff())===null||i===void 0?void 0:i.config},kT=i=>{var e;return(e=ff())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Fh(JSON.stringify(t)),Fh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function MR(){var i;const e=(i=ff())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function LR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UR(){const i=en();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function zR(){return!MR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BR(){try{return typeof indexedDB=="object"}catch{return!1}}function FR(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="FirebaseError";class ji extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=qR,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ku.prototype.create)}}class ku{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?HR(u,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new ji(o,d,s)}}function HR(i,e){return i.replace(GR,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const GR=/\{\$([^}]+)}/g;function $R(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function qh(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(_0(u)&&_0(h)){if(!qh(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function _0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ru(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function su(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function KR(i,e){const t=new QR(i,e);return t.subscribe.bind(t)}class QR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");YR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Hm),o.error===void 0&&(o.error=Hm),o.complete===void 0&&(o.complete=Hm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YR(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Hm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(i){return i&&i._delegate?i._delegate:i}class ds{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new kR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZR(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:WR(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WR(i){return i===ha?void 0:i}function ZR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new XR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Oe||(Oe={}));const e2={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},t2=Oe.INFO,n2={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},i2=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=n2[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qp{constructor(e){this.name=e,this._logLevel=t2,this._logHandler=i2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?e2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const r2=(i,e)=>e.some(t=>i instanceof t);let v0,E0;function s2(){return v0||(v0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a2(){return E0||(E0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MT=new WeakMap,ap=new WeakMap,PT=new WeakMap,Gm=new WeakMap,Hp=new WeakMap;function o2(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(ls(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&MT.set(t,i)}).catch(()=>{}),Hp.set(e,i),e}function l2(i){if(ap.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});ap.set(i,e)}let op={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return ap.get(i);if(e==="objectStoreNames")return i.objectStoreNames||PT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ls(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function u2(i){op=i(op)}function c2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call($m(this),e,...t);return PT.set(s,e.sort?e.sort():[e]),ls(s)}:a2().includes(i)?function(...e){return i.apply($m(this),e),ls(MT.get(this))}:function(...e){return ls(i.apply($m(this),e))}}function h2(i){return typeof i=="function"?c2(i):(i instanceof IDBTransaction&&l2(i),r2(i,s2())?new Proxy(i,op):i)}function ls(i){if(i instanceof IDBRequest)return o2(i);if(Gm.has(i))return Gm.get(i);const e=h2(i);return e!==i&&(Gm.set(i,e),Hp.set(e,i)),e}const $m=i=>Hp.get(i);function f2(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),d=ls(h);return s&&h.addEventListener("upgradeneeded",m=>{s(ls(h.result),m.oldVersion,m.newVersion,ls(h.transaction),m)}),t&&h.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const d2=["get","getKey","getAll","getAllKeys","count"],m2=["put","add","delete","clear"],Km=new Map;function T0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Km.get(e))return Km.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=m2.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||d2.includes(t)))return;const u=async function(h,...d){const m=this.transaction(h,o?"readwrite":"readonly");let y=m.store;return s&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&m.done]))[0]};return Km.set(e,u),u}u2(i=>({...i,get:(e,t,s)=>T0(e,t)||i.get(e,t,s),has:(e,t)=>!!T0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(g2(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function g2(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lp="@firebase/app",w0="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new qp("@firebase/app"),y2="@firebase/app-compat",_2="@firebase/analytics-compat",v2="@firebase/analytics",E2="@firebase/app-check-compat",T2="@firebase/app-check",w2="@firebase/auth",b2="@firebase/auth-compat",A2="@firebase/database",x2="@firebase/data-connect",S2="@firebase/database-compat",R2="@firebase/functions",C2="@firebase/functions-compat",I2="@firebase/installations",N2="@firebase/installations-compat",D2="@firebase/messaging",O2="@firebase/messaging-compat",k2="@firebase/performance",j2="@firebase/performance-compat",M2="@firebase/remote-config",P2="@firebase/remote-config-compat",V2="@firebase/storage",L2="@firebase/storage-compat",U2="@firebase/firestore",z2="@firebase/vertexai",B2="@firebase/firestore-compat",F2="firebase",q2="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="[DEFAULT]",H2={[lp]:"fire-core",[y2]:"fire-core-compat",[v2]:"fire-analytics",[_2]:"fire-analytics-compat",[T2]:"fire-app-check",[E2]:"fire-app-check-compat",[w2]:"fire-auth",[b2]:"fire-auth-compat",[A2]:"fire-rtdb",[x2]:"fire-data-connect",[S2]:"fire-rtdb-compat",[R2]:"fire-fn",[C2]:"fire-fn-compat",[I2]:"fire-iid",[N2]:"fire-iid-compat",[D2]:"fire-fcm",[O2]:"fire-fcm-compat",[k2]:"fire-perf",[j2]:"fire-perf-compat",[M2]:"fire-rc",[P2]:"fire-rc-compat",[V2]:"fire-gcs",[L2]:"fire-gcs-compat",[U2]:"fire-fst",[B2]:"fire-fst-compat",[z2]:"fire-vertex","fire-js":"fire-js",[F2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new Map,G2=new Map,cp=new Map;function b0(i,e){try{i.container.addComponent(e)}catch(t){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function da(i){const e=i.name;if(cp.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;cp.set(e,i);for(const t of Hh.values())b0(t,i);for(const t of G2.values())b0(t,i);return!0}function df(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Rn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},us=new ku("app","Firebase",$2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=q2;function VT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:up,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw us.create("bad-app-name",{appName:String(o)});if(t||(t=OT()),!t)throw us.create("no-options");const u=Hh.get(o);if(u){if(qh(t,u.options)&&qh(s,u.config))return u;throw us.create("duplicate-app",{appName:o})}const h=new JR(o);for(const m of cp.values())h.addComponent(m);const d=new K2(t,s,h);return Hh.set(o,d),d}function Gp(i=up){const e=Hh.get(i);if(!e&&i===up&&OT())return VT();if(!e)throw us.create("no-app",{appName:i});return e}function xi(i,e,t){var s;let o=(s=H2[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(d.join(" "));return}da(new ds(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="firebase-heartbeat-database",Y2=1,_u="firebase-heartbeat-store";let Qm=null;function LT(){return Qm||(Qm=f2(Q2,Y2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(_u)}catch(t){console.warn(t)}}}}).catch(i=>{throw us.create("idb-open",{originalErrorMessage:i.message})})),Qm}async function X2(i){try{const t=(await LT()).transaction(_u),s=await t.objectStore(_u).get(UT(i));return await t.done,s}catch(e){if(e instanceof ji)gr.warn(e.message);else{const t=us.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gr.warn(t.message)}}}async function A0(i,e){try{const s=(await LT()).transaction(_u,"readwrite");await s.objectStore(_u).put(e,UT(i)),await s.done}catch(t){if(t instanceof ji)gr.warn(t.message);else{const s=us.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});gr.warn(s.message)}}}function UT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=1024,Z2=30;class J2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new tC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=x0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Z2){const h=nC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){gr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=x0(),{heartbeatsToSend:s,unsentEntries:o}=eC(this._heartbeatsCache.heartbeats),u=Fh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return gr.warn(t),""}}}function x0(){return new Date().toISOString().substring(0,10)}function eC(i,e=W2){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),S0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),S0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class tC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BR()?FR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await X2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return A0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return A0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function S0(i){return Fh(JSON.stringify({version:2,heartbeats:i})).length}function nC(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(i){da(new ds("platform-logger",e=>new p2(e),"PRIVATE")),da(new ds("heartbeat",e=>new J2(e),"PRIVATE")),xi(lp,w0,i),xi(lp,w0,"esm2017"),xi("fire-js","")}iC("");var rC="firebase",sC="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xi(rC,sC,"app");function $p(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function zT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aC=zT,BT=new ku("auth","Firebase",zT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new qp("@firebase/auth");function oC(i,...e){Gh.logLevel<=Oe.WARN&&Gh.warn(`Auth (${Ea}): ${i}`,...e)}function Nh(i,...e){Gh.logLevel<=Oe.ERROR&&Gh.error(`Auth (${Ea}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(i,...e){throw Kp(i,...e)}function Si(i,...e){return Kp(i,...e)}function FT(i,e,t){const s=Object.assign(Object.assign({},aC()),{[e]:t});return new ku("auth","Firebase",s).create(e,{appName:i.name})}function mr(i){return FT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kp(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return BT.create(i,...e)}function ve(i,e,...t){if(!i)throw Kp(e,...t)}function cr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Nh(e),new Error(e)}function yr(i,e){i||cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function lC(){return R0()==="http:"||R0()==="https:"}function R0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lC()||VR()||"connection"in navigator)?navigator.onLine:!0}function cC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,t){this.shortDelay=e,this.longDelay=t,yr(t>e,"Short delay should be less than long delay!"),this.isMobile=jR()||LR()}get(){return uC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(i,e){yr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=new Mu(3e4,6e4);function As(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function xs(i,e,t,s,o={}){return HT(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const d=ju(Object.assign({key:i.config.apiKey},h)).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const y=Object.assign({method:e,headers:m},u);return PR()||(y.referrerPolicy="no-referrer"),qT.fetch()(GT(i,i.config.apiHost,t,d),y)})}async function HT(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},hC),e);try{const o=new mC(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Th(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[m,y]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Th(i,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw Th(i,"email-already-in-use",h);if(m==="USER_DISABLED")throw Th(i,"user-disabled",h);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw FT(i,v,y);ni(i,v)}}catch(o){if(o instanceof ji)throw o;ni(i,"network-request-failed",{message:String(o)})}}async function Pu(i,e,t,s,o={}){const u=await xs(i,e,t,s,o);return"mfaPendingCredential"in u&&ni(i,"multi-factor-auth-required",{_serverResponse:u}),u}function GT(i,e,t,s){const o=`${e}${t}?${s}`;return i.config.emulator?Qp(i.config,o):`${i.config.apiScheme}://${o}`}function dC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Si(this.auth,"network-request-failed")),fC.get())})}}function Th(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Si(i,e,s);return o.customData._tokenResponse=t,o}function C0(i){return i!==void 0&&i.enterprise!==void 0}class pC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return dC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function gC(i,e){return xs(i,"GET","/v2/recaptchaConfig",As(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(i,e){return xs(i,"POST","/v1/accounts:delete",e)}async function $T(i,e){return xs(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _C(i,e=!1){const t=wt(i),s=await t.getIdToken(e),o=Yp(s);ve(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:cu(Ym(o.auth_time)),issuedAtTime:cu(Ym(o.iat)),expirationTime:cu(Ym(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Ym(i){return Number(i)*1e3}function Yp(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Nh("JWT malformed, contained fewer than 3 sections"),null;try{const o=IT(t);return o?JSON.parse(o):(Nh("Failed to decode base64 JWT payload"),null)}catch(o){return Nh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function I0(i){const e=Yp(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ji&&vC(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function vC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $h(i){var e;const t=i.auth,s=await i.getIdToken(),o=await vu(i,$T(t,{idToken:s}));ve(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?KT(u.providerUserInfo):[],d=wC(i.providerData,h),m=i.isAnonymous,y=!(i.email&&u.passwordHash)&&!(d!=null&&d.length),v=m?y:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new fp(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(i,A)}async function TC(i){const e=wt(i);await $h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wC(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function KT(i){return i.map(e=>{var{providerId:t}=e,s=$p(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(i,e){const t=await HT(i,{},async()=>{const s=ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=GT(i,o,"/v1/token",`key=${u}`),d=await i._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",qT.fetch()(h,{method:"POST",headers:d,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function AC(i,e){return xs(i,"POST","/v2/accounts:revokeToken",As(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):I0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const t=I0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await bC(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new wo;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wo,this.toJSON())}_performRefresh(){return cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class hr{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=$p(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new EC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new fp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await vu(this,this.stsTokenManager.getToken(this.auth,e));return ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return _C(this,e)}reload(){return TC(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new hr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await $h(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(mr(this.auth));const e=await this.getIdToken();return await vu(this,yC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,d,m,y,v;const A=(s=t.displayName)!==null&&s!==void 0?s:void 0,x=(o=t.email)!==null&&o!==void 0?o:void 0,C=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,k=(h=t.photoURL)!==null&&h!==void 0?h:void 0,$=(d=t.tenantId)!==null&&d!==void 0?d:void 0,U=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,Q=(y=t.createdAt)!==null&&y!==void 0?y:void 0,ee=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:J,emailVerified:he,isAnonymous:ue,providerData:Te,stsTokenManager:M}=t;ve(J&&M,e,"internal-error");const I=wo.fromJSON(this.name,M);ve(typeof J=="string",e,"internal-error"),is(A,e.name),is(x,e.name),ve(typeof he=="boolean",e,"internal-error"),ve(typeof ue=="boolean",e,"internal-error"),is(C,e.name),is(k,e.name),is($,e.name),is(U,e.name),is(Q,e.name),is(ee,e.name);const R=new hr({uid:J,auth:e,email:x,emailVerified:he,displayName:A,isAnonymous:ue,photoURL:k,phoneNumber:C,tenantId:$,stsTokenManager:I,createdAt:Q,lastLoginAt:ee});return Te&&Array.isArray(Te)&&(R.providerData=Te.map(D=>Object.assign({},D))),U&&(R._redirectEventId=U),R}static async _fromIdTokenResponse(e,t,s=!1){const o=new wo;o.updateFromServerResponse(t);const u=new hr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await $h(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?KT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new wo;d.updateFromIdToken(s);const m=new hr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new fp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,y),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=new Map;function fr(i){yr(i instanceof Function,"Expected a class definition");let e=N0.get(i);return e?(yr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,N0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}QT.type="NONE";const D0=QT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(i,e,t){return`firebase:${i}:${e}:${t}`}class bo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Dh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Dh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?hr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new bo(fr(D0),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||fr(D0);const h=Dh(s,e.config.apiKey,e.name);let d=null;for(const y of t)try{const v=await y._get(h);if(v){const A=hr._fromJSON(e,v);y!==u&&(d=A),u=y;break}}catch{}const m=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new bo(u,e,s):(u=m[0],d&&await u._set(h,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==u)try{await y._remove(h)}catch{}})),new bo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ew(e))return"Blackberry";if(tw(e))return"Webos";if(XT(e))return"Safari";if((e.includes("chrome/")||WT(e))&&!e.includes("edge/"))return"Chrome";if(JT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function YT(i=en()){return/firefox\//i.test(i)}function XT(i=en()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WT(i=en()){return/crios\//i.test(i)}function ZT(i=en()){return/iemobile/i.test(i)}function JT(i=en()){return/android/i.test(i)}function ew(i=en()){return/blackberry/i.test(i)}function tw(i=en()){return/webos/i.test(i)}function Xp(i=en()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function xC(i=en()){var e;return Xp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SC(){return UR()&&document.documentMode===10}function nw(i=en()){return Xp(i)||JT(i)||tw(i)||ew(i)||/windows phone/i.test(i)||ZT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(i,e=[]){let t;switch(i){case"Browser":t=O0(en());break;case"Worker":t=`${O0(en())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ea}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,d)=>{try{const m=e(u);h(m)}catch(m){d(m)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(i,e={}){return xs(i,"GET","/v2/passwordPolicy",As(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=6;class NC{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:IC,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(h=m.containsNumericCharacter)!==null&&h!==void 0?h:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k0(this),this.idTokenSubscription=new k0(this),this.beforeStateQueue=new RC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fr(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await $T(this,{idToken:e}),s=await hr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Rn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!h||h===d)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $h(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(mr(this));const t=e?wt(e):null;return t&&ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CC(this),t=new NC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ku("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await AC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fr(e)||this._popupRedirectResolver;ve(t,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[fr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,o);return()=>{h=!0,m()}}else{const m=e.addObserver(t);return()=>{h=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&oC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ta(i){return wt(i)}class k0{constructor(e){this.auth=e,this.observer=null,this.addObserver=KR(t=>this.observer=t)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OC(i){mf=i}function rw(i){return mf.loadJS(i)}function kC(){return mf.recaptchaEnterpriseScript}function jC(){return mf.gapiScript}function MC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class PC{constructor(){this.enterprise=new VC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class VC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const LC="recaptcha-enterprise",sw="NO_RECAPTCHA";class UC{constructor(e){this.type=LC,this.auth=Ta(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{gC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new pC(m);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,h(y.siteKey)}}).catch(m=>{d(m)})})}function o(u,h,d){const m=window.grecaptcha;C0(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(y=>{h(y)}).catch(()=>{h(sw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new PC().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(d=>{if(!t&&C0(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let m=kC();m.length!==0&&(m+=d),rw(m).then(()=>{o(d,u,h)}).catch(y=>{h(y)})}}).catch(d=>{h(d)})})}}async function j0(i,e,t,s=!1,o=!1){const u=new UC(i);let h;if(o)h=sw;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function dp(i,e,t,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await j0(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await j0(i,e,t,t==="getOobCode");return s(i,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(i,e){const t=df(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(qh(u,e??{}))return o;ni(o,"already-initialized")}return t.initialize({options:e})}function BC(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(fr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function FC(i,e,t){const s=Ta(i);ve(s._canInitEmulator,s,"emulator-config-failed"),ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=aw(e),{host:h,port:d}=qC(e),m=d===null?"":`:${d}`;s.config.emulator={url:`${u}//${h}${m}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),HC()}function aw(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function qC(i){const e=aw(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:M0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:M0(h)}}}function M0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function HC(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return cr("not implemented")}_getIdTokenResponse(e){return cr("not implemented")}_linkToIdToken(e,t){return cr("not implemented")}_getReauthenticationResolver(e){return cr("not implemented")}}async function GC(i,e){return xs(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(i,e){return Pu(i,"POST","/v1/accounts:signInWithPassword",As(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KC(i,e){return Pu(i,"POST","/v1/accounts:signInWithEmailLink",As(i,e))}async function QC(i,e){return Pu(i,"POST","/v1/accounts:signInWithEmailLink",As(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends Wp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Eu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Eu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dp(e,t,"signInWithPassword",$C);case"emailLink":return KC(e,{email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dp(e,s,"signUpPassword",GC);case"emailLink":return QC(e,{idToken:t,email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(i,e){return Pu(i,"POST","/v1/accounts:signInWithIdp",As(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="http://localhost";class ma extends Wp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ni("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=$p(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ma(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Ao(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Ao(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ao(e,t)}buildRequest(){const e={requestUri:YC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ju(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WC(i){const e=ru(su(i)).link,t=e?ru(su(e)).deep_link_id:null,s=ru(su(i)).deep_link_id;return(s?ru(su(s)).link:null)||s||t||e||i}class Zp{constructor(e){var t,s,o,u,h,d;const m=ru(su(e)),y=(t=m.apiKey)!==null&&t!==void 0?t:null,v=(s=m.oobCode)!==null&&s!==void 0?s:null,A=XC((o=m.mode)!==null&&o!==void 0?o:null);ve(y&&v&&A,"argument-error"),this.apiKey=y,this.operation=A,this.code=v,this.continueUrl=(u=m.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=m.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=WC(e);try{return new Zp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.providerId=Uo.PROVIDER_ID}static credential(e,t){return Eu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Zp.parseLink(t);return ve(s,"argument-error"),Eu._fromEmailAndCode(e,s.code,s.tenantId)}}Uo.PROVIDER_ID="password";Uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends ow{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Vu{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends Vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ma._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ur.credential(t,s)}catch{return null}}}ur.GOOGLE_SIGN_IN_METHOD="google.com";ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Vu{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Vu{constructor(){super("twitter.com")}static credential(e,t){return ma._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return as.credential(t,s)}catch{return null}}}as.TWITTER_SIGN_IN_METHOD="twitter.com";as.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(i,e){return Pu(i,"POST","/v1/accounts:signUp",As(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await hr._fromIdTokenResponse(e,s,o),h=P0(s);return new pa({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=P0(s);return new pa({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function P0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends ji{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Kh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Kh(e,t,s,o)}}function lw(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Kh._fromErrorAndOperation(i,u,e,s):u})}async function JC(i,e,t=!1){const s=await vu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return pa._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(i,e,t=!1){const{auth:s}=i;if(Rn(s.app))return Promise.reject(mr(s));const o="reauthenticate";try{const u=await vu(i,lw(s,o,e,i),t);ve(u.idToken,s,"internal-error");const h=Yp(u.idToken);ve(h,s,"internal-error");const{sub:d}=h;return ve(i.uid===d,s,"user-mismatch"),pa._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ni(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uw(i,e,t=!1){if(Rn(i.app))return Promise.reject(mr(i));const s="signIn",o=await lw(i,s,e),u=await pa._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function tI(i,e){return uw(Ta(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cw(i){const e=Ta(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function nI(i,e,t){if(Rn(i.app))return Promise.reject(mr(i));const s=Ta(i),h=await dp(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZC).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&cw(i),m}),d=await pa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function iI(i,e,t){return Rn(i.app)?Promise.reject(mr(i)):tI(wt(i),Uo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&cw(i),s})}function rI(i,e,t,s){return wt(i).onIdTokenChanged(e,t,s)}function sI(i,e,t){return wt(i).beforeAuthStateChanged(e,t)}function aI(i){return wt(i).signOut()}const Qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qh,"1"),this.storage.removeItem(Qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=1e3,lI=10;class fw extends hw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,m)=>{this.notifyListeners(h,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);SC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,lI):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},oI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}fw.type="LOCAL";const uI=fw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw extends hw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}dw.type="SESSION";const mw=dw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new pf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async y=>y(t.origin,u)),m=await cI(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,m)=>{const y=Jp("",20);o.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(A){const x=A;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(x.data.response);break;default:clearTimeout(v),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(){return window}function fI(i){Ri().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function dI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function pI(){return pw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="firebaseLocalStorageDb",gI=1,Yh="firebaseLocalStorage",yw="fbase_key";class Lu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function gf(i,e){return i.transaction([Yh],e?"readwrite":"readonly").objectStore(Yh)}function yI(){const i=indexedDB.deleteDatabase(gw);return new Lu(i).toPromise()}function mp(){const i=indexedDB.open(gw,gI);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Yh,{keyPath:yw})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Yh)?e(s):(s.close(),await yI(),e(await mp()))})})}async function V0(i,e,t){const s=gf(i,!0).put({[yw]:e,value:t});return new Lu(s).toPromise()}async function _I(i,e){const t=gf(i,!1).get(e),s=await new Lu(t).toPromise();return s===void 0?null:s.value}function L0(i,e){const t=gf(i,!0).delete(e);return new Lu(t).toPromise()}const vI=800,EI=3;class _w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>EI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pf._getInstance(pI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await dI(),!this.activeServiceWorker)return;this.sender=new hI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mp();return await V0(e,Qh,"1"),await L0(e,Qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>V0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>_I(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>L0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=gf(o,!1).getAll();return new Lu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_w.type="LOCAL";const TI=_w;new Mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(i,e){return e?fr(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg extends Wp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ao(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function bI(i){return uw(i.auth,new eg(i),i.bypassAuthState)}function AI(i){const{auth:e,user:t}=i;return ve(t,e,"internal-error"),eI(t,new eg(i),i.bypassAuthState)}async function xI(i){const{auth:e,user:t}=i;return ve(t,e,"internal-error"),JC(t,new eg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bI;case"linkViaPopup":case"linkViaRedirect":return xI;case"reauthViaPopup":case"reauthViaRedirect":return AI;default:ni(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=new Mu(2e3,1e4);class To extends vw{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=Jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SI.get())};e()}}To.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="pendingRedirect",Oh=new Map;class CI extends vw{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Oh.get(this.auth._key());if(!e){try{const s=await II(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Oh.set(this.auth._key(),e)}return this.bypassAuthState||Oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function II(i,e){const t=OI(e),s=DI(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function NI(i,e){Oh.set(i._key(),e)}function DI(i){return fr(i._redirectPersistence)}function OI(i){return Dh(RI,i.config.apiKey,i.name)}async function kI(i,e,t=!1){if(Rn(i.app))return Promise.reject(mr(i));const s=Ta(i),o=wI(s,e),h=await new CI(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=10*60*1e3;class MI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!Ew(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Si(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jI&&this.cachedEventUids.clear(),this.cachedEventUids.has(U0(e))}saveEventToCache(e){this.cachedEventUids.add(U0(e)),this.lastProcessedEventTime=Date.now()}}function U0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Ew({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ew(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(i,e={}){return xs(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UI=/^https?/;async function zI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await VI(i);for(const t of e)try{if(BI(t))return}catch{}ni(i,"unauthorized-domain")}function BI(i){const e=hp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!UI.test(t))return!1;if(LI.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=new Mu(3e4,6e4);function z0(){const i=Ri().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function qI(i){return new Promise((e,t)=>{var s,o,u;function h(){z0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{z0(),t(Si(i,"network-request-failed"))},timeout:FI.get()})}if(!((o=(s=Ri().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ri().gapi)===null||u===void 0)&&u.load)h();else{const d=MC("iframefcb");return Ri()[d]=()=>{gapi.load?h():t(Si(i,"network-request-failed"))},rw(`${jC()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw kh=null,e})}let kh=null;function HI(i){return kh=kh||qI(i),kh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=new Mu(5e3,15e3),$I="__/auth/iframe",KI="emulator/auth/iframe",QI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XI(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Qp(e,KI):`https://${i.config.authDomain}/${$I}`,s={apiKey:e.apiKey,appName:i.name,v:Ea},o=YI.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${ju(s).slice(1)}`}async function WI(i){const e=await HI(i),t=Ri().gapi;return ve(t,i,"internal-error"),e.open({where:document.body,url:XI(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Si(i,"network-request-failed"),d=Ri().setTimeout(()=>{u(h)},GI.get());function m(){Ri().clearTimeout(d),o(s)}s.ping(m).then(m,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JI=500,eN=600,tN="_blank",nN="http://localhost";class B0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iN(i,e,t,s=JI,o=eN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m=Object.assign(Object.assign({},ZI),{width:s.toString(),height:o.toString(),top:u,left:h}),y=en().toLowerCase();t&&(d=WT(y)?tN:t),YT(y)&&(e=e||nN,m.scrollbars="yes");const v=Object.entries(m).reduce((x,[C,k])=>`${x}${C}=${k},`,"");if(xC(y)&&d!=="_self")return rN(e||"",d),new B0(null);const A=window.open(e||"",d,v);ve(A,i,"popup-blocked");try{A.focus()}catch{}return new B0(A)}function rN(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="__/auth/handler",aN="emulator/auth/handler",oN=encodeURIComponent("fac");async function F0(i,e,t,s,o,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Ea,eventId:o};if(e instanceof ow){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",$R(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,A]of Object.entries({}))h[v]=A}if(e instanceof Vu){const v=e.getScopes().filter(A=>A!=="");v.length>0&&(h.scopes=v.join(","))}i.tenantId&&(h.tid=i.tenantId);const d=h;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await i._getAppCheckToken(),y=m?`#${oN}=${encodeURIComponent(m)}`:"";return`${lN(i)}?${ju(d).slice(1)}${y}`}function lN({config:i}){return i.emulator?Qp(i,aN):`https://${i.authDomain}/${sN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="webStorageSupport";class uN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mw,this._completeRedirectFn=kI,this._overrideRedirectResult=NI}async _openPopup(e,t,s,o){var u;yr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await F0(e,t,s,hp(),o);return iN(e,h,Jp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await F0(e,t,s,hp(),o);return fI(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(yr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await WI(e),s=new MI(e);return t.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xm,{type:Xm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Xm];h!==void 0&&t(!!h),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=zI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return nw()||XT()||Xp()}}const cN=uN;var q0="@firebase/auth",H0="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dN(i){da(new ds("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:h,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iw(i)},y=new DC(s,o,u,m);return BC(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),da(new ds("auth-internal",e=>{const t=Ta(e.getProvider("auth").getImmediate());return(s=>new hN(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),xi(q0,H0,fN(i)),xi(q0,H0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=5*60,pN=kT("authIdTokenMaxAge")||mN;let G0=null;const gN=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>pN)return;const o=t==null?void 0:t.token;G0!==o&&(G0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function yN(i=Gp()){const e=df(i,"auth");if(e.isInitialized())return e.getImmediate();const t=zC(i,{popupRedirectResolver:cN,persistence:[TI,uI,mw]}),s=kT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=gN(u.toString());sI(t,h,()=>h(t.currentUser)),rI(t,d=>h(d))}}const o=NT("auth");return o&&FC(t,`http://${o}`),t}function _N(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}OC({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Si("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",_N().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dN("Browser");var $0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cs,Tw;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,I){function R(){}R.prototype=I.prototype,M.D=I.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(D,V,F){for(var O=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)O[bt-2]=arguments[bt];return I.prototype[V].apply(D,O)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,I,R){R||(R=0);var D=Array(16);if(typeof I=="string")for(var V=0;16>V;++V)D[V]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(V=0;16>V;++V)D[V]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=M.g[0],R=M.g[1],V=M.g[2];var F=M.g[3],O=I+(F^R&(V^F))+D[0]+3614090360&4294967295;I=R+(O<<7&4294967295|O>>>25),O=F+(V^I&(R^V))+D[1]+3905402710&4294967295,F=I+(O<<12&4294967295|O>>>20),O=V+(R^F&(I^R))+D[2]+606105819&4294967295,V=F+(O<<17&4294967295|O>>>15),O=R+(I^V&(F^I))+D[3]+3250441966&4294967295,R=V+(O<<22&4294967295|O>>>10),O=I+(F^R&(V^F))+D[4]+4118548399&4294967295,I=R+(O<<7&4294967295|O>>>25),O=F+(V^I&(R^V))+D[5]+1200080426&4294967295,F=I+(O<<12&4294967295|O>>>20),O=V+(R^F&(I^R))+D[6]+2821735955&4294967295,V=F+(O<<17&4294967295|O>>>15),O=R+(I^V&(F^I))+D[7]+4249261313&4294967295,R=V+(O<<22&4294967295|O>>>10),O=I+(F^R&(V^F))+D[8]+1770035416&4294967295,I=R+(O<<7&4294967295|O>>>25),O=F+(V^I&(R^V))+D[9]+2336552879&4294967295,F=I+(O<<12&4294967295|O>>>20),O=V+(R^F&(I^R))+D[10]+4294925233&4294967295,V=F+(O<<17&4294967295|O>>>15),O=R+(I^V&(F^I))+D[11]+2304563134&4294967295,R=V+(O<<22&4294967295|O>>>10),O=I+(F^R&(V^F))+D[12]+1804603682&4294967295,I=R+(O<<7&4294967295|O>>>25),O=F+(V^I&(R^V))+D[13]+4254626195&4294967295,F=I+(O<<12&4294967295|O>>>20),O=V+(R^F&(I^R))+D[14]+2792965006&4294967295,V=F+(O<<17&4294967295|O>>>15),O=R+(I^V&(F^I))+D[15]+1236535329&4294967295,R=V+(O<<22&4294967295|O>>>10),O=I+(V^F&(R^V))+D[1]+4129170786&4294967295,I=R+(O<<5&4294967295|O>>>27),O=F+(R^V&(I^R))+D[6]+3225465664&4294967295,F=I+(O<<9&4294967295|O>>>23),O=V+(I^R&(F^I))+D[11]+643717713&4294967295,V=F+(O<<14&4294967295|O>>>18),O=R+(F^I&(V^F))+D[0]+3921069994&4294967295,R=V+(O<<20&4294967295|O>>>12),O=I+(V^F&(R^V))+D[5]+3593408605&4294967295,I=R+(O<<5&4294967295|O>>>27),O=F+(R^V&(I^R))+D[10]+38016083&4294967295,F=I+(O<<9&4294967295|O>>>23),O=V+(I^R&(F^I))+D[15]+3634488961&4294967295,V=F+(O<<14&4294967295|O>>>18),O=R+(F^I&(V^F))+D[4]+3889429448&4294967295,R=V+(O<<20&4294967295|O>>>12),O=I+(V^F&(R^V))+D[9]+568446438&4294967295,I=R+(O<<5&4294967295|O>>>27),O=F+(R^V&(I^R))+D[14]+3275163606&4294967295,F=I+(O<<9&4294967295|O>>>23),O=V+(I^R&(F^I))+D[3]+4107603335&4294967295,V=F+(O<<14&4294967295|O>>>18),O=R+(F^I&(V^F))+D[8]+1163531501&4294967295,R=V+(O<<20&4294967295|O>>>12),O=I+(V^F&(R^V))+D[13]+2850285829&4294967295,I=R+(O<<5&4294967295|O>>>27),O=F+(R^V&(I^R))+D[2]+4243563512&4294967295,F=I+(O<<9&4294967295|O>>>23),O=V+(I^R&(F^I))+D[7]+1735328473&4294967295,V=F+(O<<14&4294967295|O>>>18),O=R+(F^I&(V^F))+D[12]+2368359562&4294967295,R=V+(O<<20&4294967295|O>>>12),O=I+(R^V^F)+D[5]+4294588738&4294967295,I=R+(O<<4&4294967295|O>>>28),O=F+(I^R^V)+D[8]+2272392833&4294967295,F=I+(O<<11&4294967295|O>>>21),O=V+(F^I^R)+D[11]+1839030562&4294967295,V=F+(O<<16&4294967295|O>>>16),O=R+(V^F^I)+D[14]+4259657740&4294967295,R=V+(O<<23&4294967295|O>>>9),O=I+(R^V^F)+D[1]+2763975236&4294967295,I=R+(O<<4&4294967295|O>>>28),O=F+(I^R^V)+D[4]+1272893353&4294967295,F=I+(O<<11&4294967295|O>>>21),O=V+(F^I^R)+D[7]+4139469664&4294967295,V=F+(O<<16&4294967295|O>>>16),O=R+(V^F^I)+D[10]+3200236656&4294967295,R=V+(O<<23&4294967295|O>>>9),O=I+(R^V^F)+D[13]+681279174&4294967295,I=R+(O<<4&4294967295|O>>>28),O=F+(I^R^V)+D[0]+3936430074&4294967295,F=I+(O<<11&4294967295|O>>>21),O=V+(F^I^R)+D[3]+3572445317&4294967295,V=F+(O<<16&4294967295|O>>>16),O=R+(V^F^I)+D[6]+76029189&4294967295,R=V+(O<<23&4294967295|O>>>9),O=I+(R^V^F)+D[9]+3654602809&4294967295,I=R+(O<<4&4294967295|O>>>28),O=F+(I^R^V)+D[12]+3873151461&4294967295,F=I+(O<<11&4294967295|O>>>21),O=V+(F^I^R)+D[15]+530742520&4294967295,V=F+(O<<16&4294967295|O>>>16),O=R+(V^F^I)+D[2]+3299628645&4294967295,R=V+(O<<23&4294967295|O>>>9),O=I+(V^(R|~F))+D[0]+4096336452&4294967295,I=R+(O<<6&4294967295|O>>>26),O=F+(R^(I|~V))+D[7]+1126891415&4294967295,F=I+(O<<10&4294967295|O>>>22),O=V+(I^(F|~R))+D[14]+2878612391&4294967295,V=F+(O<<15&4294967295|O>>>17),O=R+(F^(V|~I))+D[5]+4237533241&4294967295,R=V+(O<<21&4294967295|O>>>11),O=I+(V^(R|~F))+D[12]+1700485571&4294967295,I=R+(O<<6&4294967295|O>>>26),O=F+(R^(I|~V))+D[3]+2399980690&4294967295,F=I+(O<<10&4294967295|O>>>22),O=V+(I^(F|~R))+D[10]+4293915773&4294967295,V=F+(O<<15&4294967295|O>>>17),O=R+(F^(V|~I))+D[1]+2240044497&4294967295,R=V+(O<<21&4294967295|O>>>11),O=I+(V^(R|~F))+D[8]+1873313359&4294967295,I=R+(O<<6&4294967295|O>>>26),O=F+(R^(I|~V))+D[15]+4264355552&4294967295,F=I+(O<<10&4294967295|O>>>22),O=V+(I^(F|~R))+D[6]+2734768916&4294967295,V=F+(O<<15&4294967295|O>>>17),O=R+(F^(V|~I))+D[13]+1309151649&4294967295,R=V+(O<<21&4294967295|O>>>11),O=I+(V^(R|~F))+D[4]+4149444226&4294967295,I=R+(O<<6&4294967295|O>>>26),O=F+(R^(I|~V))+D[11]+3174756917&4294967295,F=I+(O<<10&4294967295|O>>>22),O=V+(I^(F|~R))+D[2]+718787259&4294967295,V=F+(O<<15&4294967295|O>>>17),O=R+(F^(V|~I))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+I&4294967295,M.g[1]=M.g[1]+(V+(O<<21&4294967295|O>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+F&4294967295}s.prototype.u=function(M,I){I===void 0&&(I=M.length);for(var R=I-this.blockSize,D=this.B,V=this.h,F=0;F<I;){if(V==0)for(;F<=R;)o(this,M,F),F+=this.blockSize;if(typeof M=="string"){for(;F<I;)if(D[V++]=M.charCodeAt(F++),V==this.blockSize){o(this,D),V=0;break}}else for(;F<I;)if(D[V++]=M[F++],V==this.blockSize){o(this,D),V=0;break}}this.h=V,this.o+=I},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var I=1;I<M.length-8;++I)M[I]=0;var R=8*this.o;for(I=M.length-8;I<M.length;++I)M[I]=R&255,R/=256;for(this.u(M),M=Array(16),I=R=0;4>I;++I)for(var D=0;32>D;D+=8)M[R++]=this.g[I]>>>D&255;return M};function u(M,I){var R=d;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=I(M)}function h(M,I){this.h=I;for(var R=[],D=!0,V=M.length-1;0<=V;V--){var F=M[V]|0;D&&F==I||(R[V]=F,D=!1)}this.g=R}var d={};function m(M){return-128<=M&&128>M?u(M,function(I){return new h([I|0],0>I?-1:0)}):new h([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return A;if(0>M)return U(y(-M));for(var I=[],R=1,D=0;M>=R;D++)I[D]=M/R|0,R*=4294967296;return new h(I,0)}function v(M,I){if(M.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(M.charAt(0)=="-")return U(v(M.substring(1),I));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(I,8)),D=A,V=0;V<M.length;V+=8){var F=Math.min(8,M.length-V),O=parseInt(M.substring(V,V+F),I);8>F?(F=y(Math.pow(I,F)),D=D.j(F).add(y(O))):(D=D.j(R),D=D.add(y(O)))}return D}var A=m(0),x=m(1),C=m(16777216);i=h.prototype,i.m=function(){if($(this))return-U(this).m();for(var M=0,I=1,R=0;R<this.g.length;R++){var D=this.i(R);M+=(0<=D?D:4294967296+D)*I,I*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(k(this))return"0";if($(this))return"-"+U(this).toString(M);for(var I=y(Math.pow(M,6)),R=this,D="";;){var V=he(R,I).g;R=Q(R,V.j(I));var F=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=V,k(R))return F+D;for(;6>F.length;)F="0"+F;D=F+D}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function k(M){if(M.h!=0)return!1;for(var I=0;I<M.g.length;I++)if(M.g[I]!=0)return!1;return!0}function $(M){return M.h==-1}i.l=function(M){return M=Q(this,M),$(M)?-1:k(M)?0:1};function U(M){for(var I=M.g.length,R=[],D=0;D<I;D++)R[D]=~M.g[D];return new h(R,~M.h).add(x)}i.abs=function(){return $(this)?U(this):this},i.add=function(M){for(var I=Math.max(this.g.length,M.g.length),R=[],D=0,V=0;V<=I;V++){var F=D+(this.i(V)&65535)+(M.i(V)&65535),O=(F>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);D=O>>>16,F&=65535,O&=65535,R[V]=O<<16|F}return new h(R,R[R.length-1]&-2147483648?-1:0)};function Q(M,I){return M.add(U(I))}i.j=function(M){if(k(this)||k(M))return A;if($(this))return $(M)?U(this).j(U(M)):U(U(this).j(M));if($(M))return U(this.j(U(M)));if(0>this.l(C)&&0>M.l(C))return y(this.m()*M.m());for(var I=this.g.length+M.g.length,R=[],D=0;D<2*I;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<M.g.length;V++){var F=this.i(D)>>>16,O=this.i(D)&65535,bt=M.i(V)>>>16,pt=M.i(V)&65535;R[2*D+2*V]+=O*pt,ee(R,2*D+2*V),R[2*D+2*V+1]+=F*pt,ee(R,2*D+2*V+1),R[2*D+2*V+1]+=O*bt,ee(R,2*D+2*V+1),R[2*D+2*V+2]+=F*bt,ee(R,2*D+2*V+2)}for(D=0;D<I;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=I;D<2*I;D++)R[D]=0;return new h(R,0)};function ee(M,I){for(;(M[I]&65535)!=M[I];)M[I+1]+=M[I]>>>16,M[I]&=65535,I++}function J(M,I){this.g=M,this.h=I}function he(M,I){if(k(I))throw Error("division by zero");if(k(M))return new J(A,A);if($(M))return I=he(U(M),I),new J(U(I.g),U(I.h));if($(I))return I=he(M,U(I)),new J(U(I.g),I.h);if(30<M.g.length){if($(M)||$(I))throw Error("slowDivide_ only works with positive integers.");for(var R=x,D=I;0>=D.l(M);)R=ue(R),D=ue(D);var V=Te(R,1),F=Te(D,1);for(D=Te(D,2),R=Te(R,2);!k(D);){var O=F.add(D);0>=O.l(M)&&(V=V.add(R),F=O),D=Te(D,1),R=Te(R,1)}return I=Q(M,V.j(I)),new J(V,I)}for(V=A;0<=M.l(I);){for(R=Math.max(1,Math.floor(M.m()/I.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),F=y(R),O=F.j(I);$(O)||0<O.l(M);)R-=D,F=y(R),O=F.j(I);k(F)&&(F=x),V=V.add(F),M=Q(M,O)}return new J(V,M)}i.A=function(M){return he(this,M).h},i.and=function(M){for(var I=Math.max(this.g.length,M.g.length),R=[],D=0;D<I;D++)R[D]=this.i(D)&M.i(D);return new h(R,this.h&M.h)},i.or=function(M){for(var I=Math.max(this.g.length,M.g.length),R=[],D=0;D<I;D++)R[D]=this.i(D)|M.i(D);return new h(R,this.h|M.h)},i.xor=function(M){for(var I=Math.max(this.g.length,M.g.length),R=[],D=0;D<I;D++)R[D]=this.i(D)^M.i(D);return new h(R,this.h^M.h)};function ue(M){for(var I=M.g.length+1,R=[],D=0;D<I;D++)R[D]=M.i(D)<<1|M.i(D-1)>>>31;return new h(R,M.h)}function Te(M,I){var R=I>>5;I%=32;for(var D=M.g.length-R,V=[],F=0;F<D;F++)V[F]=0<I?M.i(F+R)>>>I|M.i(F+R+1)<<32-I:M.i(F+R);return new h(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Tw=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=v,cs=h}).apply(typeof $0<"u"?$0:typeof self<"u"?self:typeof window<"u"?window:{});var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ww,au,bw,jh,pp,Aw,xw,Sw;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,_,E){return c==Array.prototype||c==Object.prototype||(c[_]=E.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof wh=="object"&&wh];for(var _=0;_<c.length;++_){var E=c[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=t(this);function o(c,_){if(_)e:{var E=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in E))break e;E=E[B]}c=c[c.length-1],S=E[c],_=_(S),_!=S&&_!=null&&e(E,c,{configurable:!0,writable:!0,value:_})}}function u(c,_){c instanceof String&&(c+="");var E=0,S=!1,B={next:function(){if(!S&&E<c.length){var G=E++;return{value:_(G,c[G]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function m(c){var _=typeof c;return _=_!="object"?_:c?Array.isArray(c)?"array":_:"null",_=="array"||_=="object"&&typeof c.length=="number"}function y(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function v(c,_,E){return c.call.apply(c.bind,arguments)}function A(c,_,E){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),c.apply(_,B)}}return function(){return c.apply(_,arguments)}}function x(c,_,E){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:A,x.apply(null,arguments)}function C(c,_){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function k(c,_){function E(){}E.prototype=_.prototype,c.aa=_.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(S,B,G){for(var ie=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ie[Pe-2]=arguments[Pe];return _.prototype[B].apply(S,ie)}}function $(c){const _=c.length;if(0<_){const E=Array(_);for(let S=0;S<_;S++)E[S]=c[S];return E}return[]}function U(c,_){for(let E=1;E<arguments.length;E++){const S=arguments[E];if(m(S)){const B=c.length||0,G=S.length||0;c.length=B+G;for(let ie=0;ie<G;ie++)c[B+ie]=S[ie]}else c.push(S)}}class Q{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function ee(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var ue=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function Te(c,_,E){for(const S in c)_.call(E,c[S],S,c)}function M(c,_){for(const E in c)_.call(void 0,c[E],E,c)}function I(c){const _={};for(const E in c)_[E]=c[E];return _}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,_){let E,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(E in S)c[E]=S[E];for(let G=0;G<R.length;G++)E=R[G],Object.prototype.hasOwnProperty.call(S,E)&&(c[E]=S[E])}}function V(c){var _=1;c=c.split(":");const E=[];for(;0<_&&c.length;)E.push(c.shift()),_--;return c.length&&E.push(c.join(":")),E}function F(c){d.setTimeout(()=>{throw c},0)}function O(){var c=He;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class bt{constructor(){this.h=this.g=null}add(_,E){const S=pt.get();S.set(_,E),this.h?this.h.next=S:this.g=S,this.h=S}}var pt=new Q(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,pe=!1,He=new bt,j=()=>{const c=d.Promise.resolve(void 0);_e=()=>{c.then(ne)}};var ne=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(E){F(E)}var _=pt;_.j(c),100>_.h&&(_.h++,c.next=_.g,_.g=c)}pe=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};d.addEventListener("test",E,_),d.removeEventListener("test",E,_)}catch{}return c}();function Re(c,_){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget){if(ue){e:{try{he(_.nodeName);var B=!0;break e}catch{}B=!1}B||(_=null)}}else E=="mouseover"?_=c.fromElement:E=="mouseout"&&(_=c.toElement);this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:xe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Re.aa.h.call(this)}}k(Re,ae);var xe={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),ze=0;function ot(c,_,E,S,B){this.listener=c,this.proxy=null,this.src=_,this.type=E,this.capture=!!S,this.ha=B,this.key=++ze,this.da=this.fa=!1}function Ke(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function tn(c){this.src=c,this.g={},this.h=0}tn.prototype.add=function(c,_,E,S,B){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ie=In(c,_,S,B);return-1<ie?(_=c[ie],E||(_.fa=!1)):(_=new ot(_,this.src,G,!!S,B),_.fa=E,c.push(_)),_};function Pi(c,_){var E=_.type;if(E in c.g){var S=c.g[E],B=Array.prototype.indexOf.call(S,_,void 0),G;(G=0<=B)&&Array.prototype.splice.call(S,B,1),G&&(Ke(_),c.g[E].length==0&&(delete c.g[E],c.h--))}}function In(c,_,E,S){for(var B=0;B<c.length;++B){var G=c[B];if(!G.da&&G.listener==_&&G.capture==!!E&&G.ha==S)return B}return-1}var Er="closure_lm_"+(1e6*Math.random()|0),Tr={};function Vi(c,_,E,S,B){if(Array.isArray(_)){for(var G=0;G<_.length;G++)Vi(c,_[G],E,S,B);return null}return E=Zu(E),c&&c[gt]?c.K(_,E,y(S)?!!S.capture:!1,B):Yo(c,_,E,!1,S,B)}function Yo(c,_,E,S,B,G){if(!_)throw Error("Invalid event type");var ie=y(B)?!!B.capture:!!B,Pe=Xo(c);if(Pe||(c[Er]=Pe=new tn(c)),E=Pe.add(_,E,S,ie,G),E.proxy)return E;if(S=xa(),E.proxy=S,S.src=c,S.listener=E,c.addEventListener)oe||(B=ie),B===void 0&&(B=!1),c.addEventListener(_.toString(),S,B);else if(c.attachEvent)c.attachEvent(Ra(_.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function xa(){function c(E){return _.call(c.src,c.listener,E)}const _=Lf;return c}function Sa(c,_,E,S,B){if(Array.isArray(_))for(var G=0;G<_.length;G++)Sa(c,_[G],E,S,B);else S=y(S)?!!S.capture:!!S,E=Zu(E),c&&c[gt]?(c=c.i,_=String(_).toString(),_ in c.g&&(G=c.g[_],E=In(G,E,S,B),-1<E&&(Ke(G[E]),Array.prototype.splice.call(G,E,1),G.length==0&&(delete c.g[_],c.h--)))):c&&(c=Xo(c))&&(_=c.g[_.toString()],c=-1,_&&(c=In(_,E,S,B)),(E=-1<c?_[c]:null)&&ks(E))}function ks(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[gt])Pi(_.i,c);else{var E=c.type,S=c.proxy;_.removeEventListener?_.removeEventListener(E,S,c.capture):_.detachEvent?_.detachEvent(Ra(E),S):_.addListener&&_.removeListener&&_.removeListener(S),(E=Xo(_))?(Pi(E,c),E.h==0&&(E.src=null,_[Er]=null)):Ke(c)}}}function Ra(c){return c in Tr?Tr[c]:Tr[c]="on"+c}function Lf(c,_){if(c.da)c=!0;else{_=new Re(_,this);var E=c.listener,S=c.ha||c.src;c.fa&&ks(c),c=E.call(S,_)}return c}function Xo(c){return c=c[Er],c instanceof tn?c:null}var dn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zu(c){return typeof c=="function"?c:(c[dn]||(c[dn]=function(_){return c.handleEvent(_)}),c[dn])}function At(){de.call(this),this.i=new tn(this),this.M=this,this.F=null}k(At,de),At.prototype[gt]=!0,At.prototype.removeEventListener=function(c,_,E,S){Sa(this,c,_,E,S)};function Ot(c,_){var E,S=c.F;if(S)for(E=[];S;S=S.F)E.push(S);if(c=c.M,S=_.type||_,typeof _=="string")_=new ae(_,c);else if(_ instanceof ae)_.target=_.target||c;else{var B=_;_=new ae(S,c),D(_,B)}if(B=!0,E)for(var G=E.length-1;0<=G;G--){var ie=_.g=E[G];B=Li(ie,S,!0,_)&&B}if(ie=_.g=c,B=Li(ie,S,!0,_)&&B,B=Li(ie,S,!1,_)&&B,E)for(G=0;G<E.length;G++)ie=_.g=E[G],B=Li(ie,S,!1,_)&&B}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var c=this.i,_;for(_ in c.g){for(var E=c.g[_],S=0;S<E.length;S++)Ke(E[S]);delete c.g[_],c.h--}}this.F=null},At.prototype.K=function(c,_,E,S){return this.i.add(String(c),_,!1,E,S)},At.prototype.L=function(c,_,E,S){return this.i.add(String(c),_,!0,E,S)};function Li(c,_,E,S){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();for(var B=!0,G=0;G<_.length;++G){var ie=_[G];if(ie&&!ie.da&&ie.capture==E){var Pe=ie.listener,St=ie.ha||ie.src;ie.fa&&Pi(c.i,ie),B=Pe.call(St,S)!==!1&&B}}return B&&!S.defaultPrevented}function Ju(c,_,E){if(typeof c=="function")E&&(c=x(c,E));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:d.setTimeout(c,_||0)}function Wo(c){c.g=Ju(()=>{c.g=null,c.i&&(c.i=!1,Wo(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class Uf extends de{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Wo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function js(c){de.call(this),this.h=c,this.g={}}k(js,de);var wr=[];function Qt(c){Te(c.g,function(_,E){this.g.hasOwnProperty(E)&&ks(_)},c),c.g={}}js.prototype.N=function(){js.aa.N.call(this),Qt(this)},js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zo=d.JSON.stringify,li=d.JSON.parse,nn=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Jo(){}Jo.prototype.h=null;function ec(c){return c.h||(c.h=c.i())}function tc(){}var ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function br(){ae.call(this,"d")}k(br,ae);function Qn(){ae.call(this,"c")}k(Qn,ae);var Nn={},Ar=null;function Ca(){return Ar=Ar||new At}Nn.La="serverreachability";function el(c){ae.call(this,Nn.La,c)}k(el,ae);function xr(c){const _=Ca();Ot(_,new el(_))}Nn.STAT_EVENT="statevent";function Ia(c,_){ae.call(this,Nn.STAT_EVENT,c),this.stat=_}k(Ia,ae);function ft(c){const _=Ca();Ot(_,new Ia(_,c))}Nn.Ma="timingevent";function nc(c,_){ae.call(this,Nn.Ma,c),this.size=_}k(nc,ae);function Sr(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},_)}function Rr(){this.g=!0}Rr.prototype.xa=function(){this.g=!1};function ic(c,_,E,S,B,G){c.info(function(){if(c.g)if(G)for(var ie="",Pe=G.split("&"),St=0;St<Pe.length;St++){var Ve=Pe[St].split("=");if(1<Ve.length){var Mt=Ve[0];Ve=Ve[1];var Rt=Mt.split("_");ie=2<=Rt.length&&Rt[1]=="type"?ie+(Mt+"="+Ve+"&"):ie+(Mt+"=redacted&")}}else ie=null;else ie=G;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+_+`
`+E+`
`+ie})}function rc(c,_,E,S,B,G,ie){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+_+`
`+E+`
`+G+" "+ie})}function Cr(c,_,E,S){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+kt(c,E)+(S?" "+S:"")})}function ci(c,_){c.info(function(){return"TIMEOUT: "+_})}Rr.prototype.info=function(){};function kt(c,_){if(!c.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var S=E[c];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var G=B[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ie=1;ie<B.length;ie++)B[ie]=""}}}}return Zo(E)}catch{return _}}var xt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ms;function Na(){}k(Na,Jo),Na.prototype.g=function(){return new XMLHttpRequest},Na.prototype.i=function(){return{}},Ms=new Na;function hi(c,_,E,S){this.j=c,this.i=_,this.l=E,this.R=S||1,this.U=new js(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tl}function tl(){this.i=null,this.g="",this.h=!1}var Ir={},Ps={};function Yn(c,_,E){c.L=1,c.v=Us(lt(_)),c.m=E,c.P=!0,zi(c,null)}function zi(c,_){c.F=Date.now(),it(c),c.A=lt(c.v);var E=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),qi(E.i,"t",S),c.C=0,E=c.j.J,c.h=new tl,c.g=_c(c.j,E?_:null,!c.m),0<c.O&&(c.M=new Uf(x(c.Y,c,c.g),c.O)),_=c.U,E=c.g,S=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(wr[0]=B.toString()),B=wr);for(var G=0;G<B.length;G++){var ie=Vi(E,B[G],S||_.handleEvent,!1,_.h||_);if(!ie)break;_.g[ie.key]=ie}_=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,_)):(c.u="GET",c.g.ea(c.A,c.u,null,_)),xr(),ic(c.i,c.u,c.A,c.l,c.R,c.m)}hi.prototype.ca=function(c){c=c.target;const _=this.M;_&&Mn(c)==3?_.j():this.Y(c)},hi.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=Mn(this.g);var _=this.g.Ba();const Ki=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||cc(this.g)))){this.J||Rt!=4||_==7||(_==8||0>=Ki?xr(3):xr(2)),Da(this);var E=this.g.Z();this.X=E;t:if(Nr(this)){var S=cc(this.g);c="";var B=S.length,G=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),En(this);var ie="";break t}this.h.i=new d.TextDecoder}for(_=0;_<B;_++)this.h.h=!0,c+=this.h.i.decode(S[_],{stream:!(G&&_==B-1)});S.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=E==200,rc(this.i,this.u,this.A,this.l,this.R,Rt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,St=this.g;if((Pe=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(Pe)){var Ve=Pe;break t}}Ve=null}if(E=Ve)Cr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tn(this,E);else{this.o=!1,this.s=3,ft(12),mn(this),En(this);break e}}if(this.P){E=!0;let zt;for(;!this.J&&this.C<ie.length;)if(zt=Dr(this,ie),zt==Ps){Rt==4&&(this.s=4,ft(14),E=!1),Cr(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Ir){this.s=4,ft(15),Cr(this.i,this.l,ie,"[Invalid Chunk]"),E=!1;break}else Cr(this.i,this.l,zt,null),Tn(this,zt);if(Nr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||ie.length!=0||this.h.h||(this.s=1,ft(16),E=!1),this.o=this.o&&E,!E)Cr(this.i,this.l,ie,"[Invalid Chunked Response]"),mn(this),En(this);else if(0<ie.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),$s(Mt),Mt.M=!0,ft(11))}}else Cr(this.i,this.l,ie,null),Tn(this,ie);Rt==4&&mn(this),this.o&&!this.J&&(Rt==4?pc(this.j,this):(this.o=!1,it(this)))}else Gf(this.g),E==400&&0<ie.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),mn(this),En(this)}}}catch{}finally{}};function Nr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Dr(c,_){var E=c.C,S=_.indexOf(`
`,E);return S==-1?Ps:(E=Number(_.substring(E,S)),isNaN(E)?Ir:(S+=1,S+E>_.length?Ps:(_=_.slice(S,S+E),c.C=S+E,_)))}hi.prototype.cancel=function(){this.J=!0,mn(this)};function it(c){c.S=Date.now()+c.I,nl(c,c.I)}function nl(c,_){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Sr(x(c.ba,c),_)}function Da(c){c.B&&(d.clearTimeout(c.B),c.B=null)}hi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ci(this.i,this.A),this.L!=2&&(xr(),ft(17)),mn(this),this.s=2,En(this)):nl(this,this.S-c)};function En(c){c.j.G==0||c.J||pc(c.j,c)}function mn(c){Da(c);var _=c.M;_&&typeof _.ma=="function"&&_.ma(),c.M=null,Qt(c.U),c.g&&(_=c.g,c.g=null,_.abort(),_.ma())}function Tn(c,_){try{var E=c.j;if(E.G!=0&&(E.g==c||Or(E.h,c))){if(!c.K&&Or(E.h,c)&&E.G==3){try{var S=E.Da.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)Ba(E),Ua(E);else break e;dl(E),ft(18)}}else E.za=B[1],0<E.za-E.T&&37500>B[2]&&E.F&&E.v==0&&!E.C&&(E.C=Sr(x(E.Za,E),6e3));if(1>=sc(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else $i(E,11)}else if((c.K||E.g==c)&&Ba(E),!ee(_))for(B=E.Da.g.parse(_),_=0;_<B.length;_++){let Ve=B[_];if(E.T=Ve[0],Ve=Ve[1],E.G==2)if(Ve[0]=="c"){E.K=Ve[1],E.ia=Ve[2];const Mt=Ve[3];Mt!=null&&(E.la=Mt,E.j.info("VER="+E.la));const Rt=Ve[4];Rt!=null&&(E.Aa=Rt,E.j.info("SVER="+E.Aa));const Ki=Ve[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(S=1.5*Ki,E.L=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const zt=c.g;if(zt){const _i=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var G=S.h;G.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(kr(G,G.h),G.h=null))}if(S.D){const pl=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;pl&&(S.ya=pl,Be(S.I,S.D,pl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),S=E;var ie=c;if(S.qa=yc(S,S.J?S.ia:null,S.W),ie.K){Dn(S.h,ie);var Pe=ie,St=S.L;St&&(Pe.I=St),Pe.B&&(Da(Pe),it(Pe)),S.g=ie}else dc(S);0<E.i.length&&za(E)}else Ve[0]!="stop"&&Ve[0]!="close"||$i(E,7);else E.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?$i(E,7):hl(E):Ve[0]!="noop"&&E.l&&E.l.ta(Ve),E.v=0)}}xr(4)}catch{}}var zf=class{constructor(c,_){this.g=c,this.map=_}};function il(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function sc(c){return c.h?1:c.g?c.g.size:0}function Or(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function kr(c,_){c.g?c.g.add(_):c.h=_}function Dn(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}il.prototype.cancel=function(){if(this.i=rn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function rn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const E of c.g.values())_=_.concat(E.D);return _}return $(c.i)}function ac(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var _=[],E=c.length,S=0;S<E;S++)_.push(c[S]);return _}_=[],E=0;for(S in c)_[E++]=c[S];return _}function Bf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var _=[];c=c.length;for(var E=0;E<c;E++)_.push(E);return _}_=[],E=0;for(const S in c)_[E++]=S;return _}}}function Vs(c,_){if(c.forEach&&typeof c.forEach=="function")c.forEach(_,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,_,void 0);else for(var E=Bf(c),S=ac(c),B=S.length,G=0;G<B;G++)_.call(void 0,S[G],E&&E[G],c)}var sl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oa(c,_){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var S=c[E].indexOf("="),B=null;if(0<=S){var G=c[E].substring(0,S);B=c[E].substring(S+1)}else G=c[E];_(G,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Bi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Bi){this.h=c.h,jr(this,c.j),this.o=c.o,this.g=c.g,Ls(this,c.s),this.l=c.l;var _=c.i,E=new fi;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),ka(this,E),this.m=c.m}else c&&(_=String(c).match(sl))?(this.h=!1,jr(this,_[1]||"",!0),this.o=Mr(_[2]||""),this.g=Mr(_[3]||"",!0),Ls(this,_[4]),this.l=Mr(_[5]||"",!0),ka(this,_[6]||"",!0),this.m=Mr(_[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}Bi.prototype.toString=function(){var c=[],_=this.j;_&&c.push(On(_,al,!0),":");var E=this.g;return(E||_=="file")&&(c.push("//"),(_=this.o)&&c.push(On(_,al,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(On(E,E.charAt(0)=="/"?ol:oc,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",On(E,Hf)),c.join("")};function lt(c){return new Bi(c)}function jr(c,_,E){c.j=E?Mr(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function Ls(c,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);c.s=_}else c.s=null}function ka(c,_,E){_ instanceof fi?(c.i=_,ll(c.i,c.h)):(E||(_=On(_,qf)),c.i=new fi(_,c.h))}function Be(c,_,E){c.i.set(_,E)}function Us(c){return Be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Mr(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function On(c,_,E){return typeof c=="string"?(c=encodeURI(c).replace(_,Ff),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ff(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var al=/[#\/\?@]/g,oc=/[#\?:]/g,ol=/[#\?]/g,qf=/[#\?@]/g,Hf=/#/g;function fi(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function kn(c){c.g||(c.g=new Map,c.h=0,c.i&&Oa(c.i,function(_,E){c.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}i=fi.prototype,i.add=function(c,_){kn(this),this.i=null,c=Hi(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(_),this.h+=1,this};function ja(c,_){kn(c),_=Hi(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function Fi(c,_){return kn(c),_=Hi(c,_),c.g.has(_)}i.forEach=function(c,_){kn(this),this.g.forEach(function(E,S){E.forEach(function(B){c.call(_,B,S,this)},this)},this)},i.na=function(){kn(this);const c=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let S=0;S<_.length;S++){const B=c[S];for(let G=0;G<B.length;G++)E.push(_[S])}return E},i.V=function(c){kn(this);let _=[];if(typeof c=="string")Fi(this,c)&&(_=_.concat(this.g.get(Hi(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)_=_.concat(c[E])}return _},i.set=function(c,_){return kn(this),this.i=null,c=Hi(this,c),Fi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},i.get=function(c,_){return c?(c=this.V(c),0<c.length?String(c[0]):_):_};function qi(c,_,E){ja(c,_),0<E.length&&(c.i=null,c.g.set(Hi(c,_),$(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var S=_[E];const G=encodeURIComponent(String(S)),ie=this.V(S);for(S=0;S<ie.length;S++){var B=G;ie[S]!==""&&(B+="="+encodeURIComponent(String(ie[S]))),c.push(B)}}return this.i=c.join("&")};function Hi(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function ll(c,_){_&&!c.j&&(kn(c),c.i=null,c.g.forEach(function(E,S){var B=S.toLowerCase();S!=B&&(ja(this,S),qi(this,B,E))},c)),c.j=_}function lc(c,_){const E=new Rr;if(d.Image){const S=new Image;S.onload=C(jn,E,"TestLoadImage: loaded",!0,_,S),S.onerror=C(jn,E,"TestLoadImage: error",!1,_,S),S.onabort=C(jn,E,"TestLoadImage: abort",!1,_,S),S.ontimeout=C(jn,E,"TestLoadImage: timeout",!1,_,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else _(!1)}function zs(c,_){const E=new Rr,S=new AbortController,B=setTimeout(()=>{S.abort(),jn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(B),G.ok?jn(E,"TestPingServer: ok",!0,_):jn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(B),jn(E,"TestPingServer: error",!1,_)})}function jn(c,_,E,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(E)}catch{}}function Bs(){this.g=new nn}function di(c,_,E){const S=E||"";try{Vs(c,function(B,G){let ie=B;y(B)&&(ie=Zo(B)),_.push(S+G+"="+encodeURIComponent(ie))})}catch(B){throw _.push(S+"type="+encodeURIComponent("_badmap")),B}}function Pr(c){this.l=c.Ub||null,this.j=c.eb||!1}k(Pr,Jo),Pr.prototype.g=function(){return new Gi(this.l,this.j)},Pr.prototype.i=function(c){return function(){return c}}({});function Gi(c,_){At.call(this),this.D=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Gi,At),i=Gi.prototype,i.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=_,this.readyState=1,pi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(_.body=c),(this.D||d).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ul(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ul(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?mi(this):pi(this),this.readyState==3&&ul(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,mi(this))},i.Qa=function(c){this.g&&(this.response=c,mi(this))},i.ga=function(){this.g&&mi(this)};function mi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,pi(c)}i.setRequestHeader=function(c,_){this.u.append(c,_)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=_.next();return c.join(`\r
`)};function pi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function cl(c){let _="";return Te(c,function(E,S){_+=S,_+=":",_+=E,_+=`\r
`}),_}function jt(c,_,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=cl(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):Be(c,_,E))}function Ge(c){At.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Ge,At);var Ma=/^https?$/i,Fs=["POST","PUT"];i=Ge.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,_,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ms.g(),this.v=this.o?ec(this.o):ec(Ms),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(G){uc(this,G);return}if(c=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)E.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())E.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),B=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Fs,_,void 0))||S||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ie]of E)this.g.setRequestHeader(G,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qs(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){uc(this,G)}};function uc(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.m=5,Pa(c),gi(c)}function Pa(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ot(this,"complete"),Ot(this,"abort"),gi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),Ge.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},i.bb=function(){Va(this)};function Va(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Mn(c)!=4||c.Z()!=2)){if(c.u&&Mn(c)==4)Ju(c.Ea,0,c);else if(Ot(c,"readystatechange"),Mn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var S;if(S=ie===0){var B=String(c.D).match(sl)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),S=!Ma.test(B?B.toLowerCase():"")}E=S}if(E)Ot(c,"complete"),Ot(c,"success");else{c.m=6;try{var G=2<Mn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",Pa(c)}}finally{gi(c)}}}}function gi(c,_){if(c.g){qs(c);const E=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,_||Ot(c,"ready");try{E.onreadystatechange=S}catch{}}}function qs(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Mn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),li(_)}};function cc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gf(c){const _={};c=(c.g&&2<=Mn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(ee(c[S]))continue;var E=V(c[S]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=_[B]||[];_[B]=G,G.push(E)}M(_,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hs(c,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||_}function La(c){this.Aa=0,this.i=[],this.j=new Rr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hs("baseRetryDelayMs",5e3,c),this.cb=Hs("retryDelaySeedMs",1e4,c),this.Wa=Hs("forwardChannelMaxRetries",2,c),this.wa=Hs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new il(c&&c.concurrentRequestLimit),this.Da=new Bs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=La.prototype,i.la=8,i.G=1,i.connect=function(c,_,E,S){ft(0),this.W=c,this.H=_||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.I=yc(this,null,this.W),za(this)};function hl(c){if(hc(c),c.G==3){var _=c.U++,E=lt(c.I);if(Be(E,"SID",c.K),Be(E,"RID",_),Be(E,"TYPE","terminate"),Gs(c,E),_=new hi(c,c.j,_),_.L=2,_.v=Us(lt(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=_.v,E=!0),E||(_.g=_c(_.j,null),_.g.ea(_.v)),_.F=Date.now(),it(_)}gc(c)}function Ua(c){c.g&&($s(c),c.g.cancel(),c.g=null)}function hc(c){Ua(c),c.u&&(d.clearTimeout(c.u),c.u=null),Ba(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function za(c){if(!rl(c.h)&&!c.s){c.s=!0;var _=c.Ga;_e||j(),pe||(_e(),pe=!0),He.add(_,c),c.B=0}}function $f(c,_){return sc(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=_.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Sr(x(c.Ga,c,_),ml(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new hi(this,this.j,c);let G=this.o;if(this.S&&(G?(G=I(G),D(G,this.S)):G=this.S),this.m!==null||this.O||(B.H=G,G=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(_+=S,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=fc(this,B,_),E=lt(this.I),Be(E,"RID",c),Be(E,"CVER",22),this.D&&Be(E,"X-HTTP-Session-Id",this.D),Gs(this,E),G&&(this.O?_="headers="+encodeURIComponent(String(cl(G)))+"&"+_:this.m&&jt(E,this.m,G)),kr(this.h,B),this.Ua&&Be(E,"TYPE","init"),this.P?(Be(E,"$req",_),Be(E,"SID","null"),B.T=!0,Yn(B,E,null)):Yn(B,E,_),this.G=2}}else this.G==3&&(c?fl(this,c):this.i.length==0||rl(this.h)||fl(this))};function fl(c,_){var E;_?E=_.l:E=c.U++;const S=lt(c.I);Be(S,"SID",c.K),Be(S,"RID",E),Be(S,"AID",c.T),Gs(c,S),c.m&&c.o&&jt(S,c.m,c.o),E=new hi(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),_&&(c.i=_.D.concat(c.i)),_=fc(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),kr(c.h,E),Yn(E,S,_)}function Gs(c,_){c.H&&Te(c.H,function(E,S){Be(_,S,E)}),c.l&&Vs({},function(E,S){Be(_,S,E)})}function fc(c,_,E){E=Math.min(c.i.length,E);var S=c.l?x(c.l.Na,c.l,c):null;e:{var B=c.i;let G=-1;for(;;){const ie=["count="+E];G==-1?0<E?(G=B[0].g,ie.push("ofs="+G)):G=0:ie.push("ofs="+G);let Pe=!0;for(let St=0;St<E;St++){let Ve=B[St].g;const Mt=B[St].map;if(Ve-=G,0>Ve)G=Math.max(0,B[St].g-100),Pe=!1;else try{di(Mt,ie,"req"+Ve+"_")}catch{S&&S(Mt)}}if(Pe){S=ie.join("&");break e}}}return c=c.i.splice(0,E),_.D=c,S}function dc(c){if(!c.g&&!c.u){c.Y=1;var _=c.Fa;_e||j(),pe||(_e(),pe=!0),He.add(_,c),c.v=0}}function dl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Sr(x(c.Fa,c),ml(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,mc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Sr(x(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Ua(this),mc(this))};function $s(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function mc(c){c.g=new hi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var _=lt(c.qa);Be(_,"RID","rpc"),Be(_,"SID",c.K),Be(_,"AID",c.T),Be(_,"CI",c.F?"0":"1"),!c.F&&c.ja&&Be(_,"TO",c.ja),Be(_,"TYPE","xmlhttp"),Gs(c,_),c.m&&c.o&&jt(_,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=Us(lt(_)),E.m=null,E.P=!0,zi(E,c)}i.Za=function(){this.C!=null&&(this.C=null,Ua(this),dl(this),ft(19))};function Ba(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function pc(c,_){var E=null;if(c.g==_){Ba(c),$s(c),c.g=null;var S=2}else if(Or(c.h,_))E=_.D,Dn(c.h,_),S=1;else return;if(c.G!=0){if(_.o)if(S==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var B=c.B;S=Ca(),Ot(S,new nc(S,E)),za(c)}else dc(c);else if(B=_.s,B==3||B==0&&0<_.X||!(S==1&&$f(c,_)||S==2&&dl(c)))switch(E&&0<E.length&&(_=c.h,_.i=_.i.concat(E)),B){case 1:$i(c,5);break;case 4:$i(c,10);break;case 3:$i(c,6);break;default:$i(c,2)}}}function ml(c,_){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*_}function $i(c,_){if(c.j.info("Error code "+_),_==2){var E=x(c.fb,c),S=c.Xa;const B=!S;S=new Bi(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||jr(S,"https"),Us(S),B?lc(S.toString(),E):zs(S.toString(),E)}else ft(2);c.G=0,c.l&&c.l.sa(_),gc(c),hc(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function gc(c){if(c.G=0,c.ka=[],c.l){const _=rn(c.h);(_.length!=0||c.i.length!=0)&&(U(c.ka,_),U(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function yc(c,_,E){var S=E instanceof Bi?lt(E):new Bi(E);if(S.g!="")_&&(S.g=_+"."+S.g),Ls(S,S.s);else{var B=d.location;S=B.protocol,_=_?_+"."+B.hostname:B.hostname,B=+B.port;var G=new Bi(null);S&&jr(G,S),_&&(G.g=_),B&&Ls(G,B),E&&(G.l=E),S=G}return E=c.D,_=c.ya,E&&_&&Be(S,E,_),Be(S,"VER",c.la),Gs(c,S),S}function _c(c,_,E){if(_&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Ca&&!c.pa?new Ge(new Pr({eb:E})):new Ge(c.pa),_.Ha(c.J),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function vc(){}i=vc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Fa(){}Fa.prototype.g=function(c,_){return new sn(c,_)};function sn(c,_){At.call(this),this.g=new La(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(c?c["X-WebChannel-Client-Profile"]=_.va:c={"X-WebChannel-Client-Profile":_.va}),this.g.S=c,(c=_&&_.Sb)&&!ee(c)&&(this.g.m=c),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!ee(_)&&(this.g.D=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new yi(this)}k(sn,At),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){hl(this.g)},sn.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=Zo(c),c=E);_.i.push(new zf(_.Ya++,c)),_.G==3&&za(_)},sn.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,sn.aa.N.call(this)};function Ec(c){br.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const E in _){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}k(Ec,br);function Tc(){Qn.call(this),this.status=1}k(Tc,Qn);function yi(c){this.g=c}k(yi,vc),yi.prototype.ua=function(){Ot(this.g,"a")},yi.prototype.ta=function(c){Ot(this.g,new Ec(c))},yi.prototype.sa=function(c){Ot(this.g,new Tc)},yi.prototype.ra=function(){Ot(this.g,"b")},Fa.prototype.createWebChannel=Fa.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,Sw=function(){return new Fa},xw=function(){return Ca()},Aw=Nn,pp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xt.NO_ERROR=0,xt.TIMEOUT=8,xt.HTTP_ERROR=6,jh=xt,Ui.COMPLETE="complete",bw=Ui,tc.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",At.prototype.listen=At.prototype.K,au=tc,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,ww=Ge}).apply(typeof wh<"u"?wh:typeof self<"u"?self:typeof window<"u"?window:{});const K0="@firebase/firestore",Q0="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new qp("@firebase/firestore");function yo(){return ga.logLevel}function le(i,...e){if(ga.logLevel<=Oe.DEBUG){const t=e.map(tg);ga.debug(`Firestore (${zo}): ${i}`,...t)}}function _r(i,...e){if(ga.logLevel<=Oe.ERROR){const t=e.map(tg);ga.error(`Firestore (${zo}): ${i}`,...t)}}function So(i,...e){if(ga.logLevel<=Oe.WARN){const t=e.map(tg);ga.warn(`Firestore (${zo}): ${i}`,...t)}}function tg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i="Unexpected state"){const e=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: `+i;throw _r(e),new Error(e)}function $e(i,e){i||Ee()}function Ae(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends ji{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zt.UNAUTHENTICATED))}shutdown(){}}class EN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class TN{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0);let s=this.i;const o=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let u=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new pr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new pr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string"),new Rw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Zt(e)}}class wN{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class bN{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new wN(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Y0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AN{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Rn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Y0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string"),this.R=t.token,new Y0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=xN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Me(i,e){return i<e?-1:i>e?1:0}function Ro(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=-62135596800,W0=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*W0);return new Nt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new se(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new se(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<X0)throw new se(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W0}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-X0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Nt(0,0))}static max(){return new we(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="__name__";class Ai{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ee(),s===void 0?s=e.length-t:s>e.length-t&&Ee(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ai.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ai?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Ai.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=Ai.isNumericId(e),o=Ai.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Ai.extractNumericId(e).compare(Ai.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cs.fromString(e.substring(4,e.length-2))}}class tt extends Ai{construct(e,t,s){return new tt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new se(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new tt(t)}static emptyPath(){return new tt([])}}const SN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Ai{construct(e,t,s){return new $t(e,t,s)}static isValidIdentifier(e){return SN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Z0}static keyField(){return new $t([Z0])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new se(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new se(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new se(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(u(),o++)}if(u(),h)throw new se(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(t)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=-1;function RN(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new Nt(t+1,0):new Nt(t,s));return new ms(o,ge.empty(),e)}function CN(i){return new ms(i.readTime,i.key,Tu)}class ms{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ms(we.min(),ge.empty(),Tu)}static max(){return new ms(we.max(),ge.empty(),Tu)}}function IN(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(i.documentKey,e.documentKey),t!==0?t:Me(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(i){if(i.code!==X.FAILED_PRECONDITION||i.message!==NN)throw i;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,s)=>{t(e)})}static reject(e){return new Z((t,s)=>{s(e)})}static waitFor(e){return new Z((t,s)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&t()},m=>s(m))}),h=!0,u===o&&t()})}static or(e){let t=Z.resolve(!1);for(const s of e)t=t.next(o=>o?Z.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new Z((s,o)=>{const u=e.length,h=new Array(u);let d=0;for(let m=0;m<u;m++){const y=m;t(e[y]).next(v=>{h[y]=v,++d,d===u&&s(h)},v=>o(v))}})}static doWhile(e,t){return new Z((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function ON(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Fo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}yf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng=-1;function _f(i){return i==null}function Xh(i){return i===0&&1/i==-1/0}function kN(i){return typeof i=="number"&&Number.isInteger(i)&&!Xh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="";function jN(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=J0(e)),e=MN(i.get(t),e);return J0(e)}function MN(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case Iw:t+="";break;default:t+=u}}return t}function J0(i){return i+Iw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ss(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Nw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bh(this.root,e,this.comparator,!1)}getReverseIterator(){return new bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bh(this.root,e,this.comparator,!0)}}class bh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Gt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,t,s,o,u){return this}insert(e,t,s){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tE(this.data.getIterator())}getIteratorFrom(e){return new tE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class tE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Cn([])}unionWith(e){let t=new Dt($t.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Cn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Dw("Invalid base64 string: "+u):u}}(e);return new Kt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const PN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(i){if($e(!!i),typeof i=="string"){let e=0;const t=PN.exec(i);if($e(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:mt(i.seconds),nanos:mt(i.nanos)}}function mt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function gs(i){return typeof i=="string"?Kt.fromBase64String(i):Kt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="server_timestamp",kw="__type__",jw="__previous_value__",Mw="__local_write_time__";function ig(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[kw])===null||t===void 0?void 0:t.stringValue)===Ow}function vf(i){const e=i.mapValue.fields[jw];return ig(e)?vf(e):e}function wu(i){const e=ps(i.mapValue.fields[Mw].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,t,s,o,u,h,d,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=y}}const Wh="(default)";class bu{constructor(e,t){this.projectId=e,this.database=t||Wh}static empty(){return new bu("","")}get isDefaultDatabase(){return this.database===Wh}isEqual(e){return e instanceof bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="__type__",LN="__max__",Ah={mapValue:{}},Vw="__vector__",Zh="value";function ys(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ig(i)?4:zN(i)?9007199254740991:UN(i)?10:11:Ee()}function Ni(i,e){if(i===e)return!0;const t=ys(i);if(t!==ys(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return wu(i).isEqual(wu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ps(o.timestampValue),d=ps(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return gs(o.bytesValue).isEqual(gs(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return mt(o.geoPointValue.latitude)===mt(u.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return mt(o.integerValue)===mt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=mt(o.doubleValue),d=mt(u.doubleValue);return h===d?Xh(h)===Xh(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return Ro(i.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(eE(h)!==eE(d))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(d[m]===void 0||!Ni(h[m],d[m])))return!1;return!0}(i,e);default:return Ee()}}function Au(i,e){return(i.values||[]).find(t=>Ni(t,e))!==void 0}function Co(i,e){if(i===e)return 0;const t=ys(i),s=ys(e);if(t!==s)return Me(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(i.booleanValue,e.booleanValue);case 2:return function(u,h){const d=mt(u.integerValue||u.doubleValue),m=mt(h.integerValue||h.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(i,e);case 3:return nE(i.timestampValue,e.timestampValue);case 4:return nE(wu(i),wu(e));case 5:return Me(i.stringValue,e.stringValue);case 6:return function(u,h){const d=gs(u),m=gs(h);return d.compareTo(m)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),m=h.split("/");for(let y=0;y<d.length&&y<m.length;y++){const v=Me(d[y],m[y]);if(v!==0)return v}return Me(d.length,m.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const d=Me(mt(u.latitude),mt(h.latitude));return d!==0?d:Me(mt(u.longitude),mt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return iE(i.arrayValue,e.arrayValue);case 10:return function(u,h){var d,m,y,v;const A=u.fields||{},x=h.fields||{},C=(d=A[Zh])===null||d===void 0?void 0:d.arrayValue,k=(m=x[Zh])===null||m===void 0?void 0:m.arrayValue,$=Me(((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0,((v=k==null?void 0:k.values)===null||v===void 0?void 0:v.length)||0);return $!==0?$:iE(C,k)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===Ah.mapValue&&h===Ah.mapValue)return 0;if(u===Ah.mapValue)return 1;if(h===Ah.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),y=h.fields||{},v=Object.keys(y);m.sort(),v.sort();for(let A=0;A<m.length&&A<v.length;++A){const x=Me(m[A],v[A]);if(x!==0)return x;const C=Co(d[m[A]],y[v[A]]);if(C!==0)return C}return Me(m.length,v.length)}(i.mapValue,e.mapValue);default:throw Ee()}}function nE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Me(i,e);const t=ps(i),s=ps(e),o=Me(t.seconds,s.seconds);return o!==0?o:Me(t.nanos,s.nanos)}function iE(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Co(t[o],s[o]);if(u)return u}return Me(t.length,s.length)}function Io(i){return gp(i)}function gp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=ps(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return gs(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ge.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=gp(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${gp(t.fields[h])}`;return o+"}"}(i.mapValue):Ee()}function Mh(i){switch(ys(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vf(i);return e?16+Mh(e):16;case 5:return 2*i.stringValue.length;case 6:return gs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Mh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Ss(s.fields,(u,h)=>{o+=u.length+Mh(h)}),o}(i.mapValue);default:throw Ee()}}function rE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function yp(i){return!!i&&"integerValue"in i}function rg(i){return!!i&&"arrayValue"in i}function sE(i){return!!i&&"nullValue"in i}function aE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ph(i){return!!i&&"mapValue"in i}function UN(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Pw])===null||t===void 0?void 0:t.stringValue)===Vw}function hu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ss(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=hu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hu(i.arrayValue.values[t]);return e}return Object.assign({},i)}function zN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===LN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ph(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(t)}setAll(e){let t=$t.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=hu(h):o.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Ph(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Ph(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ss(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new yn(hu(this.value))}}function Lw(i){const e=[];return Ss(i.fields,(t,s)=>{const o=new $t([t]);if(Ph(s)){const u=Lw(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,t,s,o,u,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new Jt(e,0,we.min(),we.min(),we.min(),yn.empty(),0)}static newFoundDocument(e,t,s,o){return new Jt(e,1,t,we.min(),s,o,0)}static newNoDocument(e,t){return new Jt(e,2,t,we.min(),we.min(),yn.empty(),0)}static newUnknownDocument(e,t){return new Jt(e,3,t,we.min(),we.min(),yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,t){this.position=e,this.inclusive=t}}function oE(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),t.key):s=Co(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function lE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ni(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,t="asc"){this.field=e,this.dir=t}}function BN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{}class Tt extends Uw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new qN(e,t,s):t==="array-contains"?new $N(e,s):t==="in"?new KN(e,s):t==="not-in"?new QN(e,s):t==="array-contains-any"?new YN(e,s):new Tt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new HN(e,s):new GN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Co(t,this.value)):t!==null&&ys(this.value)===ys(t)&&this.matchesComparison(Co(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends Uw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ii(e,t)}matches(e){return zw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function zw(i){return i.op==="and"}function Bw(i){return FN(i)&&zw(i)}function FN(i){for(const e of i.filters)if(e instanceof ii)return!1;return!0}function _p(i){if(i instanceof Tt)return i.field.canonicalString()+i.op.toString()+Io(i.value);if(Bw(i))return i.filters.map(e=>_p(e)).join(",");{const e=i.filters.map(t=>_p(t)).join(",");return`${i.op}(${e})`}}function Fw(i,e){return i instanceof Tt?function(s,o){return o instanceof Tt&&s.op===o.op&&s.field.isEqual(o.field)&&Ni(s.value,o.value)}(i,e):i instanceof ii?function(s,o){return o instanceof ii&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,d)=>u&&Fw(h,o.filters[d]),!0):!1}(i,e):void Ee()}function qw(i){return i instanceof Tt?function(t){return`${t.field.canonicalString()} ${t.op} ${Io(t.value)}`}(i):i instanceof ii?function(t){return t.op.toString()+" {"+t.getFilters().map(qw).join(" ,")+"}"}(i):"Filter"}class qN extends Tt{constructor(e,t,s){super(e,t,s),this.key=ge.fromName(s.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class HN extends Tt{constructor(e,t){super(e,"in",t),this.keys=Hw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class GN extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=Hw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Hw(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ge.fromName(s.referenceValue))}class $N extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rg(t)&&Au(t.arrayValue,this.value)}}class KN extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Au(this.value.arrayValue,t)}}class QN extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Au(this.value.arrayValue,t)}}class YN extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Au(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,t=null,s=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.le=null}}function uE(i,e=null,t=[],s=[],o=null,u=null,h=null){return new XN(i,e,t,s,o,u,h)}function sg(i){const e=Ae(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>_p(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),_f(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Io(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Io(s)).join(",")),e.le=t}return e.le}function ag(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!BN(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Fw(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!lE(i.startAt,e.startAt)&&lE(i.endAt,e.endAt)}function vp(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,t=null,s=[],o=[],u=null,h="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function WN(i,e,t,s,o,u,h,d){return new qo(i,e,t,s,o,u,h,d)}function og(i){return new qo(i)}function cE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Gw(i){return i.collectionGroup!==null}function fu(i){const e=Ae(i);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Dt($t.comparator);return h.filters.forEach(m=>{m.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new xu(u,s))}),t.has($t.keyField().canonicalString())||e.he.push(new xu($t.keyField(),s))}return e.he}function Ci(i){const e=Ae(i);return e.Pe||(e.Pe=ZN(e,fu(i))),e.Pe}function ZN(i,e){if(i.limitType==="F")return uE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new xu(o.field,u)});const t=i.endAt?new Jh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Jh(i.startAt.position,i.startAt.inclusive):null;return uE(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Ep(i,e){const t=i.filters.concat([e]);return new qo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function ef(i,e,t){return new qo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Ef(i,e){return ag(Ci(i),Ci(e))&&i.limitType===e.limitType}function $w(i){return`${sg(Ci(i))}|lt:${i.limitType}`}function _o(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>qw(o)).join(", ")}]`),_f(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Io(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Io(o)).join(",")),`Target(${s})`}(Ci(i))}; limitType=${i.limitType})`}function Tf(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of fu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,d,m){const y=oE(h,d,m);return h.inclusive?y<=0:y<0}(s.startAt,fu(s),o)||s.endAt&&!function(h,d,m){const y=oE(h,d,m);return h.inclusive?y>=0:y>0}(s.endAt,fu(s),o))}(i,e)}function JN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Kw(i){return(e,t)=>{let s=!1;for(const o of fu(i)){const u=eD(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function eD(i,e,t){const s=i.field.isKeyField()?ge.comparator(e.key,t.key):function(u,h,d){const m=h.data.field(u),y=d.data.field(u);return m!==null&&y!==null?Co(m,y):Ee()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ss(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Nw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new at(ge.comparator);function vr(){return tD}const Qw=new at(ge.comparator);function ou(...i){let e=Qw;for(const t of i)e=e.insert(t.key,t);return e}function Yw(i){let e=Qw;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function fa(){return du()}function Xw(){return du()}function du(){return new wa(i=>i.toString(),(i,e)=>i.isEqual(e))}const nD=new at(ge.comparator),iD=new Dt(ge.comparator);function ke(...i){let e=iD;for(const t of i)e=e.add(t);return e}const rD=new Dt(Me);function sD(){return rD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xh(e)?"-0":e}}function Ww(i){return{integerValue:""+i}}function Zw(i,e){return kN(e)?Ww(e):lg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(){this._=void 0}}function aD(i,e,t){return i instanceof Su?function(o,u){const h={fields:{[kw]:{stringValue:Ow},[Mw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ig(u)&&(u=vf(u)),u&&(h.fields[jw]=u),{mapValue:h}}(t,e):i instanceof Ru?eb(i,e):i instanceof Cu?tb(i,e):function(o,u){const h=Jw(o,u),d=hE(h)+hE(o.Ie);return yp(h)&&yp(o.Ie)?Ww(d):lg(o.serializer,d)}(i,e)}function oD(i,e,t){return i instanceof Ru?eb(i,e):i instanceof Cu?tb(i,e):t}function Jw(i,e){return i instanceof Iu?function(s){return yp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Su extends wf{}class Ru extends wf{constructor(e){super(),this.elements=e}}function eb(i,e){const t=nb(e);for(const s of i.elements)t.some(o=>Ni(o,s))||t.push(s);return{arrayValue:{values:t}}}class Cu extends wf{constructor(e){super(),this.elements=e}}function tb(i,e){let t=nb(e);for(const s of i.elements)t=t.filter(o=>!Ni(o,s));return{arrayValue:{values:t}}}class Iu extends wf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function hE(i){return mt(i.integerValue||i.doubleValue)}function nb(i){return rg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,t){this.field=e,this.transform=t}}function lD(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Ru&&o instanceof Ru||s instanceof Cu&&o instanceof Cu?Ro(s.elements,o.elements,Ni):s instanceof Iu&&o instanceof Iu?Ni(s.Ie,o.Ie):s instanceof Su&&o instanceof Su}(i.transform,e.transform)}class uD{constructor(e,t){this.version=e,this.transformResults=t}}class un{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class bf{}function rb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Af(i.key,un.none()):new Uu(i.key,i.data,un.none());{const t=i.data,s=yn.empty();let o=new Dt($t.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Rs(i.key,s,new Cn(o.toArray()),un.none())}}function cD(i,e,t){i instanceof Uu?function(o,u,h){const d=o.value.clone(),m=dE(o.fieldTransforms,u,h.transformResults);d.setAll(m),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,t):i instanceof Rs?function(o,u,h){if(!Vh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=dE(o.fieldTransforms,u,h.transformResults),m=u.data;m.setAll(sb(o)),m.setAll(d),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function mu(i,e,t,s){return i instanceof Uu?function(u,h,d,m){if(!Vh(u.precondition,h))return d;const y=u.value.clone(),v=mE(u.fieldTransforms,m,h);return y.setAll(v),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(i,e,t,s):i instanceof Rs?function(u,h,d,m){if(!Vh(u.precondition,h))return d;const y=mE(u.fieldTransforms,m,h),v=h.data;return v.setAll(sb(u)),v.setAll(y),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,t,s):function(u,h,d){return Vh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,t)}function hD(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=Jw(s.transform,o||null);u!=null&&(t===null&&(t=yn.empty()),t.set(s.field,u))}return t||null}function fE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ro(s,o,(u,h)=>lD(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Uu extends bf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Rs extends bf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function sb(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function dE(i,e,t){const s=new Map;$e(i.length===t.length);for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,d=e.data.field(u.field);s.set(u.field,oD(h,d,t[o]))}return s}function mE(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,aD(u,h,e))}return s}class Af extends bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fD extends bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&cD(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=mu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=mu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Xw();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(o.key)?null:d;const m=rb(h,d);m!==null&&s.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,(t,s)=>fE(t,s))&&Ro(this.baseMutations,e.baseMutations,(t,s)=>fE(t,s))}}class ug{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){$e(e.mutations.length===s.length);let o=function(){return nD}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new ug(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Ue;function gD(i){switch(i){case X.OK:return Ee();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Ee()}}function ab(i){if(i===void 0)return _r("GRPC error has no .code"),X.UNKNOWN;switch(i){case Et.OK:return X.OK;case Et.CANCELLED:return X.CANCELLED;case Et.UNKNOWN:return X.UNKNOWN;case Et.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Et.INTERNAL:return X.INTERNAL;case Et.UNAVAILABLE:return X.UNAVAILABLE;case Et.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Et.NOT_FOUND:return X.NOT_FOUND;case Et.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Et.ABORTED:return X.ABORTED;case Et.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Et.DATA_LOSS:return X.DATA_LOSS;default:return Ee()}}(Ue=Et||(Et={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=new cs([4294967295,4294967295],0);function pE(i){const e=yD().encode(i),t=new Tw;return t.update(e),new Uint8Array(t.digest())}function gE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new cs([t,s],0),new cs([o,u],0)]}class cg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new lu(`Invalid padding: ${t}`);if(s<0)throw new lu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new lu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new lu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=cs.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(cs.fromNumber(s)));return o.compare(_D)===1&&(o=new cs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=pE(e),[s,o]=gE(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new cg(u,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Ee===0)return;const t=pE(e),[s,o]=gE(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,zu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new xf(we.min(),o,new at(Me),vr(),ke())}}class zu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new zu(s,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class ob{constructor(e,t){this.targetId=e,this.ge=t}}class lb{constructor(e,t,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class yE{constructor(){this.pe=0,this.ye=_E(),this.we=Kt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ke(),t=ke(),s=ke();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ee()}}),new zu(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=_E()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,$e(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class vD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=vr(),this.$e=xh(),this.Ke=xh(),this.Ue=new at(Me)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(vp(u))if(s===0){const h=new ge(u.path);this.ze(t,h,Jt.newNoDocument(h,we.min()))}else $e(s===1);else{const h=this.et(t);if(h!==s){const d=this.tt(e),m=d?this.nt(d,e,h):1;if(m!==0){this.Ye(t);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,d;try{h=gs(s).toUint8Array()}catch(m){if(m instanceof Dw)return So("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new cg(h,o,u)}catch(m){return So(m instanceof lu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.Ee===0?null:d}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,h)=>{const d=this.Xe(h);if(d){if(u.current&&vp(d.target)){const m=new ge(d.target.path);this._t(m).has(h)||this.ut(h,m)||this.ze(h,m,Jt.newNoDocument(m,e))}u.ve&&(t.set(h,u.Fe()),u.Me())}});let s=ke();this.Ke.forEach((u,h)=>{let d=!0;h.forEachWhile(m=>{const y=this.Xe(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new xf(e,t,this.Ue,this.Qe,s);return this.Qe=vr(),this.$e=xh(),this.Ke=xh(),this.Ue=new at(Me),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new yE,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Dt(Me),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Dt(Me),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new yE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function xh(){return new at(ge.comparator)}function _E(){return new at(ge.comparator)}const ED={asc:"ASCENDING",desc:"DESCENDING"},TD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wD={and:"AND",or:"OR"};class bD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Tp(i,e){return i.useProto3Json||_f(e)?e:{value:e}}function tf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ub(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function AD(i,e){return tf(i,e.toTimestamp())}function Ii(i){return $e(!!i),we.fromTimestamp(function(t){const s=ps(t);return new Nt(s.seconds,s.nanos)}(i))}function hg(i,e){return wp(i,e).canonicalString()}function wp(i,e){const t=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function cb(i){const e=tt.fromString(i);return $e(pb(e)),e}function bp(i,e){return hg(i.databaseId,e.path)}function Wm(i,e){const t=cb(e);if(t.get(1)!==i.databaseId.projectId)throw new se(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new se(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ge(fb(t))}function hb(i,e){return hg(i.databaseId,e)}function xD(i){const e=cb(i);return e.length===4?tt.emptyPath():fb(e)}function Ap(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function fb(i){return $e(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function vE(i,e,t){return{name:bp(i,e),fields:t.value.mapValue.fields}}function SD(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,v){return y.useProto3Json?($e(v===void 0||typeof v=="string"),Kt.fromBase64String(v||"")):($e(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Kt.fromUint8Array(v||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(y){const v=y.code===void 0?X.UNKNOWN:ab(y.code);return new se(v,y.message||"")}(h);t=new lb(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Wm(i,s.document.name),u=Ii(s.document.updateTime),h=s.document.createTime?Ii(s.document.createTime):we.min(),d=new yn({mapValue:{fields:s.document.fields}}),m=Jt.newFoundDocument(o,u,h,d),y=s.targetIds||[],v=s.removedTargetIds||[];t=new Lh(y,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Wm(i,s.document),u=s.readTime?Ii(s.readTime):we.min(),h=Jt.newNoDocument(o,u),d=s.removedTargetIds||[];t=new Lh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Wm(i,s.document),u=s.removedTargetIds||[];t=new Lh([],u,o,null)}else{if(!("filter"in e))return Ee();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new pD(o,u),d=s.targetId;t=new ob(d,h)}}return t}function RD(i,e){let t;if(e instanceof Uu)t={update:vE(i,e.key,e.value)};else if(e instanceof Af)t={delete:bp(i,e.key)};else if(e instanceof Rs)t={update:vE(i,e.key,e.data),updateMask:PD(e.fieldMask)};else{if(!(e instanceof fD))return Ee();t={verify:bp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const d=h.transform;if(d instanceof Su)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ru)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Cu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Iu)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw Ee()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:AD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee()}(i,e.precondition)),t}function CD(i,e){return i&&i.length>0?($e(e!==void 0),i.map(t=>function(o,u){let h=o.updateTime?Ii(o.updateTime):Ii(u);return h.isEqual(we.min())&&(h=Ii(u)),new uD(h,o.transformResults||[])}(t,e))):[]}function ID(i,e){return{documents:[hb(i,e.path)]}}function ND(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=hb(i,o);const u=function(y){if(y.length!==0)return mb(ii.create(y,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(y){if(y.length!==0)return y.map(v=>function(x){return{field:vo(x.field),direction:kD(x.dir)}}(v))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=Tp(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:o}}function DD(i){let e=xD(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){$e(s===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];t.where&&(u=function(A){const x=db(A);return x instanceof ii&&Bw(x)?x.getFilters():[x]}(t.where));let h=[];t.orderBy&&(h=function(A){return A.map(x=>function(k){return new xu(Eo(k.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(x))}(t.orderBy));let d=null;t.limit&&(d=function(A){let x;return x=typeof A=="object"?A.value:A,_f(x)?null:x}(t.limit));let m=null;t.startAt&&(m=function(A){const x=!!A.before,C=A.values||[];return new Jh(C,x)}(t.startAt));let y=null;return t.endAt&&(y=function(A){const x=!A.before,C=A.values||[];return new Jh(C,x)}(t.endAt)),WN(e,o,h,u,d,"F",m,y)}function OD(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function db(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Eo(t.unaryFilter.field);return Tt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Eo(t.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Eo(t.unaryFilter.field);return Tt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Eo(t.unaryFilter.field);return Tt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(i):i.fieldFilter!==void 0?function(t){return Tt.create(Eo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return ii.create(t.compositeFilter.filters.map(s=>db(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee()}}(t.compositeFilter.op))}(i):Ee()}function kD(i){return ED[i]}function jD(i){return TD[i]}function MD(i){return wD[i]}function vo(i){return{fieldPath:i.canonicalString()}}function Eo(i){return $t.fromServerFormat(i.fieldPath)}function mb(i){return i instanceof Tt?function(t){if(t.op==="=="){if(aE(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NAN"}};if(sE(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(aE(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NOT_NAN"}};if(sE(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(t.field),op:jD(t.op),value:t.value}}}(i):i instanceof ii?function(t){const s=t.getFilters().map(o=>mb(o));return s.length===1?s[0]:{compositeFilter:{op:MD(t.op),filters:s}}}(i):Ee()}function PD(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function pb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,t,s,o,u=we.min(),h=we.min(),d=Kt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.Tt=e}}function LD(i){const e=DD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?ef(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.Tn=new zD}addToCollectionParentIndex(e,t){return this.Tn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(ms.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(ms.min())}updateCollectionGroup(e,t,s){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class zD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Dt(tt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gb=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(gb,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new No(0)}static Un(){return new No(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="LruGarbageCollector",BD=1048576;function wE([i,e],[t,s]){const o=Me(i,t);return o===0?Me(e,s):o}class FD{constructor(e){this.Hn=e,this.buffer=new Dt(wE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();wE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){le(TE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Fo(t)?le(TE,"Ignoring IndexedDB error during garbage collection: ",t):await Bo(t)}await this.er(3e5)})}}class HD{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(yf.ae);const s=new FD(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(EE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,u,h,d,m,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,h=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,d=Date.now(),this.removeTargets(e,s,t))).next(A=>(u=A,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(y=Date.now(),yo()<=Oe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${A} documents in `+(y-m)+`ms
Total Duration: ${y-v}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function GD(i,e){return new HD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.changes=new wa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Z.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&mu(s.mutation,o,Cn.empty(),Nt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ke()){const o=fa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=ou();return u.forEach((d,m)=>{h=h.insert(d,m.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=fa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ke()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let u=vr();const h=du(),d=function(){return du()}();return t.forEach((m,y)=>{const v=s.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof Rs)?u=u.insert(y.key,y):v!==void 0?(h.set(y.key,v.mutation.getFieldMask()),mu(v.mutation,y,v.mutation.getFieldMask(),Nt.now())):h.set(y.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((y,v)=>h.set(y,v)),t.forEach((y,v)=>{var A;return d.set(y,new KD(v,(A=h.get(y))!==null&&A!==void 0?A:null))}),d))}recalculateAndSaveOverlays(e,t){const s=du();let o=new at((h,d)=>h-d),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(m=>{const y=t.get(m);if(y===null)return;let v=s.get(m)||Cn.empty();v=d.applyToLocalView(y,v),s.set(m,v);const A=(o.get(d.batchId)||ke()).add(m);o=o.insert(d.batchId,A)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),y=m.key,v=m.value,A=Xw();v.forEach(x=>{if(!u.has(x)){const C=rb(t.get(x),s.get(x));C!==null&&A.set(x,C),u=u.add(x)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,A))}return Z.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Gw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):Z.resolve(fa());let d=Tu,m=u;return h.next(y=>Z.forEach(y,(v,A)=>(d<A.largestBatchId&&(d=A.largestBatchId),u.get(v)?Z.resolve():this.remoteDocumentCache.getEntry(e,v).next(x=>{m=m.insert(v,x)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,m,y,ke())).next(v=>({batchId:d,changes:Yw(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(s=>{let o=ou();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=ou();return this.indexManager.getCollectionParents(e,u).next(d=>Z.forEach(d,m=>{const y=function(A,x){return new qo(x,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(v=>{v.forEach((A,x)=>{h=h.insert(A,x)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((m,y)=>{const v=y.getKey();h.get(v)===null&&(h=h.insert(v,Jt.newInvalidDocument(v)))});let d=ou();return h.forEach((m,y)=>{const v=u.get(m);v!==void 0&&mu(v.mutation,y,Cn.empty(),Nt.now()),Tf(t,y)&&(d=d.insert(m,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Z.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ii(o.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:LD(o.bundledQuery),readTime:Ii(o.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.overlays=new at(ge.comparator),this.Rr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const s=fa();return Z.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Et(e,t,u)}),Z.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),Z.resolve()}getOverlaysForCollection(e,t,s){const o=fa(),u=t.length+1,h=new ge(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const m=d.getNext().value,y=m.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new at((y,v)=>y-v);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let v=u.get(y.largestBatchId);v===null&&(v=fa(),u=u.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const d=fa(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((y,v)=>d.set(y,v)),!(d.size()>=o)););return Z.resolve(d)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new mD(t,s));let u=this.Rr.get(t);u===void 0&&(u=ke(),this.Rr.set(t,u)),this.Rr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(){this.Vr=new Dt(Ut.mr),this.gr=new Dt(Ut.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Ut(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Ut(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new ge(new tt([])),s=new Ut(t,e),o=new Ut(t,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ge(new tt([])),s=new Ut(t,e),o=new Ut(t,e+1);let u=ke();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Ut(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ge.comparator(e.key,t.key)||Me(e.Cr,t.Cr)}static pr(e,t){return Me(e.Cr,t.Cr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Dt(Ut.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new dD(u,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new Ut(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(h)}lookupMutationBatch(e,t){return Z.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?ng:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ut(t,0),o=new Ut(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const d=this.Or(h.Cr);u.push(d)}),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Dt(Me);return t.forEach(o=>{const u=new Ut(o,0),h=new Ut(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],d=>{s=s.add(d.Cr)})}),Z.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const h=new Ut(new ge(u),0);let d=new Dt(Me);return this.Mr.forEachWhile(m=>{const y=m.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(d=d.add(m.Cr)),!0)},h),Z.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){$e(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Z.forEach(t.mutations,o=>{const u=new Ut(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Ut(t,0),o=this.Mr.firstAfterOrEqual(s);return Z.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.kr=e,this.docs=function(){return new at(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Z.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(t))}getEntries(e,t){let s=vr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=vr();const h=t.path,d=new ge(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:y,value:{document:v}}=m.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||IN(CN(v),s)<=0||(o.has(v.key)||Tf(t,v))&&(u=u.insert(v.key,v.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ee()}qr(e,t){return Z.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new eO(this)}getSize(e){return Z.resolve(this.size)}}class eO extends $D{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),Z.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this.persistence=e,this.Qr=new wa(t=>sg(t),ag),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Kr=new fg,this.targetCount=0,this.Ur=No.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),Z.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new No(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.zn(t),Z.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),Z.waitFor(u).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return Z.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),Z.resolve()}removeMatchingKeys(e,t,s){this.Kr.Sr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),Z.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return Z.resolve(s)}containsKey(e,t){return Z.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new yf(0),this.zr=!1,this.zr=!0,this.jr=new WD,this.referenceDelegate=e(this),this.Hr=new tO(this),this.indexManager=new UD,this.remoteDocumentCache=function(o){return new JD(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new VD(t),this.Yr=new YD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new XD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new ZD(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){le("MemoryPersistence","Starting transaction:",e);const o=new nO(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return Z.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class nO extends DN{constructor(e){super(),this.currentSequenceNumber=e}}class dg{constructor(e){this.persistence=e,this.ti=new fg,this.ni=null}static ri(e){return new dg(e)}get ii(){if(this.ni)return this.ni;throw Ee()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),Z.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Z.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,s=>{const o=ge.fromPath(s);return this.si(e,o).next(u=>{u||t.removeEntry(o,we.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Z.or([()=>Z.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class nf{constructor(e,t){this.persistence=e,this.oi=new wa(s=>jN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=GD(this,t)}static ri(e,t){return new nf(e,t)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return Z.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?Z.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(d=>{d||(s++,u.removeEntry(h,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Z.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Mh(e.data.value)),t}ar(e,t,s){return Z.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=ke(),o=ke();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new mg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return zR()?8:ON(en())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.rs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new iO;return this._s(e,t,h).next(d=>{if(u.result=d,this.Xi)return this.us(e,t,h,d.size)})}).next(()=>u.result)}us(e,t,s,o){return s.documentReadCount<this.es?(yo()<=Oe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",_o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(yo()<=Oe.DEBUG&&le("QueryEngine","Query:",_o(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(yo()<=Oe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",_o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(t))):Z.resolve())}rs(e,t){if(cE(t))return Z.resolve(null);let s=Ci(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=ef(t,null,"F"),s=Ci(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=ke(...u);return this.ns.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(m=>{const y=this.cs(t,d);return this.ls(t,y,h,m.readTime)?this.rs(e,ef(t,null,"F")):this.hs(e,y,t,m)}))})))}ss(e,t,s,o){return cE(t)||o.isEqual(we.min())?Z.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(t,u);return this.ls(t,h,s,o)?Z.resolve(null):(yo()<=Oe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(t)),this.hs(e,h,t,RN(o,Tu)).next(d=>d))})}cs(e,t){let s=new Dt(Kw(e));return t.forEach((o,u)=>{Tf(e,u)&&(s=s.add(u))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,s){return yo()<=Oe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",_o(t)),this.ns.getDocumentsMatchingQuery(e,t,ms.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="LocalStore",sO=3e8;class aO{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new at(Me),this.Is=new wa(u=>sg(u),ag),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function oO(i,e,t,s){return new aO(i,e,t,s)}async function _b(i,e){const t=Ae(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],d=[];let m=ke();for(const y of o){h.push(y.batchId);for(const v of y.mutations)m=m.add(v.key)}for(const y of u){d.push(y.batchId);for(const v of y.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(s,m).next(y=>({Rs:y,removedBatchIds:h,addedBatchIds:d}))})})}function lO(i,e){const t=Ae(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,m,y,v){const A=y.batch,x=A.keys();let C=Z.resolve();return x.forEach(k=>{C=C.next(()=>v.getEntry(m,k)).next($=>{const U=y.docVersions.get(k);$e(U!==null),$.version.compareTo(U)<0&&(A.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),v.addEntry($)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(m,A))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=ke();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(m=m.add(d.batch.mutations[y].key));return m}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function vb(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function uO(i,e){const t=Ae(i),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((v,A)=>{const x=o.get(A);if(!x)return;d.push(t.Hr.removeMatchingKeys(u,v.removedDocuments,A).next(()=>t.Hr.addMatchingKeys(u,v.addedDocuments,A)));let C=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?C=C.withResumeToken(Kt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,s)),o=o.insert(A,C),function($,U,Q){return $.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=sO?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(x,C,v)&&d.push(t.Hr.updateTargetData(u,C))});let m=vr(),y=ke();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,v))}),d.push(cO(u,h,e.documentUpdates).next(v=>{m=v.Vs,y=v.fs})),!s.isEqual(we.min())){const v=t.Hr.getLastRemoteSnapshotVersion(u).next(A=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(v)}return Z.waitFor(d).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,m,y)).next(()=>m)}).then(u=>(t.Ts=o,u))}function cO(i,e,t){let s=ke(),o=ke();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=vr();return t.forEach((d,m)=>{const y=u.get(d);m.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(we.min())?(e.removeEntry(d,m.readTime),h=h.insert(d,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(m),h=h.insert(d,m)):le(pg,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",m.version)}),{Vs:h,fs:o}})}function hO(i,e){const t=Ae(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=ng),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function fO(i,e){const t=Ae(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(u=>u?(o=u,Z.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new os(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function xp(i,e,t){const s=Ae(i),o=s.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Fo(h))throw h;le(pg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function bE(i,e,t){const s=Ae(i);let o=we.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",h=>function(m,y,v){const A=Ae(m),x=A.Is.get(v);return x!==void 0?Z.resolve(A.Ts.get(x)):A.Hr.getTargetData(y,v)}(s,h,Ci(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,d.targetId).next(m=>{u=m})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:we.min(),t?u:ke())).next(d=>(dO(s,JN(e),d),{documents:d,gs:u})))}function dO(i,e,t){let s=i.Es.get(e)||we.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class AE{constructor(){this.activeTargetIds=sD()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mO{constructor(){this.ho=new AE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new AE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="ConnectivityMonitor";class SE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){le(xE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){le(xE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh=null;function Sp(){return Sh===null?Sh=function(){return 268435456+Math.round(2147483648*Math.random())}():Sh++,"0x"+Sh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="RestConnection",gO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yO{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Wh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,u){const h=Sp(),d=this.bo(e,t.toUriEncodedString());le(Zm,`Sending RPC '${e}' ${h}:`,d,s);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,o,u),this.vo(e,d,m,s).then(y=>(le(Zm,`Received RPC '${e}' ${h}: `,y),y),y=>{throw So(Zm,`RPC '${e}' ${h} failed with error: `,y,"url: ",d,"request:",s),y})}Co(e,t,s,o,u,h){return this.So(e,t,s,o,u)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,t){const s=gO[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class vO extends yO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const u=Sp();return new Promise((h,d)=>{const m=new ww;m.setWithCredentials(!0),m.listenOnce(bw.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case jh.NO_ERROR:const v=m.getResponseJson();le(Wt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case jh.TIMEOUT:le(Wt,`RPC '${e}' ${u} timed out`),d(new se(X.DEADLINE_EXCEEDED,"Request time out"));break;case jh.HTTP_ERROR:const A=m.getStatus();if(le(Wt,`RPC '${e}' ${u} failed with status:`,A,"response text:",m.getResponseText()),A>0){let x=m.getResponseJson();Array.isArray(x)&&(x=x[0]);const C=x==null?void 0:x.error;if(C&&C.status&&C.message){const k=function(U){const Q=U.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Q)>=0?Q:X.UNKNOWN}(C.status);d(new se(k,C.message))}else d(new se(X.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new se(X.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{le(Wt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);le(Wt,`RPC '${e}' ${u} sending request:`,o),m.send(t,"POST",y,s,15)})}Wo(e,t,s){const o=Sp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Sw(),d=xw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const v=u.join("");le(Wt,`Creating RPC '${e}' stream ${o}: ${v}`,m);const A=h.createWebChannel(v,m);let x=!1,C=!1;const k=new _O({Fo:U=>{C?le(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(x||(le(Wt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),x=!0),le(Wt,`RPC '${e}' stream ${o} sending:`,U),A.send(U))},Mo:()=>A.close()}),$=(U,Q,ee)=>{U.listen(Q,J=>{try{ee(J)}catch(he){setTimeout(()=>{throw he},0)}})};return $(A,au.EventType.OPEN,()=>{C||(le(Wt,`RPC '${e}' stream ${o} transport opened.`),k.Qo())}),$(A,au.EventType.CLOSE,()=>{C||(C=!0,le(Wt,`RPC '${e}' stream ${o} transport closed`),k.Ko())}),$(A,au.EventType.ERROR,U=>{C||(C=!0,So(Wt,`RPC '${e}' stream ${o} transport errored:`,U),k.Ko(new se(X.UNAVAILABLE,"The operation could not be completed")))}),$(A,au.EventType.MESSAGE,U=>{var Q;if(!C){const ee=U.data[0];$e(!!ee);const J=ee,he=(J==null?void 0:J.error)||((Q=J[0])===null||Q===void 0?void 0:Q.error);if(he){le(Wt,`RPC '${e}' stream ${o} received error:`,he);const ue=he.status;let Te=function(R){const D=Et[R];if(D!==void 0)return ab(D)}(ue),M=he.message;Te===void 0&&(Te=X.INTERNAL,M="Unknown error status: "+ue+" with message "+he.message),C=!0,k.Ko(new se(Te,M)),A.close()}else le(Wt,`RPC '${e}' stream ${o} received:`,ee),k.Uo(ee)}}),$(d,Aw.STAT_EVENT,U=>{U.stat===pp.PROXY?le(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===pp.NOPROXY&&le(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function Jm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(i){return new bD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="PersistentStream";class Tb{constructor(e,t,s,o,u,h,d,m){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Eb(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(_r(t.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new se(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return le(RE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(le(RE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EO extends Tb{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=SD(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?Ii(h.readTime):we.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=Ap(this.serializer),t.addTarget=function(u,h){let d;const m=h.target;if(d=vp(m)?{documents:ID(u,m)}:{query:ND(u,m).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=ub(u,h.resumeToken);const y=Tp(u,h.expectedCount);y!==null&&(d.expectedCount=y)}else if(h.snapshotVersion.compareTo(we.min())>0){d.readTime=tf(u,h.snapshotVersion.toTimestamp());const y=Tp(u,h.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const s=OD(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=Ap(this.serializer),t.removeTarget=e,this.I_(t)}}class TO extends Tb{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=CD(e.writeResults,e.commitTime),s=Ii(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=Ap(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>RD(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{}class bO extends wO{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new se(X.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(e,wp(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new se(X.UNKNOWN,u.toString())})}Co(e,t,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(e,wp(t,s),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new se(X.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class AO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(_r(t),this.N_=!1):le("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="RemoteStore";class xO{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{ba(this)&&(le(ya,"Restarting streams for network reachability change."),await async function(m){const y=Ae(m);y.W_.add(4),await Bu(y),y.j_.set("Unknown"),y.W_.delete(4),await Rf(y)}(this))})}),this.j_=new AO(s,o)}}async function Rf(i){if(ba(i))for(const e of i.G_)await e(!0)}async function Bu(i){for(const e of i.G_)await e(!1)}function wb(i,e){const t=Ae(i);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),vg(t)?_g(t):Ho(t).c_()&&yg(t,e))}function gg(i,e){const t=Ae(i),s=Ho(t);t.U_.delete(e),s.c_()&&bb(t,e),t.U_.size===0&&(s.c_()?s.P_():ba(t)&&t.j_.set("Unknown"))}function yg(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ho(i).y_(e)}function bb(i,e){i.H_.Ne(e),Ho(i).w_(e)}function _g(i){i.H_=new vD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Ho(i).start(),i.j_.B_()}function vg(i){return ba(i)&&!Ho(i).u_()&&i.U_.size>0}function ba(i){return Ae(i).W_.size===0}function Ab(i){i.H_=void 0}async function SO(i){i.j_.set("Online")}async function RO(i){i.U_.forEach((e,t)=>{yg(i,e)})}async function CO(i,e){Ab(i),vg(i)?(i.j_.q_(e),_g(i)):i.j_.set("Unknown")}async function IO(i,e,t){if(i.j_.set("Online"),e instanceof lb&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.U_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.U_.delete(d),o.H_.removeTarget(d))}(i,e)}catch(s){le(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await rf(i,s)}else if(e instanceof Lh?i.H_.We(e):e instanceof ob?i.H_.Ze(e):i.H_.je(e),!t.isEqual(we.min()))try{const s=await vb(i.localStore);t.compareTo(s)>=0&&await function(u,h){const d=u.H_.ot(h);return d.targetChanges.forEach((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const v=u.U_.get(y);v&&u.U_.set(y,v.withResumeToken(m.resumeToken,h))}}),d.targetMismatches.forEach((m,y)=>{const v=u.U_.get(m);if(!v)return;u.U_.set(m,v.withResumeToken(Kt.EMPTY_BYTE_STRING,v.snapshotVersion)),bb(u,m);const A=new os(v.target,m,y,v.sequenceNumber);yg(u,A)}),u.remoteSyncer.applyRemoteEvent(d)}(i,t)}catch(s){le(ya,"Failed to raise snapshot:",s),await rf(i,s)}}async function rf(i,e,t){if(!Fo(e))throw e;i.W_.add(1),await Bu(i),i.j_.set("Offline"),t||(t=()=>vb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{le(ya,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await Rf(i)})}function xb(i,e){return e().catch(t=>rf(i,t,e))}async function Cf(i){const e=Ae(i),t=_s(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:ng;for(;NO(e);)try{const o=await hO(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,DO(e,o)}catch(o){await rf(e,o)}Sb(e)&&Rb(e)}function NO(i){return ba(i)&&i.K_.length<10}function DO(i,e){i.K_.push(e);const t=_s(i);t.c_()&&t.S_&&t.b_(e.mutations)}function Sb(i){return ba(i)&&!_s(i).u_()&&i.K_.length>0}function Rb(i){_s(i).start()}async function OO(i){_s(i).C_()}async function kO(i){const e=_s(i);for(const t of i.K_)e.b_(t.mutations)}async function jO(i,e,t){const s=i.K_.shift(),o=ug.from(s,e,t);await xb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Cf(i)}async function MO(i,e){e&&_s(i).S_&&await async function(s,o){if(function(h){return gD(h)&&h!==X.ABORTED}(o.code)){const u=s.K_.shift();_s(s).h_(),await xb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Cf(s)}}(i,e),Sb(i)&&Rb(i)}async function CE(i,e){const t=Ae(i);t.asyncQueue.verifyOperationInProgress(),le(ya,"RemoteStore received new credentials");const s=ba(t);t.W_.add(3),await Bu(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Rf(t)}async function PO(i,e){const t=Ae(i);e?(t.W_.delete(2),await Rf(t)):e||(t.W_.add(2),await Bu(t),t.j_.set("Unknown"))}function Ho(i){return i.J_||(i.J_=function(t,s,o){const u=Ae(t);return u.M_(),new EO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:SO.bind(null,i),No:RO.bind(null,i),Lo:CO.bind(null,i),p_:IO.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),vg(i)?_g(i):i.j_.set("Unknown")):(await i.J_.stop(),Ab(i))})),i.J_}function _s(i){return i.Y_||(i.Y_=function(t,s,o){const u=Ae(t);return u.M_(),new TO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:OO.bind(null,i),Lo:MO.bind(null,i),D_:kO.bind(null,i),v_:jO.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await Cf(i)):(await i.Y_.stop(),i.K_.length>0&&(le(ya,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,d=new Eg(e,t,h,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tg(i,e){if(_r("AsyncQueue",`${e}: ${i}`),Fo(i))return new se(X.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{static emptySet(e){return new xo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ge.comparator(t.key,s.key):(t,s)=>ge.comparator(t.key,s.key),this.keyedMap=ou(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new xo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(){this.Z_=new at(ge.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ee():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class Do{constructor(e,t,s,o,u,h,d,m,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Do(e,t,xo.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class LO{constructor(){this.queries=NE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Ae(t),u=o.queries;o.queries=NE(),u.forEach((h,d)=>{for(const m of d.ta)m.onError(s)})})(this,new se(X.ABORTED,"Firestore shutting down"))}}function NE(){return new wa(i=>$w(i),Ef)}async function Cb(i,e){const t=Ae(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new VO,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=Tg(h,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&wg(t)}async function Ib(i,e){const t=Ae(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function UO(i,e){const t=Ae(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const d of h.ta)d.oa(o)&&(s=!0);h.ea=o}}s&&wg(t)}function zO(i,e,t){const s=Ae(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(t);s.queries.delete(e)}function wg(i){i.ia.forEach(e=>{e.next()})}var Rp,DE;(DE=Rp||(Rp={}))._a="default",DE.Cache="cache";class Nb{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Do(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Do.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Rp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.key=e}}class Ob{constructor(e){this.key=e}}class BO{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ke(),this.mutatedKeys=ke(),this.ya=Kw(e),this.wa=new xo(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new IE,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,A)=>{const x=o.get(v),C=Tf(this.query,A)?A:null,k=!!x&&this.mutatedKeys.has(x.key),$=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let U=!1;x&&C?x.data.isEqual(C.data)?k!==$&&(s.track({type:3,doc:C}),U=!0):this.va(x,C)||(s.track({type:2,doc:C}),U=!0,(m&&this.ya(C,m)>0||y&&this.ya(C,y)<0)&&(d=!0)):!x&&C?(s.track({type:0,doc:C}),U=!0):x&&!C&&(s.track({type:1,doc:x}),U=!0,(m||y)&&(d=!0)),U&&(C?(h=h.add(C),u=$?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{wa:h,Da:s,ls:d,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((v,A)=>function(C,k){const $=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return $(C)-$(k)}(v.type,A.type)||this.ya(v.doc,A.doc)),this.Ca(s),o=o!=null&&o;const d=t&&!o?this.Fa():[],m=this.pa.size===0&&this.current&&!o?1:0,y=m!==this.ga;return this.ga=m,h.length!==0||y?{snapshot:new Do(this.query,e.wa,u,h,e.mutatedKeys,m===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new IE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ke(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new Ob(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new Db(s))}),t}Oa(e){this.fa=e.gs,this.pa=ke();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Do.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const bg="SyncEngine";class FO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class qO{constructor(e){this.key=e,this.Ba=!1}}class HO{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new wa(d=>$w(d),Ef),this.qa=new Map,this.Qa=new Set,this.$a=new at(ge.comparator),this.Ka=new Map,this.Ua=new fg,this.Wa={},this.Ga=new Map,this.za=No.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function GO(i,e,t=!0){const s=Lb(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await kb(s,e,t,!0),o}async function $O(i,e){const t=Lb(i);await kb(t,e,!0,!1)}async function kb(i,e,t,s){const o=await fO(i.localStore,Ci(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let d;return s&&(d=await KO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&wb(i.remoteStore,o),d}async function KO(i,e,t,s,o){i.Ha=(A,x,C)=>async function($,U,Q,ee){let J=U.view.ba(Q);J.ls&&(J=await bE($.localStore,U.query,!1).then(({documents:M})=>U.view.ba(M,J)));const he=ee&&ee.targetChanges.get(U.targetId),ue=ee&&ee.targetMismatches.get(U.targetId)!=null,Te=U.view.applyChanges(J,$.isPrimaryClient,he,ue);return kE($,U.targetId,Te.Ma),Te.snapshot}(i,A,x,C);const u=await bE(i.localStore,e,!0),h=new BO(e,u.gs),d=h.ba(u.documents),m=zu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),y=h.applyChanges(d,i.isPrimaryClient,m);kE(i,t,y.Ma);const v=new FO(e,t,h);return i.ka.set(e,v),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),y.snapshot}async function QO(i,e,t){const s=Ae(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!Ef(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await xp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&gg(s.remoteStore,o.targetId),Cp(s,o.targetId)}).catch(Bo)):(Cp(s,o.targetId),await xp(s.localStore,o.targetId,!0))}async function YO(i,e){const t=Ae(i),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),gg(t.remoteStore,s.targetId))}async function XO(i,e,t){const s=ik(i);try{const o=await function(h,d){const m=Ae(h),y=Nt.now(),v=d.reduce((C,k)=>C.add(k.key),ke());let A,x;return m.persistence.runTransaction("Locally write mutations","readwrite",C=>{let k=vr(),$=ke();return m.ds.getEntries(C,v).next(U=>{k=U,k.forEach((Q,ee)=>{ee.isValidDocument()||($=$.add(Q))})}).next(()=>m.localDocuments.getOverlayedDocuments(C,k)).next(U=>{A=U;const Q=[];for(const ee of d){const J=hD(ee,A.get(ee.key).overlayedDocument);J!=null&&Q.push(new Rs(ee.key,J,Lw(J.value.mapValue),un.exists(!0)))}return m.mutationQueue.addMutationBatch(C,y,Q,d)}).next(U=>{x=U;const Q=U.applyToLocalDocumentSet(A,$);return m.documentOverlayCache.saveOverlays(C,U.batchId,Q)})}).then(()=>({batchId:x.batchId,changes:Yw(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,m){let y=h.Wa[h.currentUser.toKey()];y||(y=new at(Me)),y=y.insert(d,m),h.Wa[h.currentUser.toKey()]=y}(s,o.batchId,t),await Fu(s,o.changes),await Cf(s.remoteStore)}catch(o){const u=Tg(o,"Failed to persist write");t.reject(u)}}async function jb(i,e){const t=Ae(i);try{const s=await uO(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Ka.get(u);h&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?$e(h.Ba):o.removedDocuments.size>0&&($e(h.Ba),h.Ba=!1))}),await Fu(t,s,e)}catch(s){await Bo(s)}}function OE(i,e,t){const s=Ae(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((u,h)=>{const d=h.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const m=Ae(h);m.onlineState=d;let y=!1;m.queries.forEach((v,A)=>{for(const x of A.ta)x.sa(d)&&(y=!0)}),y&&wg(m)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function WO(i,e,t){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),u=o&&o.key;if(u){let h=new at(ge.comparator);h=h.insert(u,Jt.newNoDocument(u,we.min()));const d=ke().add(u),m=new xf(we.min(),new Map,new at(Me),h,d);await jb(s,m),s.$a=s.$a.remove(u),s.Ka.delete(e),Ag(s)}else await xp(s.localStore,e,!1).then(()=>Cp(s,e,t)).catch(Bo)}async function ZO(i,e){const t=Ae(i),s=e.batch.batchId;try{const o=await lO(t.localStore,e);Pb(t,s,null),Mb(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Fu(t,o)}catch(o){await Bo(o)}}async function JO(i,e,t){const s=Ae(i);try{const o=await function(h,d){const m=Ae(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let v;return m.mutationQueue.lookupMutationBatch(y,d).next(A=>($e(A!==null),v=A.keys(),m.mutationQueue.removeMutationBatch(y,A))).next(()=>m.mutationQueue.performConsistencyCheck(y)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(y,v,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v)).next(()=>m.localDocuments.getDocuments(y,v))})}(s.localStore,e);Pb(s,e,t),Mb(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Fu(s,o)}catch(o){await Bo(o)}}function Mb(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function Pb(i,e,t){const s=Ae(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Cp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),t&&i.La.Ja(s,t);i.qa.delete(e),i.isPrimaryClient&&i.Ua.br(e).forEach(s=>{i.Ua.containsKey(s)||Vb(i,s)})}function Vb(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(gg(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ka.delete(t),Ag(i))}function kE(i,e,t){for(const s of t)s instanceof Db?(i.Ua.addReference(s.key,e),ek(i,s)):s instanceof Ob?(le(bg,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,e),i.Ua.containsKey(s.key)||Vb(i,s.key)):Ee()}function ek(i,e){const t=e.key,s=t.path.canonicalString();i.$a.get(t)||i.Qa.has(s)||(le(bg,"New document in limbo: "+t),i.Qa.add(s),Ag(i))}function Ag(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new ge(tt.fromString(e)),s=i.za.next();i.Ka.set(s,new qO(t)),i.$a=i.$a.insert(t,s),wb(i.remoteStore,new os(Ci(og(t.path)),s,"TargetPurposeLimboResolution",yf.ae))}}async function Fu(i,e,t){const s=Ae(i),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((d,m)=>{h.push(s.Ha(m,e,t).then(y=>{var v;if((y||t)&&s.isPrimaryClient){const A=y?!y.fromCache:(v=t==null?void 0:t.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,A?"current":"not-current")}if(y){o.push(y);const A=mg.Yi(m.targetId,y);u.push(A)}}))}),await Promise.all(h),s.La.p_(o),await async function(m,y){const v=Ae(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>Z.forEach(y,x=>Z.forEach(x.Hi,C=>v.persistence.referenceDelegate.addReference(A,x.targetId,C)).next(()=>Z.forEach(x.Ji,C=>v.persistence.referenceDelegate.removeReference(A,x.targetId,C)))))}catch(A){if(!Fo(A))throw A;le(pg,"Failed to update sequence numbers: "+A)}for(const A of y){const x=A.targetId;if(!A.fromCache){const C=v.Ts.get(x),k=C.snapshotVersion,$=C.withLastLimboFreeSnapshotVersion(k);v.Ts=v.Ts.insert(x,$)}}}(s.localStore,u))}async function tk(i,e){const t=Ae(i);if(!t.currentUser.isEqual(e)){le(bg,"User change. New user:",e.toKey());const s=await _b(t.localStore,e);t.currentUser=e,function(u,h){u.Ga.forEach(d=>{d.forEach(m=>{m.reject(new se(X.CANCELLED,h))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Fu(t,s.Rs)}}function nk(i,e){const t=Ae(i),s=t.Ka.get(e);if(s&&s.Ba)return ke().add(s.key);{let o=ke();const u=t.qa.get(e);if(!u)return o;for(const h of u){const d=t.ka.get(h);o=o.unionWith(d.view.Sa)}return o}}function Lb(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=jb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WO.bind(null,e),e.La.p_=UO.bind(null,e.eventManager),e.La.Ja=zO.bind(null,e.eventManager),e}function ik(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JO.bind(null,e),e}class sf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return oO(this.persistence,new rO,e.initialUser,this.serializer)}Xa(e){return new yb(dg.ri,this.serializer)}Za(e){return new mO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sf.provider={build:()=>new sf};class rk extends sf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){$e(this.persistence.referenceDelegate instanceof nf);const s=this.persistence.referenceDelegate.garbageCollector;return new qD(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new yb(s=>nf.ri(s,t),this.serializer)}}class Ip{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>OE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=tk.bind(null,this.syncEngine),await PO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new LO}()}createDatastore(e){const t=Sf(e.databaseInfo.databaseId),s=function(u){return new vO(u)}(e.databaseInfo);return function(u,h,d,m){return new bO(u,h,d,m)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,d){return new xO(s,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>OE(this.syncEngine,t,0),function(){return SE.D()?new SE:new pO}())}createSyncEngine(e,t){return function(o,u,h,d,m,y,v){const A=new HO(o,u,h,d,m,y);return v&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Ae(o);le(ya,"RemoteStore shutting down."),u.W_.add(5),await Bu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ip.provider={build:()=>new Ip};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="FirestoreClient";class sk{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Cw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{le(vs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(le(vs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Tg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function ep(i,e){i.asyncQueue.verifyOperationInProgress(),le(vs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await _b(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function jE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await ak(i);le(vs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>CE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>CE(e.remoteStore,o)),i._onlineComponents=e}async function ak(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){le(vs,"Using user provided OfflineComponentProvider");try{await ep(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;So("Error using user provided cache. Falling back to memory cache: "+t),await ep(i,new sf)}}else le(vs,"Using default OfflineComponentProvider"),await ep(i,new rk(void 0));return i._offlineComponents}async function zb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(le(vs,"Using user provided OnlineComponentProvider"),await jE(i,i._uninitializedComponentsProvider._online)):(le(vs,"Using default OnlineComponentProvider"),await jE(i,new Ip))),i._onlineComponents}function ok(i){return zb(i).then(e=>e.syncEngine)}async function Bb(i){const e=await zb(i),t=e.eventManager;return t.onListen=GO.bind(null,e.syncEngine),t.onUnlisten=QO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=$O.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=YO.bind(null,e.syncEngine),t}function lk(i,e,t={}){const s=new pr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,m,y){const v=new Ub({next:x=>{v.su(),h.enqueueAndForget(()=>Ib(u,A));const C=x.docs.has(d);!C&&x.fromCache?y.reject(new se(X.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&x.fromCache&&m&&m.source==="server"?y.reject(new se(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),A=new Nb(og(d.path),v,{includeMetadataChanges:!0,Ta:!0});return Cb(u,A)}(await Bb(i),i.asyncQueue,e,t,s)),s.promise}function uk(i,e,t={}){const s=new pr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,m,y){const v=new Ub({next:x=>{v.su(),h.enqueueAndForget(()=>Ib(u,A)),x.fromCache&&m.source==="server"?y.reject(new se(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),A=new Nb(d,v,{includeMetadataChanges:!0,Ta:!0});return Cb(u,A)}(await Bb(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(i,e,t){if(!t)throw new se(X.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ck(i,e,t,s){if(e===!0&&s===!0)throw new se(X.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function PE(i){if(!ge.isDocumentKey(i))throw new se(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function VE(i){if(ge.isDocumentKey(i))throw new se(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function If(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee()}function Kn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new se(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=If(i);throw new se(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="firestore.googleapis.com",LE=!0;class UE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new se(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hb,this.ssl=LE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:LE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BD)throw new se(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ck("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UE(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new vN;switch(s.type){case"firstParty":return new bN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new se(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=ME.get(t);s&&(le("ComponentProvider","Removing Datastore"),ME.delete(t),s.terminate())}(this),Promise.resolve()}}function hk(i,e,t,s={}){var o;const u=(i=Kn(i,Nf))._getSettings(),h=`${e}:${t}`;if(u.host!==Hb&&u.host!==h&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let d,m;if(typeof s.mockUserToken=="string")d=s.mockUserToken,m=Zt.MOCK_USER;else{d=jT(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new se(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Zt(y)}i._authCredentials=new EN(new Rw(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Cs(this.firestore,e,this._query)}}class cn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class hs extends Cs{constructor(e,t,s){super(e,t,og(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new ge(e))}withConverter(e){return new hs(this.firestore,e,this._path)}}function Go(i,e,...t){if(i=wt(i),qb("collection","path",e),i instanceof Nf){const s=tt.fromString(e,...t);return VE(s),new hs(i,null,s)}{if(!(i instanceof cn||i instanceof hs))throw new se(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...t));return VE(s),new hs(i.firestore,null,s)}}function Es(i,e,...t){if(i=wt(i),arguments.length===1&&(e=Cw.newId()),qb("doc","path",e),i instanceof Nf){const s=tt.fromString(e,...t);return PE(s),new cn(i,null,new ge(s))}{if(!(i instanceof cn||i instanceof hs))throw new se(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...t));return PE(s),new cn(i.firestore,i instanceof hs?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="AsyncQueue";class BE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Eb(this,"async_queue_retry"),this.Su=()=>{const s=Jm();s&&le(zE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=Jm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Jm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new pr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Fo(e))throw e;le(zE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw _r("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Eg.createAndSchedule(this,e,t,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Is extends Nf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new BE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BE(e),this._firestoreClient=void 0,await e}}}function fk(i,e){const t=typeof i=="object"?i:Gp(),s=typeof i=="string"?i:Wh,o=df(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=DT("firestore");u&&hk(o,...u)}return o}function Df(i){if(i._terminated)throw new se(X.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||dk(i),i._firestoreClient}function dk(i){var e,t,s;const o=i._freezeSettings(),u=function(d,m,y,v){return new VN(d,m,y,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Fb(v.experimentalLongPollingOptions),v.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new sk(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oo(Kt.fromBase64String(e))}catch(t){throw new se(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Oo(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new se(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new se(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new se(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=/^__.*__$/;class pk{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Rs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uu(e,this.data,t,this.fieldTransforms)}}class Gb{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Rs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function $b(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class Rg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Rg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return af(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if($b(this.Lu)&&mk.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class gk{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Sf(e)}ju(e,t,s,o=!1){return new Rg({Lu:e,methodName:t,zu:s,path:$t.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gu(i){const e=i._freezeSettings(),t=Sf(i._databaseId);return new gk(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Cg(i,e,t,s,o,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,e,t,o);Dg("Data must be an object, but it was:",h,s);const d=Yb(s,h);let m,y;if(u.merge)m=new Cn(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const A of u.mergeFields){const x=Np(e,A,t);if(!h.contains(x))throw new se(X.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);Wb(v,x)||v.push(x)}m=new Cn(v),y=h.fieldTransforms.filter(A=>m.covers(A.field))}else m=null,y=h.fieldTransforms;return new pk(new yn(d),m,y)}class Of extends Hu{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Of}}class Ig extends Hu{_toFieldTransform(e){return new ib(e.path,new Su)}isEqual(e){return e instanceof Ig}}class Ng extends Hu{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new Iu(e.serializer,Zw(e.serializer,this.Ju));return new ib(e.path,t)}isEqual(e){return e instanceof Ng&&this.Ju===e.Ju}}function Kb(i,e,t,s){const o=i.ju(1,e,t);Dg("Data must be an object, but it was:",o,s);const u=[],h=yn.empty();Ss(s,(m,y)=>{const v=Og(e,m,t);y=wt(y);const A=o.Ku(v);if(y instanceof Of)u.push(v);else{const x=$u(y,A);x!=null&&(u.push(v),h.set(v,x))}});const d=new Cn(u);return new Gb(h,d,o.fieldTransforms)}function Qb(i,e,t,s,o,u){const h=i.ju(1,e,t),d=[Np(e,s,t)],m=[o];if(u.length%2!=0)throw new se(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)d.push(Np(e,u[x])),m.push(u[x+1]);const y=[],v=yn.empty();for(let x=d.length-1;x>=0;--x)if(!Wb(y,d[x])){const C=d[x];let k=m[x];k=wt(k);const $=h.Ku(C);if(k instanceof Of)y.push(C);else{const U=$u(k,$);U!=null&&(y.push(C),v.set(C,U))}}const A=new Cn(y);return new Gb(v,A,h.fieldTransforms)}function yk(i,e,t,s=!1){return $u(t,i.ju(s?4:3,e))}function $u(i,e){if(Xb(i=wt(i)))return Dg("Unsupported field value:",e,i),Yb(i,e);if(i instanceof Hu)return function(s,o){if(!$b(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const d of s){let m=$u(d,o.Uu(h));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=wt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Zw(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Nt.fromDate(s);return{timestampValue:tf(o.serializer,u)}}if(s instanceof Nt){const u=new Nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:tf(o.serializer,u)}}if(s instanceof xg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Oo)return{bytesValue:ub(o.serializer,s._byteString)};if(s instanceof cn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:hg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Sg)return function(h,d){return{mapValue:{fields:{[Pw]:{stringValue:Vw},[Zh]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw d.Wu("VectorValues must only contain numeric values.");return lg(d.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${If(s)}`)}(i,e)}function Yb(i,e){const t={};return Nw(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ss(i,(s,o)=>{const u=$u(o,e.qu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function Xb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Nt||i instanceof xg||i instanceof Oo||i instanceof cn||i instanceof Hu||i instanceof Sg)}function Dg(i,e,t){if(!Xb(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=If(t);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function Np(i,e,t){if((e=wt(e))instanceof qu)return e._internalPath;if(typeof e=="string")return Og(i,e);throw af("Field path arguments must be of type string or ",i,!1,void 0,t)}const _k=new RegExp("[~\\*/\\[\\]]");function Og(i,e,t){if(e.search(_k)>=0)throw af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new qu(...e.split("."))._internalPath}catch{throw af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function af(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${s}`),h&&(m+=` in document ${o}`),m+=")"),new se(X.INVALID_ARGUMENT,d+i+m)}function Wb(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(kf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class vk extends Zb{data(){return super.data()}}function kf(i,e){return typeof e=="string"?Og(i,e):e instanceof qu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new se(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kg{}class jg extends kg{}function $o(i,e,...t){let s=[];e instanceof kg&&s.push(e),s=s.concat(t),function(u){const h=u.filter(m=>m instanceof Mg).length,d=u.filter(m=>m instanceof jf).length;if(h>1||h>0&&d>0)throw new se(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class jf extends jg{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new jf(e,t,s)}_apply(e){const t=this._parse(e);return e1(e._query,t),new Cs(e.firestore,e.converter,Ep(e._query,t))}_parse(e){const t=Gu(e.firestore);return function(u,h,d,m,y,v,A){let x;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new se(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){qE(A,v);const k=[];for(const $ of A)k.push(FE(m,u,$));x={arrayValue:{values:k}}}else x=FE(m,u,A)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||qE(A,v),x=yk(d,h,A,v==="in"||v==="not-in");return Tt.create(y,v,x)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ko(i,e,t){const s=e,o=kf("where",i);return jf._create(o,s,t)}class Mg extends kg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Mg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:ii.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const d=u.getFlattenedFilters();for(const m of d)e1(h,m),h=Ep(h,m)}(e._query,t),new Cs(e.firestore,e.converter,Ep(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pg extends jg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Pg(e,t)}_apply(e){const t=function(o,u,h){if(o.startAt!==null)throw new se(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new se(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xu(u,h)}(e._query,this._field,this._direction);return new Cs(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new qo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Mf(i,e="asc"){const t=e,s=kf("orderBy",i);return Pg._create(s,t)}class Vg extends jg{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Vg(e,t,s)}_apply(e){return new Cs(e.firestore,e.converter,ef(e._query,this._limit,this._limitType))}}function Jb(i){return Vg._create("limit",i,"F")}function FE(i,e,t){if(typeof(t=wt(t))=="string"){if(t==="")throw new se(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gw(e)&&t.indexOf("/")!==-1)throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(tt.fromString(t));if(!ge.isDocumentKey(s))throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return rE(i,new ge(s))}if(t instanceof cn)return rE(i,t._key);throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${If(t)}.`)}function qE(i,e){if(!Array.isArray(i)||i.length===0)throw new se(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e1(i,e){const t=function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new se(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Tk{convertValue(e,t="none"){switch(ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ss(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Zh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>mt(h.doubleValue));return new Sg(u)}convertGeoPoint(e){return new xg(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=vf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const t=ps(e);return new Nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=tt.fromString(e);$e(pb(s));const o=new bu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(t)||_r(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class t1 extends Zb{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(kf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Uh extends t1{data(e={}){return super.data(e)}}class wk{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new uu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Uh(this._firestore,this._userDataWriter,s.key,s,new uu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new se(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const m=new Uh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new uu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const m=new Uh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new uu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return d.type!==0&&(y=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),v=h.indexOf(d.doc.key)),{type:bk(d.type),doc:m,oldIndex:y,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function bk(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(i){i=Kn(i,cn);const e=Kn(i.firestore,Is);return lk(Df(e),i._key).then(t=>Ik(e,i,t))}class n1 extends Tk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,t)}}function Qo(i){i=Kn(i,Cs);const e=Kn(i.firestore,Is),t=Df(e),s=new n1(e);return Ek(i._query),uk(t,i._query).then(o=>new wk(e,s,i,o))}function xk(i,e,t){i=Kn(i,cn);const s=Kn(i.firestore,Is),o=Lg(i.converter,e,t);return Ku(s,[Cg(Gu(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,un.none())])}function Sk(i,e,t,...s){i=Kn(i,cn);const o=Kn(i.firestore,Is),u=Gu(o);let h;return h=typeof(e=wt(e))=="string"||e instanceof qu?Qb(u,"updateDoc",i._key,e,t,s):Kb(u,"updateDoc",i._key,e),Ku(o,[h.toMutation(i._key,un.exists(!0))])}function Rk(i){return Ku(Kn(i.firestore,Is),[new Af(i._key,un.none())])}function Ck(i,e){const t=Kn(i.firestore,Is),s=Es(i),o=Lg(i.converter,e);return Ku(t,[Cg(Gu(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,un.exists(!1))]).then(()=>s)}function Ku(i,e){return function(s,o){const u=new pr;return s.asyncQueue.enqueueAndForget(async()=>XO(await ok(s),o,u)),u.promise}(Df(i),e)}function Ik(i,e,t){const s=t.docs.get(e._key),o=new n1(i);return new t1(i,o,e._key,s,new uu(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Gu(e)}set(e,t,s){this._verifyNotCommitted();const o=tp(e,this._firestore),u=Lg(o.converter,t,s),h=Cg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(h.toMutation(o._key,un.none())),this}update(e,t,s,...o){this._verifyNotCommitted();const u=tp(e,this._firestore);let h;return h=typeof(t=wt(t))=="string"||t instanceof qu?Qb(this._dataReader,"WriteBatch.update",u._key,t,s,o):Kb(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(h.toMutation(u._key,un.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=tp(e,this._firestore);return this._mutations=this._mutations.concat(new Af(t._key,un.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new se(X.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function tp(i,e){if((i=wt(i)).firestore!==e)throw new se(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function Qu(){return new Ig("serverTimestamp")}function pu(i){return new Ng("increment",i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(i){return Df(i=Kn(i,Is)),new Nk(i,e=>Ku(i,e))}(function(e,t=!0){(function(o){zo=o})(Ea),da(new ds("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new Is(new TN(s.getProvider("auth-internal")),new AN(h,s.getProvider("app-check-internal")),function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new se(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(y.options.projectId,v)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),xi(K0,Q0,e),xi(K0,Q0,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="firebasestorage.googleapis.com",Dk="storageBucket",Ok=2*60*1e3,kk=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends ji{constructor(e,t,s=0){super(np(e),`Firebase Storage: ${t} (${np(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return np(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Di;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Di||(Di={}));function np(i){return"storage/"+i}function jk(){const i="An unknown error occurred, please check the error payload for server response.";return new Mi(Di.UNKNOWN,i)}function Mk(){return new Mi(Di.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Pk(){return new Mi(Di.CANCELED,"User canceled the upload/download.")}function Vk(i){return new Mi(Di.INVALID_URL,"Invalid URL '"+i+"'.")}function Lk(i){return new Mi(Di.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function HE(i){return new Mi(Di.INVALID_ARGUMENT,i)}function s1(){return new Mi(Di.APP_DELETED,"The Firebase app was deleted.")}function Uk(i){return new Mi(Di.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=ti.makeFromUrl(e,t)}catch{return new ti(e,"")}if(s.path==="")return s;throw Lk(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(he){he.path.charAt(he.path.length-1)==="/"&&(he.path_=he.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),m={bucket:1,path:3};function y(he){he.path_=decodeURIComponent(he.path)}const v="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",C=new RegExp(`^https?://${A}/${v}/b/${o}/o${x}`,"i"),k={bucket:1,path:3},$=t===r1?"(?:storage.googleapis.com|storage.cloud.google.com)":t,U="([^?#]*)",Q=new RegExp(`^https?://${$}/${o}/${U}`,"i"),J=[{regex:d,indices:m,postModify:u},{regex:C,indices:k,postModify:y},{regex:Q,indices:{bucket:1,path:2},postModify:y}];for(let he=0;he<J.length;he++){const ue=J[he],Te=ue.regex.exec(e);if(Te){const M=Te[ue.indices.bucket];let I=Te[ue.indices.path];I||(I=""),s=new ti(M,I),ue.postModify(s);break}}if(s==null)throw Vk(e);return s}}class zk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(i,e,t){let s=1,o=null,u=null,h=!1,d=0;function m(){return d===2}let y=!1;function v(...U){y||(y=!0,e.apply(null,U))}function A(U){o=setTimeout(()=>{o=null,i(C,m())},U)}function x(){u&&clearTimeout(u)}function C(U,...Q){if(y){x();return}if(U){x(),v.call(null,U,...Q);return}if(m()||h){x(),v.call(null,U,...Q);return}s<64&&(s*=2);let J;d===1?(d=2,J=0):J=(s+Math.random())*1e3,A(J)}let k=!1;function $(U){k||(k=!0,x(),!y&&(o!==null?(U||(d=2),clearTimeout(o),A(0)):U||(d=1)))}return A(0),u=setTimeout(()=>{h=!0,$(!0)},t),$}function Fk(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(i){return i!==void 0}function GE(i,e,t,s){if(s<e)throw HE(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw HE(`Invalid value for '${i}'. Expected ${t} or less.`)}function Hk(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var of;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(of||(of={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,t,s,o,u,h,d,m,y,v,A,x=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=m,this.timeout_=y,this.progressCallback_=v,this.connectionFactory_=A,this.retry=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,k)=>{this.resolve_=C,this.reject_=k,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Rh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=d=>{const m=d.loaded,y=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,y)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const d=u.getErrorCode()===of.NO_ERROR,m=u.getStatus();if(!d||Gk(m,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===of.ABORT;s(!1,new Rh(!1,null,v));return}const y=this.successCodes_.indexOf(m)!==-1;s(!0,new Rh(y,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());qk(m)?u(m):u()}catch(m){h(m)}else if(d!==null){const m=jk();m.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,m)):h(m)}else if(o.canceled){const m=this.appDelete_?s1():Pk();h(m)}else{const m=Mk();h(m)}};this.canceled_?t(!1,new Rh(!1,null,!0)):this.backoffId_=Bk(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Fk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function Kk(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function Qk(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Yk(i,e){e&&(i["X-Firebase-GMPID"]=e)}function Xk(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function Wk(i,e,t,s,o,u,h=!0){const d=Hk(i.urlParams),m=i.url+d,y=Object.assign({},i.headers);return Yk(y,e),Kk(y,t),Qk(y,u),Xk(y,s),new $k(m,i.method,y,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function Jk(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t){this._service=e,t instanceof ti?this._location=t:this._location=ti.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new lf(e,t)}get root(){const e=new ti(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Jk(this._location.path)}get storage(){return this._service}get parent(){const e=Zk(this._location.path);if(e===null)return null;const t=new ti(this._location.bucket,e);return new lf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Uk(e)}}function $E(i,e){const t=e==null?void 0:e[Dk];return t==null?null:ti.makeFromBucketSpec(t,i)}function e5(i,e,t,s={}){i.host=`${e}:${t}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken=typeof o=="string"?o:jT(o,i.app.options.projectId))}class t5{constructor(e,t,s,o,u){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=r1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ok,this._maxUploadRetryTime=kk,this._requests=new Set,o!=null?this._bucket=ti.makeFromBucketSpec(o,this._host):this._bucket=$E(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ti.makeFromBucketSpec(this._url,e):this._bucket=$E(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){GE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){GE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lf(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new zk(s1());{const h=Wk(e,this._appId,s,o,t,this._firebaseVersion,u);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const KE="@firebase/storage",QE="0.13.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="storage";function n5(i=Gp(),e){i=wt(i);const s=df(i,a1).getImmediate({identifier:e}),o=DT("storage");return o&&i5(s,...o),s}function i5(i,e,t,s={}){e5(i,e,t,s)}function r5(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new t5(t,s,o,e,Ea)}function s5(){da(new ds(a1,r5,"PUBLIC").setMultipleInstances(!0)),xi(KE,QE,""),xi(KE,QE,"esm2017")}s5();const Ug=VT({apiKey:"AIzaSyCsfnrl6DfqB6SIKTzsbmmd3dB4Lxn410M",appId:"1:123255881070:web:8e0c5d947164b64350557",projectId:"argo-store-9d6a9",storageBucket:"argo-store-9d6a9.firebasestorage.app",authDomain:"argo-store-9d6a9.firebaseapp.com",messagingSenderId:"123255881070"}),hn=fk(Ug),zh=yN(Ug);new ur;n5(Ug);const o1=Go(hn,"Products");Go(hn,"Users");const zg=Go(hn,"Invoices"),l1=Go(hn,"Customers"),u1=Go(hn,"Warehouse_Entries"),c1=Go(hn,"Receipts"),h1=async({collection:i,id:e,msg:t})=>{await Rk(Es(hn,i,e))},f1=async({collection:i,id:e,msg:t})=>Ak(Es(hn,i,e)),Yu=async({collection:i,data:e,msg:t})=>{const s=await Ck(i,e);return s.firestore,s.id},Nu=async({collection:i,id:e,data:t,msg:s})=>await xk(Es(hn,i,e),{...t},{merge:!0});function a5(){const{setUser:i,setLoading:e,loading:t,user:s,justRegistered:o}=oi();return w.useEffect(()=>{(async()=>{zh.onAuthStateChanged(async h=>{if(h&&h.email)if(o.current){o.current=!1;const d={email:h.email,address:"",phone_number:"",store_name:`${h.email}'s Store`};await Nu({collection:"Users",data:d,id:h.email}),i(d)}else{const d=await f1({collection:"Users",id:h.email});i(d.data())}else i(null);e(!1)})})()},[]),{user:s,loading:t}}const o5=()=>{const[i,e]=w.useState(null),[t,s]=w.useState(!0),o=w.useRef(!1);return{user:i,setUser:e,loading:t,setLoading:s,justRegistered:o}},d1=w.createContext(null);function oi(){const i=w.useContext(d1);if(!i)throw new Error("auth context not Provided");return i}function l5({children:i}){return a5(),i}function u5({children:i}){return g.jsx(d1.Provider,{value:o5(),children:g.jsx(l5,{children:i})})}function c5(){const{user:i}=oi(),{customer:e,ableToSubmit:t,payMethod:s,setInvoice:o}=bs(),{cartItems:u}=va(),h=Oi();return{checkout:async()=>{if(!t||!e||!i)return;const m=[];u.forEach(x=>{const C=x.units.filter(Q=>Q.quantity>0),k=C.sort((Q,ee)=>Q.conversion_quantity>ee.conversion_quantity?1:-1);let $=k[0].price;s==="no"?$=x.debt_price:C.length>1&&($=k[k.length-1].price/k[k.length-1].conversion_quantity);const U={product_name:x.product_name,product_image_url:x.image_url,product_id:x.id,unit_name:x.units[0].unit_name,quantity:x.total_quantity,price:dR($),stock_price:x.stock_price};m.push(U)});const y=m.reduce((x,C)=>x+C.price*C.quantity,0),v=m.reduce((x,C)=>x+C.stock_price*C.quantity,0),A={customer_id:e.id,customer_name:e.customer_name,user_email:i.email,items:m,payment:s,total_price:+y.toFixed(1),revenue:+(y-v).toFixed(1),created_at:Qu()};o(A),h("/checkout")}}}function h5({title:i,titleId:e,...t},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?w.createElement("title",{id:e},i):null,w.createElement("path",{fillRule:"evenodd",d:"M2 8a.75.75 0 0 1 .75-.75h8.69L8.22 4.03a.75.75 0 0 1 1.06-1.06l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 0 1-1.06-1.06l3.22-3.22H2.75A.75.75 0 0 1 2 8Z",clipRule:"evenodd"}))}const Bg=w.forwardRef(h5);function f5({title:i,titleId:e,...t},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?w.createElement("title",{id:e},i):null,w.createElement("path",{fillRule:"evenodd",d:"M12.416 3.376a.75.75 0 0 1 .208 1.04l-5 7.5a.75.75 0 0 1-1.154.114l-3-3a.75.75 0 0 1 1.06-1.06l2.353 2.353 4.493-6.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"}))}const Pf=w.forwardRef(f5);function d5({title:i,titleId:e,...t},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?w.createElement("title",{id:e},i):null,w.createElement("path",{fillRule:"evenodd",d:"M9.78 4.22a.75.75 0 0 1 0 1.06L7.06 8l2.72 2.72a.75.75 0 1 1-1.06 1.06L5.47 8.53a.75.75 0 0 1 0-1.06l3.25-3.25a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const Vf=w.forwardRef(d5);function m5({title:i,titleId:e,...t},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?w.createElement("title",{id:e},i):null,w.createElement("path",{fillRule:"evenodd",d:"M6.22 4.22a.75.75 0 0 1 1.06 0l3.25 3.25a.75.75 0 0 1 0 1.06l-3.25 3.25a.75.75 0 0 1-1.06-1.06L8.94 8 6.22 5.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const m1=w.forwardRef(m5);function p5({title:i,titleId:e,...t},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?w.createElement("title",{id:e},i):null,w.createElement("path",{d:"M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"}))}const g5=w.forwardRef(p5);function y5({title:i,titleId:e,...t},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?w.createElement("title",{id:e},i):null,w.createElement("path",{d:"M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"}))}const Xu=w.forwardRef(y5);function _5({title:i,titleId:e,...t},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?w.createElement("title",{id:e},i):null,w.createElement("path",{d:"M5.28 4.22a.75.75 0 0 0-1.06 1.06L6.94 8l-2.72 2.72a.75.75 0 1 0 1.06 1.06L8 9.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L9.06 8l2.72-2.72a.75.75 0 0 0-1.06-1.06L8 6.94 5.28 4.22Z"}))}const p1=w.forwardRef(_5);function v5({cartItemUnit:i,index:e,productIndex:t}){const{action:s,updateUnit:o}=va(),u={quantityBox:"flex flex-shrink-0 ml-auto border-[#e1e1e1] border justify-between overflow-hidden items-center rounded-[99px] bg-[#fff]",button:"border-[#e1e1e1] p-1 justify-center"};return g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("p",{className:"text-[#333]",children:[i.unit_name," (x",i.conversion_quantity,"):"]}),g.jsxs("div",{className:u.quantityBox,children:[g.jsx("button",{onClick:()=>s({type:"decrease",productIndex:t,unitIndex:e}),className:`${u.button} border-r `,children:g.jsx(g5,{className:"w-6"})}),g.jsx("input",{value:i.quantity.toString(),onChange:h=>isNaN(+h.target.value)?{}:o({productIndex:t,unitIndex:e,unit:{quantity:+h.target.value}}),className:"outline-none w-[40px] text-center text-[#3f3f3f] font-bold"}),g.jsx("button",{onClick:()=>s({type:"increase",productIndex:t,unitIndex:e}),className:`${u.button} border-l`,children:g.jsx(Xu,{className:"w-6"})})]})]})}function E5({cartItem:i,index:e}){const{updateCartItem:t,remove:s}=va(),{payMethod:o}=bs(),[u,h]=w.useState("");return w.useEffect(()=>{const d=i.units.reduce((y,v)=>y+v.quantity*(o==="tien-mat"?v.price:i.debt_price*v.conversion_quantity),0),m=i.units.reduce((y,v)=>y+v.quantity*v.conversion_quantity,0);m>i.stock?h("Out of stock"):h(""),t({index:e,product:{total:d,total_quantity:m}})},[i.units,o]),g.jsxs("div",{className:"flex",children:[g.jsx("img",{style:{height:70,width:70,marginBottom:"auto"},src:i.image_url?i.image_url:Vo}),g.jsxs("div",{className:"pl-2 flex-grow",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("p",{className:"text-lg",children:[i.product_name," "," ",g.jsxs("span",{className:"text-[#888] text-sm",children:["(stock: ",i.stock,")"]})]}),g.jsx(Ce,{onClick:()=>s(e),size:"clear",className:"ml-auto p-2",children:g.jsx(zp,{className:"w-6"})})]}),u&&g.jsx("p",{className:"text-[14px] mt-1 text-white p-2 bg-red-500 rounded-md",children:u}),g.jsx("div",{className:"mt-3 space-y-2",children:i.units.map((d,m)=>g.jsx(v5,{index:m,productIndex:e,cartItemUnit:d},m))}),g.jsxs("div",{className:"mt-3 ml-auto text-right",children:[g.jsxs("p",{className:" text-[#333]",children:["Total:",i.total_quantity]}),g.jsxs("p",{className:"",children:["Price:",g.jsxs("span",{className:"text-red-500",children:[" ",Xe(i.total)]})]})]})]})]})}function g1({customer:i,onClick:e,className:t=""}){return g.jsx(We,{onClick:e,className:`flex-row ${t}`,children:g.jsxs("div",{className:"ml-2",children:[g.jsx("p",{className:"text-lg",children:i.customer_name}),g.jsx("div",{className:"mt-1",children:!!i.phone_number&&g.jsx("p",{className:"text-[#3f3f3f]",children:i.phone_number})})]})})}function y1({value:i,setValue:e}){return g.jsxs(We,{colors:"second",className:"flex gap-2 justify-between items-center",children:[g.jsx(ln,{value:i,onChange:t=>e(t.target.value),placeholder:"..."}),g.jsx(Ce,{onClick:()=>i?e(""):{},size:"clear",className:"p-2 flex-shrink-0",children:i?g.jsx(TT,{className:"w-6"}):g.jsx(_T,{className:"w-6"})})]})}function T5(){const[i,e]=w.useState([]),[t,s]=w.useState(),o=w.useRef(!0);return{customers:i,setCustomers:e,currentCustomerData:t,shouldFetchCustomer:o,setCurrentCustomerData:s}}const _1=w.createContext(null);function w5({children:i}){return g.jsx(_1.Provider,{value:T5(),children:i})}const Ns=()=>{const i=w.useContext(_1);if(!i)throw new Error("Customer context is not provided");return i};function b5(){const[i,e]=w.useState(!1),{customers:t,setCustomers:s}=Ns();return{isFetching:i,action:async u=>{try{switch(e(!0),u.type){case"add":{const d={id:await Yu({collection:l1,data:u.data}),...u.data};return s(m=>[d,...m]),e(!1),d}case"edit":{await Nu({collection:"Customers",data:u.data,id:t[u.index].id});const h=[...t];Object.assign(t[u.index],u.data),s(h),e(!1);break}case"delete":{await h1({collection:"Customers",id:t[u.index].id});const h=[...t];h.splice(u.index,1),s(h),e(!1);break}}}catch(h){throw e(!1),h}}}}const v1=i=>(t=>t.toLocaleLowerCase().replace(/||||||||||||||||/g,"a").replace(/||||||||||/g,"e").replace(/||||/g,"i").replace(/||||||||||||||||/g,"o").replace(/||||||||||/g,"u").replace(/||||/g,"y").replace(//g,"d"))(i).replaceAll(/[\W_]/g,"-"),YE=i=>({units:[],image_path:"",image_url:"",product_name:"",product_name_ascii:"",stock:0,debt_price:0,stock_price:0,barcode:"",created_at:Qu(),...i}),XE=i=>({address:"",customer_name:"",phone_number:"",total_buy:0,total_debt:0,created_at:Qu(),...i}),Ds=i=>new Date(i.toDate().getTime()).toLocaleString();function Wu({closeModal:i,title:e}){return g.jsxs("div",{className:"flex justify-between mb-5",children:[g.jsx("p",{className:"text-xl font-[500]",children:e}),g.jsx(Ce,{color:"second",size:"clear",className:"p-1",onClick:i,children:g.jsx(p1,{className:"w-6"})})]})}const A5=i=>{if(i.type==="edit"){const{id:e,...t}=i.customer;return XE(t)}return XE({user_email:i.userEmail,customer_name:i.customerName})},x5=/(0[3|5|7|8|9])+([0-9]{8})\b/g;function S5({closeModal:i,afterSubmit:e,...t}){const[s,o]=w.useState(A5(t)),[u,h]=w.useState(!0),{action:d,isFetching:m}=b5(),y=s.customer_name&&u,v=(k,$)=>{o({...s,[k]:$.trim()})},A=async()=>{try{switch(t.type){case"add":const k=await d({type:"add",data:s});k&&e&&e(k);break;case"edit":await d({type:"edit",data:s,index:t.index});break}}catch(k){console.log(k)}finally{i()}},x={inputGroup:"gap-1",input:"p-2 bg-[#f1f1f1] border border-black/20 rounded-lg",label:"text-[#3f3f3f] text-lg"};w.useEffect(()=>{if(s.phone_number){const k=x5.test(s.phone_number);h(k)}else h(!0)},[s.phone_number]);const C=t.type==="edit"?`Edit '${t.customer.customer_name}'`:"Add customer";return g.jsxs(g.Fragment,{children:[g.jsx(Wu,{closeModal:i,title:C}),g.jsxs("div",{className:"space-y-3 pb-[40%] overflow-auto",children:[g.jsxs("div",{className:x.inputGroup,children:[g.jsx("label",{className:x.label,children:"Customer name:"}),g.jsx(ln,{value:s.customer_name,onChange:k=>v("customer_name",k.target.value),placeholder:"Enter name...",className:x.input})]}),g.jsxs("div",{className:x.inputGroup,children:[g.jsx("p",{className:`${x.label} ${u?"":"text-red-500"}`,children:"Phone number:"}),g.jsx(ln,{value:s.phone_number,onChange:k=>v("phone_number",k.target.value),className:x.input})]}),g.jsxs("div",{className:x.inputGroup,children:[g.jsx("p",{className:x.label,children:"Address:"}),g.jsx(ln,{value:s.address,onChange:k=>v("address",k.target.value),className:x.input})]})]}),g.jsx("div",{className:"text-center mt-5",children:g.jsxs(Ce,{disabled:!y,loading:m,onClick:()=>y&&A(),children:[g.jsx(Pf,{className:"w-6"}),g.jsx("p",{className:"text-white",children:"Ok"})]})})]})}function E1(){const{customers:i,setCustomers:e,shouldFetchCustomer:t}=Ns(),{user:s}=oi(),[o,u]=w.useState(!0);return{api:async()=>{if(s)try{const d=$o(l1,Ko("user_email","==",s.email)),m=await Qo(d);if(m.docs){const y=m.docs.map(v=>({...v.data(),id:v.id}));e(y)}}catch(d){console.log(d)}finally{u(!1)}},isFetching:o,setIsFetching:u,customers:i,shouldFetchCustomer:t,user:s}}function T1(i,e){const[t,s]=w.useState(i);return w.useEffect(()=>{if(!i.trim()){s("");return}const o=setTimeout(()=>{s(i)},e);return()=>{clearTimeout(o)}},[i,e]),t}function w1(){const{customers:i,setCurrentCustomerData:e}=Ns(),[t,s]=w.useState(""),o=T1(t,800),u=w.useMemo(()=>o?i.filter(h=>h.customer_name.includes(o)):i,[o,i]);return{value:t,setValue:s,_customers:u,setCurrentCustomerData:e}}function R5({closeModal:i}){const{setCustomer:e}=bs(),t=w.useRef(null),s=()=>{var C;return(C=t.current)==null?void 0:C.close()},{_customers:o,...u}=w1(),{shouldFetchCustomer:h,api:d,isFetching:m,setIsFetching:y,user:v}=E1(),A=C=>{e(C),i()},x=C=>{A(C),s()};if(w.useEffect(()=>{h.current?(h.current=!1,d()):y(!1)},[]),!!v)return g.jsxs(g.Fragment,{children:[g.jsx(y1,{...u}),g.jsxs("div",{className:"h-[40vh] mt-3 space-y-1.5 overflow-auto",children:[m&&g.jsx(ki,{}),!m&&g.jsx(g.Fragment,{children:o.length?o.map((C,k)=>g.jsx(g1,{onClick:()=>A(C),customer:C},k)):g.jsx(vn,{})})]}),g.jsx("p",{className:"text-center",children:g.jsxs(Ce,{onClick:()=>{var C;return(C=t.current)==null?void 0:C.open()},children:[g.jsx(Xu,{className:"w-6"}),g.jsx("span",{children:"Add new customer"})]})}),g.jsx(ws,{ref:t,children:g.jsx(S5,{type:"add",userEmail:v.email,afterSubmit:x,closeModal:s,customerName:u.value})})]})}function C5(){const{customer:i}=bs(),e=w.useRef(null),t=()=>{var s;return(s=e.current)==null?void 0:s.close()};return g.jsxs(g.Fragment,{children:[!i&&g.jsx(We,{onClick:()=>{var s;return(s=e.current)==null?void 0:s.open()},children:g.jsx("p",{className:"text-center w-full",children:g.jsx(Xu,{className:"w-6"})})}),i&&g.jsx(g1,{onClick:()=>{var s;return(s=e.current)==null?void 0:s.open()},customer:i}),g.jsx(ws,{ref:e,children:g.jsx(R5,{closeModal:t})})]})}function fn({className:i="",title:e}){return g.jsx("div",{className:`text-3xl text-xanh-500 pb-2 ${i}`,children:e})}function I5(){const{cartItems:i}=va(),{payMethod:e,setPayMethod:t,setAbleToSubmit:s,ableToSubmit:o,customer:u}=bs(),{checkout:h}=c5();return w.useEffect(()=>{const m=!!i.length&&!i.find(y=>y.stock<y.total_quantity||y.total<=0)&&!!u;s(m)},[i,u]),g.jsxs(g.Fragment,{children:[g.jsx(fn,{title:"Cart"}),g.jsxs("div",{className:"space-y-4 flex-1 pb-[80px] overflow-auto",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx(_n,{title:"Products",icon:g.jsx(Po,{className:"w-6"})}),g.jsx(We,{className:"space-y-4",children:i.length?i.map((d,m)=>g.jsx(E5,{index:m,cartItem:d},m)):g.jsx(vn,{})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx(_n,{title:"Customer",icon:g.jsx(Bp,{className:"w-7"})}),g.jsx(C5,{})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx(_n,{title:"Payment",icon:g.jsx(XS,{className:"w-6 text-xanh-500"})}),g.jsxs(We,{className:"space-x-2",children:[g.jsx(Ce,{color:"second",active:e==="no",onClick:()=>t("no"),children:"No"}),g.jsx(Ce,{color:"second",active:e==="tien-mat",onClick:()=>t("tien-mat"),children:"Tien mat"})]})]})]}),g.jsx("div",{className:"fixed bg-white bottom-0 left-0 right-0 border-t border-black/10 py-2 md:p-[16px]",children:g.jsxs("div",{className:"container max-w-[800px] flex justify-between",children:[g.jsxs(Ce,{href:"/",children:[g.jsx(Vf,{className:"w-6"}),g.jsx("span",{children:"Home"})]}),g.jsxs(Ce,{disabled:!o,onClick:h,children:[g.jsx("span",{children:"Checkout"}),g.jsx(m1,{className:"w-6"})]})]})})]})}function Fg({invoiceItem:i}){return g.jsxs("div",{className:"border-b border-b-black/10 pb-1.5 last:border-none",children:[g.jsx("p",{className:"text-lg font-[500]",children:i.product_name}),g.jsxs("div",{className:"flex",children:[g.jsxs("p",{className:"text-[#888]",children:[i.quantity," x ",g.jsx("br",{}),g.jsx("span",{className:"",children:Xe(i.price)})]}),g.jsx("p",{className:"ml-auto text-[#888]",children:Xe(i.quantity*i.price)})]})]})}function N5(){const[i,e]=w.useState([]),[t,s]=w.useState(),o=w.useRef(!0),[u,h]=w.useState([]);return{products:i,setProducts:e,currentProductData:t,setCurrentProductData:s,shouldFetchData:o,result:u,serResult:h,action:m=>{switch(m.type){case"edit":const y=[...i];Object.assign(y[m.index],m.product),e(y);break}}}}const b1=w.createContext(null);function D5({children:i}){return g.jsx(b1.Provider,{value:N5(),children:i})}const Os=()=>{const i=w.useContext(b1);if(!i)throw new Error("ProductsProvider is not provided");return i};function O5(){const[i,e]=w.useState(!1),{invoice:t,totalInvoicePrice:s,newInvoiceId:o,customer:u}=bs(),{shouldFetchCustomer:h}=Ns(),{shouldFetchData:d}=Os(),m=Oi();return{isFetching:i,placeOrder:async()=>{if(!(!t||!u))try{e(!0);const v=await Yu({collection:zg,data:t});o.current=v;const A=i1(hn),x=Es(hn,"Customers",u.id);A.update(x,{total_buy:pu(s)}),t.payment==="no"&&A.update(x,{total_debt:pu(s)}),t.items.forEach(C=>{const k=Es(hn,"Products",C.product_id);A.update(k,{stock:pu(-C.quantity)})}),await A.commit(),d.current=!0,h.current=!0,m("/finished")}catch(v){console.log(v)}finally{e(!1)}}}}function k5(){const{invoice:i,customer:e,totalInvoicePrice:t}=bs(),{placeOrder:s,isFetching:o}=O5();if(!i||!e)return g.jsx(vn,{children:"Something went wrong, \\_()_/"});const u={label:"text-[#888] text-[16px]"};return g.jsxs(g.Fragment,{children:[g.jsx(fn,{title:"Checkout"}),g.jsxs("div",{className:"flex-1 space-y-4 pb-[80px] overflow-auto",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx(_n,{title:"Info",icon:g.jsx(Mo,{className:"w-6"})}),g.jsx(We,{children:g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"",children:[g.jsx("p",{className:u.label,children:"Customer:"}),g.jsx("p",{className:"text-3xl",children:e.customer_name})]}),g.jsxs("div",{className:"",children:[g.jsx("p",{className:u.label,children:"Payment"}),g.jsx("p",{className:"text-[18px]",children:i.payment==="no"?"No":"Tien mat"})]})]})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx(_n,{title:"Products",icon:g.jsx(Po,{className:"w-6"})}),g.jsxs(We,{children:[g.jsx("div",{className:"gap-1",children:i.items.map((h,d)=>g.jsx(Fg,{invoiceItem:h},d))}),g.jsxs("div",{className:"mt-5",children:[g.jsx("p",{children:"Total:"}),g.jsx("p",{children:Xe(t)})]})]})]})]}),g.jsx("div",{className:"fixed bg-white bottom-0 left-0 right-0 border-t border-black/10 py-2 md:p-[16px]",children:g.jsxs("div",{className:"container max-w-[800px] flex justify-between",children:[g.jsxs(Ce,{href:"/cart",children:[g.jsx(Vf,{className:"w-6"}),g.jsx("span",{children:"Cart"})]}),g.jsx(Ce,{loading:o,onClick:s,children:g.jsx("span",{children:"Place order"})})]})})]})}function Aa(){return g.jsxs("div",{className:"my-auto text-center",children:[g.jsx(vn,{}),g.jsx(Ce,{className:"mt-5",href:"/",children:"Go Home"})]})}function qg(){const[i,e]=w.useState(!1),t="ontouchstart"in window;return{print:async o=>{try{e(!0);const h=await fetch("https://hd-mobile-backend-ts.vercel.app/api/pdf",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:o,option:t?{margin:{left:120,right:120}}:{}})});if(h.ok){const m=(await h.json()).data,y=new Uint8Array(atob(m).split("").map(x=>x.charCodeAt(0))),v=new Blob([y],{type:"application/pdf"}),A=URL.createObjectURL(v);window.open(A,t?"_self":"_blank")}}catch(u){alert(u.message)}finally{e(!1)}},isPrinting:i,isOnMobile:t}}function Hg(i,e){const t=Ds(i.created_at);return`
<html>
  <body>
  <style>

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  ${e?"font-size: 80%;":""}
  font-family: Arial, sans-serif;
}

body {
  // height: 595px;
  // width: 420px;
  // margin: auto;
  ${e?"padding: 3rem 4rem":"padding: 3rem"}
}

table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 2rem;
}
table th,
table td {
  padding: 0.5rem;
  border: 1px solid #000;
  font-size: 1.2rem;
}
table th {
  text-transform: uppercase;
  background-color: #e1e1e1;
}

  </style>
      <h3>Ngy mua: ${t}</h3>
      <h3>Khch hng: ${i.customer_name}</h3>
      <h3>Thanh ton: ${i.payment==="tien-mat"?"Tin mt":"N"}</h1>
      <table>
         <thead>
            <tr>
               <th style="text-align: center;">STT</th>
               <th>Sn phm</th>
               <th>n v</th>
               <th>SL</th>
               <th>Gi</th>
               <th style="text-align: right;">Thnh tin</th>
            </tr>
         </thead>

         <tbody>
            ${i.items.reduce((s,o,u)=>s+`
                <tr>
                   <td style="text-align: center;">${u+1}</td>
                   <td>${o.product_name}</td>
                   <td>${o.unit_name}</td>
                   <td>${o.quantity}</td>
                   <td>${Xe(o.price)}</td>
                   <td style="text-align: right">${Xe(o.price*o.quantity)}</td>
                </tr>
                `,"")}

            <tr style="font-weight: 500;">
              <td colspan="5">Tng cng:</td>
              <td style="text-align: right; font-weight: 500;">${Xe(i.total_price)}</td>
            </tr>
         </tbody>
      </table>
  </body>
</html>
  `}function j5(){const{newInvoiceId:i,resetCheckout:e}=bs(),{resetCart:t}=va(),{print:s,isPrinting:o,isOnMobile:u}=qg(),h=async()=>{if(!i.current)return;const m=(await f1({collection:"Invoices",id:i.current})).data();s(Hg(m,u))};return w.useEffect(()=>{e(),t()},[]),i.current?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"m-auto",children:[g.jsx("img",{className:"w-[140px] h-[140px] mx-auto",src:"https://zalo-api.zadn.vn/api/emoticon/sticker/webpc?eid=46985&size=130",alt:""}),g.jsx("p",{className:"text-center mt-3 text-xl font-[500]",children:"Xong ri  fen!"})]}),g.jsx("div",{className:"fixed bg-white bottom-0 left-0 right-0 border-t border-black/10 py-2 md:p-[16px]",children:g.jsxs("div",{className:"container max-w-[800px] flex justify-between",children:[g.jsxs(Ce,{href:"/",children:[g.jsx(yT,{className:"w-6"}),g.jsx("span",{children:"Ct"})]}),g.jsxs(Ce,{loading:o,onClick:h,children:[g.jsx("span",{children:"Print"}),g.jsx(hf,{className:"w-6"})]})]})})]}):g.jsx(Aa,{})}function A1({count:i,href:e}){const t={bubble:`absolute text-center bg-[#cee9b6] 
      -top-[16px] -left-[16px] rounded-full w-[32px] h-[32px]`};if(i)return g.jsxs(Ce,{href:e,size:"clear",className:"p-2 !absolute right-[10px] !space-x-0  bottom-5",children:[g.jsx(Po,{className:"w-6"}),g.jsx("div",{className:t.bubble,children:g.jsx("span",{className:"text-xl font-bold text-[#5a9e87] leading-[32px]",children:i})})]})}function x1({product:i,selected:e}){return g.jsxs("div",{className:"flex",children:[g.jsx("img",{className:"w-[70px] h-[70px]",src:i.image_url?i.image_url:Vo}),g.jsxs("div",{className:"ml-2",children:[g.jsx("p",{className:`text-[18px] break-all  ${e?"text-xanh-500":"text-[#1f1f1f]"}`,children:i.product_name}),g.jsxs("p",{className:"text-sm text-[#888]",children:["Stock: ",i.stock]})]}),g.jsx("div",{className:"ml-auto flex-shrink-0 gap-1",children:i.units.map((t,s)=>g.jsxs("div",{children:[g.jsxs("p",{className:"text-[#888]",children:[t.unit_name,":"]}),g.jsx("p",{className:"text-red-500",children:Xe(t.price)})]},s))})]})}function Gg({value:i,setValue:e}){return g.jsxs(We,{colors:"second",className:"flex gap-2 justify-between",children:[g.jsx(ln,{value:i,onChange:t=>e(t.target.value),placeholder:"...",className:"flex-grow"}),g.jsx(Ce,{onClick:()=>i?e(""):{},size:"clear",className:"p-1.5",children:i?g.jsx(TT,{className:"w-6"}):g.jsx(_T,{className:"w-6"})})]})}function $g(){const{products:i,setProducts:e,shouldFetchData:t,setCurrentProductData:s}=Os(),{user:o}=oi(),[u,h]=w.useState(!0);return{api:async()=>{if(o)try{const m=$o(o1,Ko("user_email","==",o.email)),y=await Qo(m);if(y.docs){const v=y.docs.map(A=>({...A.data(),id:A.id}));e(v)}}catch(m){console.log(m)}finally{h(!1)}},isFetching:u,setIsFetching:h,setCurrentProductData:s,products:i,shouldFetchData:t}}function Kg(){const{products:i}=Os(),[e,t]=w.useState(""),s=T1(e,800),o=w.useMemo(()=>s?i.filter(u=>u.product_name_ascii.includes(v1(s))):i,[s,i]);return{value:e,setValue:t,_products:o}}function M5(){const{select:i,cartItems:e}=va(),{_products:t,...s}=Kg(),{api:o,isFetching:u,setIsFetching:h,shouldFetchData:d}=$g();return w.useEffect(()=>{d.current?(d.current=!1,o()):h(!1)},[]),g.jsxs(g.Fragment,{children:[g.jsx(fn,{title:"Home"}),g.jsx(A1,{count:e.length,href:"/cart"}),g.jsx(ai,{}),g.jsx(Gg,{...s}),u?g.jsx(ki,{}):g.jsx(g.Fragment,{children:t.length?g.jsx("div",{className:"mt-3 overflow-auto space-y-2.5 pb-20",children:t.map((m,y)=>{const v=e.find(A=>A.id===m.id);return g.jsx(We,{onClick:()=>i(m),children:g.jsx(x1,{product:m,selected:!!v})},y)})}):g.jsx(vn,{})})]})}function Qg(){const{user:i,justRegistered:e}=oi(),[t,s]=w.useState(!1);return{isFetching:t,action:async u=>{try{switch(s(!0),u.type){case"login":{await iI(zh,u.email,u.password);break}case"logout":{await aI(zh);break}case"register":{s(!0),e.current=!0,await nI(zh,u.email,u.password);break}}s(!1)}catch(h){throw h}finally{s(!1)}},user:i}}const Ht={container:"rounded-[24px] w-[90vw] md:flex-grow md:w-auto mx-auto my-auto md:mx-[100px] bg-white p-[20px] md:px-[30px] md:pt-[calc(40px+30px+10px)]",form:"flex flex-col md:flex-row justify-between",myChat:"text-xl leading-[40px] font-[500]",right:"space-y-[16px] mt-[20px] md:mt-0",inputGroup:"flex flex-col space-y-1",label:"text-[#333]",errorMessage:"bg-red-400 text-white font-[500] md:mr-[14px] p-1.5 mt-5 rounded-md inline-block"};function P5(){const{isFetching:i,action:e,user:t}=Qg(),[s,o]=w.useState(""),[u,h]=w.useState(""),[d,m]=w.useState(""),y=w.useRef(null),v=u&&s,A=async x=>{try{x.preventDefault(),m(""),await e({type:"login",email:s,password:u})}catch(C){C?(C==null?void 0:C.code)==="auth/invalid-credential"?m("Email or password is incorrect !"):m("Sign in fail"):m("No server response"),console.log({error:C})}};return t?g.jsx(Vp,{to:"/"}):g.jsx("div",{className:Ht.container,children:g.jsxs("form",{onSubmit:A,className:`${Ht.form} ${i?"opacity-60 pointer-events-none":""}`,children:[g.jsxs("div",{className:"mt-0 md:mt-[-50px] text-center md:text-left",children:[g.jsxs("h1",{className:Ht.myChat,children:["Argo ",g.jsx("span",{className:"text-xanh-500",children:"Store"})]}),g.jsx("h1",{className:"text-[26px] mt-[10px] text-[#333]",children:"Sign in"}),d&&g.jsx("p",{className:Ht.errorMessage,children:d})]}),g.jsxs("div",{className:Ht.right,children:[g.jsxs("div",{className:`${Ht.inputGroup} pt-[8px]`,children:[g.jsx("label",{className:Ht.label,htmlFor:"email",children:"Email"}),g.jsx(ln,{ref:y,value:s,onChange:x=>o(x.target.value),id:"email",type:"email"})]}),g.jsxs("div",{className:Ht.inputGroup,children:[g.jsx("label",{className:Ht.label,htmlFor:"password",children:"Password"}),g.jsx(ln,{value:u,onChange:x=>h(x.target.value),type:"text",id:"password",autoComplete:"off",required:!0})]}),g.jsxs("div",{className:"md:text-right",children:[g.jsx(Ce,{loading:i,disabled:!v,className:"w-full justify-center md:w-auto mt-5",type:"submit",children:"Login"}),g.jsxs("p",{className:"mt-5 text-[#333]",children:["Don't have an account jet ?,",g.jsx(ei,{className:"text-xanh-500 hover:underline ml-[4px]",to:"/signup",children:"Sign up"})]})]})]})]})})}function V5(){const{user:i}=oi(),{currentCustomerData:e,setCurrentCustomerData:t,shouldFetchCustomer:s}=Ns(),[o,u]=w.useState(!1),[h,d]=w.useState(0),m=Oi();return{isFetching:o,price:h,addReceipt:async()=>{try{if(!i||!(e!=null&&e.customer))return;u(!0);const{customer:v,index:A}=e,x={user_email:i.email,customer_id:v.id,price:h,created_at:Qu()};await Yu({collection:c1,data:x}),await Sk(Es(hn,"Customers",v.id),{total_debt:pu(-h)}),s.current=!0,t({index:A,customer:{...v,total_debt:v.total_debt-h}}),m(-1)}catch(v){console.log(v)}finally{u(!1)}},setPrice:d,currentCustomerData:e}}function L5(){const{addReceipt:i,isFetching:e,price:t,setPrice:s,currentCustomerData:o}=V5();if(!o)return g.jsx(Aa,{});const{customer:u}=o;return g.jsxs(g.Fragment,{children:[g.jsx(fn,{title:"Create receive"}),g.jsxs(We,{className:"space-y-2",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[#333]",children:"Customer:"}),g.jsx("p",{className:"text-3xl",children:u.customer_name})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[#333]",children:"Totoal debt:"}),g.jsx("button",{className:"text-lg text-red-500",onClick:()=>s(u.total_debt),children:Xe(u.total_debt)})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[#333]",children:"Price:"}),g.jsx(yu,{value:t,setValue:h=>isNaN(+h)?{}:s(+h)})]})]}),g.jsx("div",{className:"fixed bg-white bottom-0 left-0 right-0 border-t border-black/10 py-2 md:p-[16px]",children:g.jsx("div",{className:"container max-w-[800px] text-right",children:g.jsxs(Ce,{disabled:!t||t>u.total_debt,onClick:i,loading:e,children:[g.jsx("span",{children:"Ok"}),g.jsx(Pf,{className:"w-6"})]})})})]})}function U5(){const{api:i,isFetching:e,setIsFetching:t,shouldFetchCustomer:s}=E1(),{_customers:o,setCurrentCustomerData:u,...h}=w1(),d=Oi(),m=(y,v)=>{u({customer:y,index:v}),d(`/menu/customer/${y.id}`)};return w.useEffect(()=>{s.current?(s.current=!1,console.log("get customers"),i()):t(!1)},[]),g.jsxs(g.Fragment,{children:[g.jsx(fn,{title:"Customer"}),g.jsx(ai,{}),g.jsx(y1,{...h}),e?g.jsx(ki,{}):g.jsx(g.Fragment,{children:o.length?g.jsx("div",{className:"flex-grow mt-3 space-y-2.5 pb-20 overflow-auto",children:o.map((y,v)=>g.jsxs(We,{className:"flex",onClick:()=>m(y,v),children:[g.jsx("p",{className:"text-2xl font-500",children:y.customer_name}),g.jsxs("div",{className:"space-y-1 text-right ml-auto text-[#888]",children:[g.jsxs("p",{children:["Total buy: ",g.jsx("br",{}),g.jsx("span",{className:"text-lg text-green-500",children:Xe(y.total_buy)})]}),g.jsxs("p",{children:["Total debt: ",g.jsx("br",{}),g.jsx("span",{className:"text-lg text-red-500",children:Xe(y.total_debt)})]})]})]},v))}):g.jsx(vn,{})})]})}function z5(){const[i,e]=w.useState([]),[t,s]=w.useState(!0);return{getCustomerReceipts:async u=>{try{const h=$o(c1,Ko("customer_id","==",u),Mf("created_at","desc"),Jb(20)),d=await Qo(h);if(d.docs){const m=d.docs.map(y=>({...y.data(),id:y.id}));e(m)}}catch(h){console.log(h)}finally{s(!1)}},isFetching:t,setIsFetching:s,receipts:i}}function B5(){var o;const{currentCustomerData:i}=Ns(),{getCustomerReceipts:e,receipts:t,isFetching:s}=z5();return w.useEffect(()=>{i&&e(i.customer.id)},[]),g.jsx(g.Fragment,{children:g.jsxs("div",{className:"space-y-1.5",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx(_n,{className:"",icon:g.jsx(Mo,{className:"w-6"}),title:"Receipts"}),!!((o=i==null?void 0:i.customer)!=null&&o.total_debt)&&g.jsxs(Ce,{href:`/menu/customer/${i.customer.id}/create-receive`,children:[g.jsx(ET,{className:"w-6"}),g.jsx("span",{children:"Add receipt"})]})]}),g.jsx(We,{className:"space-y-1.5",children:s?g.jsx(ki,{}):g.jsx(g.Fragment,{children:t.length?t.map((u,h)=>g.jsxs("div",{className:"pb-1.5 border-b border-black/10 last:border-none",children:[g.jsx("p",{className:"text-[#333]",children:Ds(u.created_at)}),g.jsx("p",{className:"text-xl text-xanh-500",children:Xe(u.price)})]},h)):g.jsx(vn,{})})})]})})}function F5(){const[i,e]=w.useState(!0),[t,s]=w.useState([]);return{getCustomerInvoices:async u=>{try{const h=$o(zg,Ko("customer_id","==",u),Mf("created_at","desc"),Jb(20)),d=await Qo(h);if(d.docs){const m=d.docs.map(y=>({...y.data(),id:y.id}));s(m)}}catch(h){console.log(h)}finally{e(!1)}},isFetching:i,setIsFetching:e,invoices:t}}function q5({invoice:i,closeModal:e}){const{print:t,isPrinting:s,isOnMobile:o}=qg(),u=()=>{t(Hg(i,o))};return g.jsxs(g.Fragment,{children:[g.jsx(Wu,{title:"Invoice Detail",closeModal:e}),g.jsxs(We,{children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-[#888]",children:"Date:"}),g.jsx("p",{className:"text-lg",children:Ds(i.created_at)})]}),g.jsxs("div",{className:"space-y-1 mt-3",children:[g.jsx("p",{className:"text-[#888]",children:"Total:"}),g.jsx("p",{className:"text-3xl",children:Xe(i.total_price)})]})]}),g.jsx(We,{className:"space-y-1.5 mt-3 overflow-auto",children:i.items.map((h,d)=>g.jsx(Fg,{invoiceItem:h},d))}),g.jsx("p",{className:"text-center mt-3",children:g.jsxs(Ce,{loading:s,onClick:u,children:[g.jsx(hf,{className:"w-6"}),g.jsx("span",{children:"Print"})]})})]})}function H5({invoice:i}){const e=w.useRef(null),t=()=>{var s;return(s=e.current)==null?void 0:s.close()};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{onClick:()=>{var s;return(s=e.current)==null?void 0:s.open()},className:"flex justify-between items-center pb-1.5 border-b border-black/10 last:border-none",children:[g.jsxs("div",{className:"",children:[g.jsx("p",{className:"text-[#333]",children:Ds(i.created_at)}),g.jsx("p",{className:"text-xl text-xanh-500",children:Xe(i.total_price)})]}),g.jsx(Bg,{className:"w-6"})]}),g.jsx(ws,{ref:e,children:g.jsx(q5,{closeModal:t,invoice:i})})]})}function G5(){const{currentCustomerData:i}=Ns(),{getCustomerInvoices:e,invoices:t,isFetching:s}=F5();return w.useEffect(()=>{i&&e(i.customer.id)},[]),g.jsxs("div",{className:"space-y-1.5",children:[g.jsx(_n,{className:"",icon:g.jsx(Mo,{className:"w-6"}),title:"Invoices"}),g.jsx(We,{className:"space-y-1.5",children:s?g.jsx(ki,{}):g.jsx(g.Fragment,{children:t.length?t.map((o,u)=>g.jsx(H5,{invoice:o},u)):g.jsx(vn,{})})})]})}function $5(){const{currentCustomerData:i}=Ns();if(!i)return g.jsx(Aa,{});const{customer:e}=i,t={label:"text-[#888] text-[16px]"};return g.jsxs(g.Fragment,{children:[g.jsx(fn,{title:"Customer detail"}),g.jsx(ai,{}),g.jsx("div",{className:"overflow-auto pb-20",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx(_n,{className:"",icon:g.jsx(Bp,{className:"w-6"}),title:"User info"}),g.jsxs(We,{className:"space-y-2.5",children:[g.jsxs("div",{className:"",children:[g.jsx("p",{className:t.label,children:"Customer:"}),g.jsx("p",{className:"text-3xl font-[500]",children:e.customer_name})]}),g.jsxs("div",{className:"",children:[g.jsx("p",{className:t.label,children:"Phone number:"}),g.jsx("p",{className:"text-xl",children:e.phone_number})]}),g.jsxs("div",{className:"",children:[g.jsx("p",{className:t.label,children:"Total buy:"}),g.jsx("p",{className:"text-xl text-xanh-500",children:Xe(e.total_buy)})]}),g.jsxs("div",{className:"",children:[g.jsx("p",{className:t.label,children:"Total debt:"}),g.jsx("p",{className:"text-xl text-red-500",children:Xe(e.total_debt)})]})]})]}),g.jsx(B5,{}),g.jsx(G5,{})]})})]})}function K5(){const{user:i}=oi(),[e,t]=w.useState(!0),{setInvoices:s,invoices:o,...u}=pT();return{getInvoices:async()=>{try{if(!i)return;const d=$o(zg,Ko("user_email","==",i.email),Mf("created_at","desc")),m=await Qo(d);if(m.docs){const y=m.docs.map(v=>({...v.data(),id:v.id}));s(y)}}catch(d){console.log(d)}finally{t(!1)}},isFetching:e,setIsFetching:t,invoices:o,...u}}function Q5(){const{isFetching:i,invoices:e,setIsFetching:t,setCurrentInvoiceId:s,getInvoices:o,shouldFetchInvoice:u}=K5(),h=Oi(),d=m=>{s(m.id),h(`/menu/invoice/${m.id}`)};return w.useEffect(()=>{u.current?(u.current=!1,console.log("get invoices"),o()):t(!1)},[]),g.jsxs(g.Fragment,{children:[g.jsx(fn,{title:"Invoice"}),g.jsx(ai,{}),i?g.jsx(ki,{}):g.jsx(g.Fragment,{children:e.length?g.jsx("div",{className:"space-y-2 overflow-auto pb-20",children:e.map((m,y)=>g.jsxs(We,{onClick:()=>d(m),className:"mb-2 flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[#333]",children:Ds(m.created_at)}),g.jsx("p",{className:"text-xl",children:m.customer_name}),g.jsx("p",{className:`text-xl ${m.payment==="tien-mat"?"text-xanh-500":"text-red-500"} `,children:Xe(m.total_price)})]}),g.jsx(Bg,{className:"w-6"})]},y))}):g.jsx(vn,{className:"flex-1"})})]})}function Y5(){const{currentInvoiceData:i}=pT(),{isPrinting:e,print:t,isOnMobile:s}=qg(),o=()=>{i&&t(Hg(i.invoice,s))};if(!i)return g.jsx(Aa,{});const{invoice:u}=i;return g.jsxs(g.Fragment,{children:[g.jsx(fn,{title:"Invoice detail"}),g.jsx(ai,{}),g.jsx("div",{className:"overflow-auto pb-20",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"space-y-1.5",children:[g.jsx(_n,{icon:g.jsx(Mo,{className:"w-6"}),title:"Invoice info"}),g.jsxs(We,{className:"space-y-2.5",children:[g.jsxs("div",{className:"",children:[g.jsx("p",{className:"text-[#333]",children:"Customer:"}),g.jsx("p",{className:"text-2xl",children:u.customer_name})]}),g.jsxs("div",{className:"",children:[g.jsx("p",{className:"text-[#333]",children:"Date:"}),g.jsx("p",{className:"",children:Ds(u.created_at)})]}),g.jsxs("div",{className:"",children:[g.jsx("p",{className:"text-[#333]",children:"Payment:"}),g.jsx("p",{className:"",children:u.payment==="no"?"No":"Tien mat"})]}),g.jsxs("div",{className:"",children:[g.jsx("p",{className:"text-[#333]",children:"Total:"}),g.jsx("p",{className:"text-2xl",children:Xe(u.total_price)})]})]})]}),g.jsxs("div",{className:"space-y-1.5",children:[g.jsx(_n,{icon:g.jsx(Po,{className:"w-6"}),title:"Products"}),g.jsx(We,{className:"space-y-1.5",children:u.items.map((h,d)=>g.jsx(Fg,{invoiceItem:h},d))})]})]})}),g.jsx(Ce,{onClick:o,size:"clear",loading:e,className:"p-2 !absolute bottom-5 right-5",children:g.jsx(hf,{className:"w-6"})})]})}function X5(){const[i,e]=w.useState(!1),{setProducts:t,products:s,shouldFetchData:o}=Os();return{isFetching:i,action:async h=>{try{switch(e(!0),h.type){case"add":{const d=await Yu({collection:o1,data:h.product});t(m=>[{id:d,...h.product},...m]);break}case"edit":{await Nu({collection:"Products",data:h.product,id:h.id});const d=[...s];Object.assign(d[h.index],h.product),t(d),o.current=!0;break}}e(!1)}catch(d){throw d}finally{e(!1)}}}}const W5=i=>{switch(i.variant){case"add":return YE({user_email:i.email});case"edit":const{id:e,...t}=i.product;return YE(t)}};function S1({closeModal:i,...e}){const[t,s]=w.useState(()=>W5(e)),{action:o,isFetching:u}=X5(),h=!!t.product_name&&+t.stock_price>0&&+t.debt_price>0&&!!t.product_name_ascii,d=(v,A)=>{switch(v){case"stock_price":case"debt_price":return isNaN(+A)?A?void 0:s({...t,[v]:0}):s({...t,[v]:+A});case"product_name":return s({...t,product_name_ascii:v1(A),product_name:A})}s({...t,[v]:A})},m=async()=>{try{switch(e.variant){case"add":await o({type:"add",product:t});break;case"edit":if(e.variant!=="edit")return;await o({type:"edit",product:t,id:e.product.id,index:0});break}}catch(v){console.log({error:v})}},y={inputGroup:"gap-1",input:"p-2 bg-[#f1f1f1] border border-black/20 rounded-lg",label:"text-[#3f3f3f] text-lg"};return g.jsxs(g.Fragment,{children:[g.jsx(Wu,{title:"Add product",closeModal:i}),g.jsxs("div",{className:"space-y-3 overflow-auto pb-[50%]",children:[g.jsx("div",{className:"w-[160px] h-[160px] bg-[#f1f1f1] rounded-lg"}),g.jsxs("div",{className:y.inputGroup,children:[g.jsx("p",{className:y.label,children:"Name:"}),g.jsx(ln,{value:t.product_name,onChange:v=>d("product_name",v.target.value),placeholder:"Enter name...",className:y.input})]}),g.jsxs("div",{className:y.inputGroup,children:[g.jsx("label",{htmlFor:"price",className:y.label,children:"Stock price:"}),g.jsx(yu,{value:t.stock_price,setValue:v=>d("stock_price",v+"")})]}),g.jsxs("div",{className:y.inputGroup,children:[g.jsx("p",{className:y.label,children:"Debt price:"}),g.jsx(yu,{value:t.debt_price,setValue:v=>d("debt_price",v.toString())})]})]}),g.jsx("div",{className:"mt-3 text-center",children:g.jsxs(Ce,{disabled:!h,loading:u,onClick:m,children:[g.jsx(FS,{className:"w-6"}),g.jsx("p",{className:"text-white",children:"Save"})]})})]})}function Z5(){const{user:i}=oi(),e=w.useRef(null);return i?g.jsxs(g.Fragment,{children:[g.jsxs(Ce,{onClick:()=>{var t;return(t=e.current)==null?void 0:t.open()},size:"clear",className:"p-2 !absolute right-[10px]  bottom-5",children:[g.jsx(Xu,{className:"w-6"}),g.jsx("span",{children:"Add product"})]}),g.jsx(ws,{ref:e,children:g.jsx(S1,{variant:"add",email:i.email,closeModal:()=>{var t;return(t=e.current)==null?void 0:t.close()}})})]}):g.jsx(g.Fragment,{})}function J5(){const{_products:i,...e}=Kg(),{api:t,isFetching:s,setIsFetching:o,shouldFetchData:u,setCurrentProductData:h}=$g(),d=Oi(),m=(y,v)=>{h({product:y,index:v}),d(`/menu/product/${y.id}`)};return w.useEffect(()=>{u.current?(u.current=!1,t()):o(!1)},[]),g.jsxs(g.Fragment,{children:[g.jsx(fn,{title:"Product"}),g.jsx(ai,{}),g.jsx(Gg,{...e}),s?g.jsx(ki,{}):g.jsx(g.Fragment,{children:i.length?g.jsx("div",{className:"mt-5 overflow-auto space-y-2",children:i.map((y,v)=>g.jsxs("div",{className:"w-full flex cursor-pointer",onClick:()=>m(y,v),children:[g.jsx("img",{className:"w-[70px] h-[70px]",src:y.image_url?y.image_url:Vo}),g.jsx("p",{className:"text-lg ml-2 font-[500]",children:y.product_name})]},v))}):g.jsx(vn,{})}),g.jsx(Z5,{})]})}function ej(){const{currentProductData:i}=Os(),e=w.useRef(null),t=()=>{var o;return(o=e.current)==null?void 0:o.close()},s={inputGroup:"",value:"text-lg",label:"text-[#888]"};if(i)return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx(_n,{icon:g.jsx(Mo,{className:"w-6"}),title:"Info"}),g.jsxs(Ce,{onClick:()=>{var o;return(o=e.current)==null?void 0:o.open()},className:"p-1.5",size:"clear",children:[g.jsx(vT,{className:"w-6"}),g.jsx("p",{className:"text-white",children:"Edit"})]})]}),g.jsxs(We,{className:"space-y-2.5",children:[g.jsx("img",{style:{height:70,width:70},src:i.product.image_url?i.product.image_url:Vo}),g.jsxs("div",{className:s.inputGroup,children:[g.jsx("p",{className:s.label,children:"Name:"}),g.jsx("p",{className:s.value,children:i.product.product_name})]}),g.jsxs("div",{className:s.inputGroup,children:[g.jsx("p",{className:s.label,children:"Bar Code:"}),g.jsx("p",{className:s.value,children:i.product.barcode})]}),g.jsxs("div",{className:s.inputGroup,children:[g.jsx("p",{className:s.label,children:"Debt price:"}),g.jsx("p",{className:s.value,children:Xe(i.product.debt_price)})]}),g.jsxs("div",{className:s.inputGroup,children:[g.jsx("p",{className:s.label,children:"Stock price:"}),g.jsx("p",{className:s.value,children:Xe(i.product.stock_price)})]}),g.jsxs("div",{className:s.inputGroup,children:[g.jsx("p",{className:s.label,children:"Stock:"}),g.jsx("p",{className:s.value,children:i.product.stock})]})]}),g.jsx(ws,{ref:e,children:g.jsx(S1,{closeModal:t,variant:"edit",product:i.product})})]})}function R1(){const[i,e]=w.useState(!1),{resetCart:t}=va(),{currentProductData:s,action:o}=Os();return{isFetching:i,actions:async({...h})=>{if(s)try{switch(e(!0),t(),h.type){case"Add":const{unit:d}=h,{id:m,...y}=s.product,v=[...y.units,d];Object.assign(y,{units:v}),await Nu({collection:"Products",data:y,id:m}),o({type:"edit",product:{units:v},index:s.index});break;case"Edit":{const{unit:A,index:x}=h,C=[...s.product.units];Object.assign(C[x],A),await Nu({collection:"Products",id:s.product.id,data:{units:C}}),o({type:"edit",index:s.index,product:{units:C}});break}case"Delete":{const{index:A}=h,x=[...s.product.units];x.splice(A,1),await h1({collection:"Products",id:s.product.id}),o({type:"edit",index:s.index,product:{units:x}})}}}catch(d){throw d}finally{e(!1)}},currentProductData:s}}const WE=i=>({...{conversion_quantity:0,price:0,unit_name:"",...i},...i});function C1({product:i,...e}){const[t,s]=w.useState(e.variant==="edit"?WE(e.productUnit):WE({})),o=(i==null?void 0:i.units.length)===0,u=!!t.unit_name&&t.price>0&&t.conversion_quantity>0,h=(m,y)=>{switch(m){case"unit_name":s({...t,[m]:y});break;default:s({...t,[m]:+y})}};w.useEffect(()=>{i&&o&&h("conversion_quantity","1")},[]);const d={inputGroup:"gap-1",label:"text-[#3f3f3f] text-lg"};if(i)return g.jsxs(g.Fragment,{children:[g.jsx(Wu,{title:"Add unit",closeModal:e.closeModal}),g.jsxs("div",{className:"space-y-3 pb-[50%] overflow-auto",children:[g.jsxs("div",{className:d.inputGroup,children:[g.jsx("p",{className:d.label,children:"Name:"}),g.jsx(ln,{value:t.unit_name,onChange:m=>h("unit_name",m.target.value),placeholder:"Enter name..."})]}),g.jsxs("div",{className:d.inputGroup,children:[g.jsx("p",{className:d.label,children:"Conversion:"}),g.jsx(ln,{value:t.conversion_quantity?t.conversion_quantity.toString():"",readOnly:!!o,onChange:m=>isNaN(+m.target.value)?{}:h("conversion_quantity",m.target.value)})]}),g.jsxs("div",{className:d.inputGroup,children:[g.jsx("p",{className:d.label,children:"Price:"}),g.jsx(yu,{setValue:m=>h("price",m+""),value:t.price})]})]}),g.jsx("div",{className:"text-center mt-5",children:g.jsxs(Ce,{disabled:!u,loading:e.isFetching,onClick:()=>u&&e.submit(t),children:[g.jsx(Pf,{className:"w-6"}),g.jsx("p",{className:"text-white",children:"Ok"})]})})]})}function tj({loading:i,callback:e,title:t,close:s,desc:o="This action cannot be undone"}){return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"text-xl mb-3",children:g.jsx("p",{className:"text-xl font-semibold",children:t||"Wait a minute"})}),!!o&&g.jsx("p",{className:"font-semibold text-lg text-red-500",children:o}),g.jsxs("div",{className:"flex-row mt-5",children:[g.jsx(Ce,{onClick:s,color:"second",children:g.jsx("p",{className:"text-[#1f1f1f]",children:"Close"})}),g.jsx(Ce,{className:"ml-2",loading:i,onClick:e,children:g.jsx("p",{className:"text-white",children:"Yes, Please"})})]})]})}function nj({productUnit:i,index:e}){const[t,s]=w.useState(""),o=w.useRef(null),u=()=>{var x;return(x=o.current)==null?void 0:x.close()},h=x=>{var C;s(x),(C=o.current)==null||C.open()},{actions:d,isFetching:m,currentProductData:y}=R1(),v=async x=>{try{switch(x.type){case"edit":await d({type:"Edit",index:e,unit:x.unit});break;case"delete":await d({type:"Delete",index:e});break}s("")}catch(C){console.log(C)}},A=()=>{if(!y||!t)return g.jsx(vn,{});switch(t){case"edit":return g.jsx(C1,{variant:"edit",closeModal:u,isFetching:m,product:y.product,productUnit:i,submit:x=>v({type:"edit",unit:x})});case"delete":return g.jsx(tj,{callback:()=>v({type:"delete"}),close:u,loading:m})}};return g.jsxs("div",{className:"bg-gray-100 border border-black/10 p-2 rounded-md",children:[g.jsx("p",{className:"text-center font-[500] text-lg line-clamp-1",children:i.unit_name}),g.jsxs("div",{className:"gap-2 mt-3",children:[g.jsxs("p",{className:"text-md text-[#888] font-[500]",children:["x",i.conversion_quantity]}),g.jsx("p",{className:"text-md text-red-500 font-[500]",children:Xe(i.price)})]}),g.jsxs("div",{className:"flex gap-2 justify-center mt-5",children:[g.jsx(Ce,{onClick:()=>h("delete"),size:"clear",className:"p-1.5",children:g.jsx(zp,{className:"w-6"})}),g.jsx(Ce,{onClick:()=>h("edit"),size:"clear",className:"p-1.5",children:g.jsx(vT,{className:"w-6"})})]}),g.jsx(ws,{ref:o,children:A()})]})}function ij(){const{currentProductData:i,actions:e,isFetching:t}=R1(),s=w.useRef(null),o=()=>{var h;return(h=s.current)==null?void 0:h.close()},u=async h=>{await e({type:"Add",unit:h}),o()};if(i)return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx(_n,{icon:g.jsx(QS,{className:"w-6"}),title:"Unit"}),g.jsxs(Ce,{onClick:()=>{var h;return(h=s.current)==null?void 0:h.open()},size:"clear",className:"p-1.5",children:[g.jsx(Xu,{className:"w-6"}),g.jsx("span",{className:"text-white",children:"Add unit"})]})]}),g.jsx(We,{children:i.product.units.length?g.jsx("div",{className:"flex flex-wrap -mt-1 -mx-1",children:i.product.units.map((h,d)=>g.jsx("div",{className:"w-1/2 h-full px-1 mt-2",children:g.jsx(nj,{productUnit:h,index:d})},d))}):g.jsx("p",{className:"text-center",children:"\\_()_/"})}),g.jsx(ws,{ref:s,children:g.jsx(C1,{variant:"add",product:i.product,submit:u,isFetching:t,closeModal:o})})]})}function rj(){const{currentProductData:i}=Os();return i?g.jsxs(g.Fragment,{children:[g.jsx(fn,{title:"Product detail"}),g.jsx(ai,{}),g.jsxs("div",{className:"space-y-4 overflow-auto pb-20",children:[g.jsx(ej,{}),g.jsx(ij,{})]})]}):g.jsx(Aa,{})}function sj(){const{select:i,cartItems:e}=Lo(),{_products:t,...s}=Kg(),{api:o,isFetching:u,setIsFetching:h,shouldFetchData:d}=$g();return w.useEffect(()=>{d.current?(d.current=!1,o()):h(!1)},[]),g.jsxs(g.Fragment,{children:[g.jsx(fn,{title:"New receive"}),g.jsx(Gg,{...s}),g.jsx(ai,{}),g.jsx(A1,{count:e.length,href:"/menu/receive/cart"}),g.jsx(g.Fragment,{children:u?g.jsx(ki,{}):g.jsx(g.Fragment,{children:t.length?g.jsx("div",{className:"mt-5 overflow-auto space-y-2",children:t.map((m,y)=>{const v=e.find(A=>A.id===m.id);return g.jsx(We,{onClick:()=>i(m),children:g.jsx(x1,{product:m,selected:!!v})},y)})}):g.jsx(vn,{})})})]})}function aj({cartItem:i,index:e}){const{updateCartItem:t,remove:s}=Lo(),o={Label:" text-[#333]"};return g.jsxs("div",{className:"flex",children:[g.jsx("img",{style:{height:70,width:70,marginBottom:"auto"},src:i.image_url?i.image_url:Vo}),g.jsxs("div",{className:"space-y-2.5 flex-grow px-2",children:[g.jsxs("div",{className:"flex items-center justify-between flex-grow",children:[g.jsx("p",{className:"text-lg",children:i.product_name}),g.jsxs("p",{className:"text-sm text-gray-500",children:["(stock: ",i.stock,")"]}),g.jsx(Ce,{onClick:()=>s(e),size:"clear",className:"ml-auto p-2",children:g.jsx(zp,{className:"w-6"})})]}),g.jsxs("div",{className:"space-y-1 items-start",children:[g.jsx("p",{className:o.Label,children:"Quantity:"}),g.jsx(ln,{value:i.quantity?i.quantity.toString():"",placeholder:"0",onChange:u=>isNaN(+u.target.value)?{}:t({index:e,product:{quantity:+u.target.value}})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:o.Label,children:"Price:"}),g.jsx(yu,{value:i.price,setValue:u=>t({index:e,product:{price:+u}})})]}),g.jsxs("p",{className:"text-right mt-3 text-[#333]",children:["Total:",g.jsxs("span",{className:"text-[18px]",children:[" ",Xe(i.quantity*i.price)]})]})]})]})}function oj(){const{user:i}=oi(),{cartItems:e,setReceiving:t}=Lo(),s=Oi();return{checkout:async()=>{if(!i)return;const u=[];e.forEach(m=>{const y={product_name:m.product_name,product_image_url:m.image_url,product_id:m.id,quantity:m.quantity,price:m.price};u.push(y)});const h=u.reduce((m,y)=>m+y.price*y.quantity,0),d={user_email:i.email,items:u,total_price:+h.toFixed(1),created_at:Qu()};t(d),s("/menu/receive/checkout")}}}function lj(){const{cartItems:i}=Lo(),{checkout:e}=oj(),t=!i.find(s=>s.quantity<=0||s.price<=0);return g.jsxs(g.Fragment,{children:[g.jsx(fn,{title:"Receive cart"}),g.jsx("div",{className:"overflow-auto pb-[90px]",children:g.jsx("div",{className:"space-y-4",children:g.jsxs("div",{className:"space-y-1",children:[g.jsx(_n,{title:"Products",icon:g.jsx(Po,{className:"w-6"})}),g.jsx(We,{children:i.length?g.jsx("div",{className:"space-y-3",children:i.map((s,o)=>g.jsx(aj,{index:o,cartItem:s},o))}):g.jsx(vn,{less:!0})})]})})}),g.jsx("div",{className:"fixed bg-white bottom-0 left-0 right-0 border-t border-black/10 py-2 md:p-[16px]",children:g.jsxs("div",{className:"container max-w-[800px] flex justify-between",children:[g.jsxs(Ce,{href:"/menu/receive/add",children:[g.jsx(Vf,{className:"w-6"}),g.jsx("span",{children:"Back"})]}),g.jsxs(Ce,{disabled:!t,onClick:e,children:[g.jsx("span",{children:"Checkout"}),g.jsx(m1,{className:"w-6"})]})]})})]})}function I1({receivingItem:i}){return g.jsxs("div",{className:"border-b border-b-black/10 pb-1.5 last:border-none",children:[g.jsx("p",{className:"text-lg font-[500]",children:i.product_name}),g.jsxs("div",{className:"flex",children:[g.jsxs("p",{className:"text-[#888]",children:[i.quantity," x ",g.jsx("br",{}),g.jsx("span",{className:"",children:Xe(i.price)})]}),g.jsx("p",{className:"ml-auto text-[#888]",children:Xe(i.quantity*i.price)})]})]})}function uj(){const[i,e]=w.useState(!1),{receiving:t,resetSelect:s}=Lo(),{shouldFetchData:o}=Os(),u=Oi();return{isFetching:i,placeOrder:async()=>{if(t){console.log("run here");try{e(!0),await Yu({collection:u1,data:t});const d=i1(hn);t.items.forEach(m=>{const y=Es(hn,"Products",m.product_id);d.update(y,{stock:pu(m.quantity)})}),await d.commit(),s(),o.current=!0,u("/menu/receive")}catch(d){console.log(d)}finally{e(!1)}}}}}function cj(){const{receiving:i}=Lo(),{placeOrder:e,isFetching:t}=uj();return i?g.jsxs(g.Fragment,{children:[g.jsx(fn,{title:"Receive checkout"}),g.jsx("div",{className:"flex-1 pb-10 overflow-auto",children:g.jsxs("div",{className:"space-y-1",children:[g.jsx(_n,{title:"Products",icon:g.jsx(Po,{className:"w-6"})}),g.jsxs(We,{children:[g.jsx("div",{className:"spacey-1.5",children:i.items.map((s,o)=>g.jsx(I1,{receivingItem:s},o))}),g.jsxs("div",{className:"mt-5",children:[g.jsx("p",{children:"Total:"}),g.jsx("p",{className:"text-2xl font-[500]",children:Xe(i.total_price)})]})]})]})}),g.jsx("div",{className:"fixed bg-white bottom-0 left-0 right-0 border-t border-black/10 py-2 md:p-[16px]",children:g.jsxs("div",{className:"container max-w-[800px] flex justify-between",children:[g.jsxs(Ce,{href:"/menu/receive/cart",children:[g.jsx(Vf,{className:"w-6"}),g.jsx("span",{children:"Cart"})]}),g.jsx(Ce,{loading:t,onClick:e,children:g.jsx("span",{children:"Confirm"})})]})})]}):g.jsx(Aa,{})}function hj({receiving:i,closeModal:e}){return g.jsxs(g.Fragment,{children:[g.jsx(Wu,{title:"Receiving Detail",closeModal:e}),g.jsxs(We,{children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-[#888]",children:"Date:"}),g.jsx("p",{className:"text-lg",children:Ds(i.created_at)})]}),g.jsxs("div",{className:"space-y-1 mt-3",children:[g.jsx("p",{className:"text-[#888]",children:"Total:"}),g.jsx("p",{className:"text-3xl",children:Xe(i.total_price)})]})]}),g.jsx(We,{className:"space-y-1.5 mt-3 overflow-auto",children:i.items.map((t,s)=>g.jsx(I1,{receivingItem:t},s))}),g.jsx("p",{className:"text-center mt-3",children:g.jsxs(Ce,{children:[g.jsx(hf,{className:"w-6"}),g.jsx("span",{children:"Print"})]})})]})}function fj({receiving:i}){const e=w.useRef(null),t=()=>{var s;return(s=e.current)==null?void 0:s.close()};return g.jsxs(g.Fragment,{children:[g.jsxs(We,{onClick:()=>{var s;return(s=e.current)==null?void 0:s.open()},className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{children:Ds(i.created_at)}),g.jsx("p",{className:"text-lg text-xanh-500",children:Xe(i.total_price)})]}),g.jsx(Bg,{className:"w-6"})]}),g.jsx(ws,{ref:e,children:g.jsx(hj,{closeModal:t,receiving:i})})]})}function dj(){const{user:i}=oi(),[e,t]=w.useState(!0),{setReceives:s,receives:o,...u}=vR();return{getWarehouseEntries:async()=>{try{if(!i)return;const d=$o(u1,Ko("user_email","==",i.email),Mf("created_at","desc")),m=await Qo(d);if(m.docs){const y=m.docs.map(v=>({...v.data(),id:v.id}));s(y)}}catch(d){console.log(d)}finally{t(!1)}},isFetching:e,setIsFetching:t,receives:o,...u}}function mj(){const{isFetching:i,receives:e,shouldFetchWarehouseEntries:t,setIsFetching:s,getWarehouseEntries:o}=dj();return w.useEffect(()=>{t.current?(t.current=!1,console.log("get receives"),o()):s(!1)},[]),g.jsxs(g.Fragment,{children:[g.jsx(fn,{title:"Receive"}),g.jsx(ai,{}),g.jsx(Ce,{href:"/menu/receive/add",size:"clear",className:"!absolute p-2 bottom-7 right-5",children:g.jsx(ET,{className:"w-6"})}),i?g.jsx(ki,{}):g.jsx(g.Fragment,{children:e.length?g.jsx("div",{className:"space-y-2.5 overflow-auto pb-[20]",children:e.map((u,h)=>g.jsx(fj,{receiving:u},h))}):g.jsx(vn,{className:"flex-1"})})]})}function pj(){const{action:i}=Qg(),e=()=>{i({type:"logout"})};return g.jsxs(g.Fragment,{children:[g.jsx(fn,{title:"Setting"}),g.jsx(ai,{}),g.jsx("p",{className:"text-center mt-auto",children:g.jsxs(Ce,{onClick:e,children:[g.jsx(VS,{className:"w-6"}),g.jsx("span",{children:"Logout"})]})})]})}const gj=/^(?=.*[0-9])[a-zA-Z0-9!@#$%^&*]{6,16}$/;function ip({label:i,valid:e,value:t,htmlFor:s}){return g.jsxs("div",{className:"flex items-center space-x-1",children:[g.jsx("label",{htmlFor:s,className:"text-[#333] text-[16px]",children:i}),!!t&&g.jsx(g.Fragment,{children:e?g.jsx(Pf,{className:"w-6 text-xanh-500"}):g.jsx(p1,{className:"w-6 text-red-500"})})]})}function yj(){const{isFetching:i,action:e,user:t}=Qg(),[s,o]=w.useState(""),[u,h]=w.useState(""),[d,m]=w.useState(!1),[y,v]=w.useState(""),[A,x]=w.useState(!1),[C,k]=w.useState(""),$=w.useRef(null),U=d&&A,Q=async ee=>{try{ee.preventDefault(),k(""),await e({type:"register",email:s,password:u})}catch(J){J.code==="auth/email-already-in-use"?k("This email already registed !"):k("Register fail"),console.log({error:J})}};return w.useEffect(()=>{const ee=gj.test(u);m(ee);let J=u===y;u||(J=!1),x(J)},[u,y]),t?g.jsx(Vp,{to:"/"}):g.jsx("div",{className:Ht.container,children:g.jsxs("form",{onSubmit:Q,className:`${Ht.form} ${i?"opacity-60 pointer-events-none":""}`,children:[g.jsxs("div",{className:"mt-0 md:mt-[-50px] text-center md:text-left",children:[g.jsxs("h1",{className:Ht.myChat,children:["Argo ",g.jsx("span",{className:"text-xanh-500",children:"Store"})]}),g.jsx("h1",{className:"text-[26px] mt-[10px] text-[#333]",children:"Sign in"}),C&&g.jsx("p",{className:Ht.errorMessage,children:C})]}),g.jsxs("div",{className:Ht.right,children:[g.jsxs("div",{className:`${Ht.inputGroup} pt-[8px]`,children:[g.jsx(ip,{htmlFor:"email",value:s,label:"Email",valid:!0}),g.jsx(ln,{ref:$,value:s,onChange:ee=>o(ee.target.value),id:"email",type:"email"})]}),g.jsxs("div",{className:Ht.inputGroup,children:[g.jsx(ip,{valid:d,htmlFor:"password",value:u,label:"Password"}),g.jsx(ln,{value:u,onChange:ee=>h(ee.target.value),type:"text",id:"password",autoComplete:"off",required:!0})]}),g.jsxs("div",{className:Ht.inputGroup,children:[g.jsx(ip,{valid:A,htmlFor:"confirm-password",value:y,label:"Confirm password"}),g.jsx(ln,{value:y,onChange:ee=>v(ee.target.value),type:"text",id:"confirm-password",autoComplete:"off",required:!0})]}),g.jsxs("div",{className:"md:text-right",children:[g.jsx(Ce,{disabled:!U,className:"w-full justify-center md:w-auto mt-5",type:"submit",children:"Signup"}),g.jsxs("p",{className:"mt-5 text-[#333]",children:["Already have an account ?,",g.jsx(ei,{className:"text-xanh-500 hover:underline ml-[4px]",to:"/login",children:"Login"})]})]})]})]})})}const _j=[{path:"/login",component:P5,layout:f0},{path:"/signup",component:yj,layout:f0}],vj=[{path:"/",component:M5},{path:"/cart",component:I5},{path:"/checkout",component:k5},{path:"/finished",component:j5},{path:"/menu/setting",component:pj},{path:"/menu/product",component:J5},{path:"/menu/product/:id",component:rj},{path:"/menu/customer",component:U5},{path:"/menu/customer/:id",component:$5},{path:"/menu/customer/:id/create-receive",component:L5},{path:"/menu/invoice",component:Q5,layout:g0},{path:"/menu/invoice/:id",component:Y5,layout:g0},{path:"/menu/receive",component:mj,layout:Eh},{path:"/menu/receive/add",component:sj,layout:Eh},{path:"/menu/receive/cart",component:lj,layout:Eh},{path:"/menu/receive/checkout",component:cj,layout:Eh}];function Ej(){return g.jsx("div",{className:"fixed inset-0",children:g.jsx("div",{className:"container relative py-3 flex flex-col h-full max-w-[800px]",children:g.jsx(uT,{})})})}function Tj(){const{user:i,loading:e}=oi();return e?g.jsx(ki,{}):i?g.jsx(uT,{}):g.jsx(Vp,{to:"/login"})}function ZE({children:i}){return i}function wj(){return g.jsx(g.Fragment,{children:g.jsx(AS,{basename:"/",children:g.jsxs(eS,{children:[g.jsx(go,{path:"*",element:g.jsx(Aa,{})}),_j.map((i,e)=>{const t=i.component,s=i.layout||ZE;return g.jsx(go,{path:i.path,element:g.jsx(s,{children:g.jsx(t,{})})},e)}),g.jsx(go,{element:g.jsx(Ej,{}),children:g.jsx(go,{element:g.jsx(Tj,{}),children:vj.map((i,e)=>{const t=i.component,s=i.layout??ZE;return g.jsx(go,{path:i.path,element:g.jsx(s,{children:g.jsx(t,{})})},e)})})})]})})})}const bj=()=>{const[i,e]=w.useState([]);return{toasts:i,setErrorToast:o=>e(u=>[...u,{variant:"error",id:Date.now()+"",desc:o||"Somethings went wrong"}]),setSuccessToast:o=>e(u=>[...u,{variant:"success",id:Date.now()+"",desc:o||"Successful"}]),setToasts:e}},Aj=w.createContext(null);function xj({children:i}){return g.jsx(Aj.Provider,{value:bj(),children:i})}lx.createRoot(document.getElementById("root")).render(g.jsx(w.StrictMode,{children:g.jsx(D5,{children:g.jsx(w5,{children:g.jsx(xR,{children:g.jsx(bR,{children:g.jsx(xj,{children:g.jsx(u5,{children:g.jsx(wj,{})})})})})})})}));
