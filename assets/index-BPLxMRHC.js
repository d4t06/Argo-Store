(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var jm={exports:{}},Xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function XA(){if(Yv)return Xl;Yv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Xl.Fragment=e,Xl.jsx=t,Xl.jsxs=t,Xl}var Xv;function WA(){return Xv||(Xv=1,jm.exports=XA()),jm.exports}var y=WA(),Pm={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function ZA(){if(Wv)return xe;Wv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,$={};function U(M,ne,de){this.props=M,this.context=ne,this.refs=$,this.updater=de||C}U.prototype.isReactComponent={},U.prototype.setState=function(M,ne){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ne,"setState")},U.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Q(){}Q.prototype=U.prototype;function ee(M,ne,de){this.props=M,this.context=ne,this.refs=$,this.updater=de||C}var J=ee.prototype=new Q;J.constructor=ee,k(J,U.prototype),J.isPureReactComponent=!0;var he=Array.isArray,ue={H:null,A:null,T:null,S:null},Te=Object.prototype.hasOwnProperty;function j(M,ne,de,ae,oe,Re){return de=Re.ref,{$$typeof:i,type:M,key:ne,ref:de!==void 0?de:null,props:Re}}function I(M,ne){return j(M.type,ne,void 0,void 0,void 0,M.props)}function R(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function D(M){var ne={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(de){return ne[de]})}var V=/\/+/g;function F(M,ne){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):ne.toString(36)}function O(){}function wt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(O,O):(M.status="pending",M.then(function(ne){M.status==="pending"&&(M.status="fulfilled",M.value=ne)},function(ne){M.status==="pending"&&(M.status="rejected",M.reason=ne)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function pt(M,ne,de,ae,oe){var Re=typeof M;(Re==="undefined"||Re==="boolean")&&(M=null);var Se=!1;if(M===null)Se=!0;else switch(Re){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(M.$$typeof){case i:case e:Se=!0;break;case E:return Se=M._init,pt(Se(M._payload),ne,de,ae,oe)}}if(Se)return oe=oe(M),Se=ae===""?"."+F(M,0):ae,he(oe)?(de="",Se!=null&&(de=Se.replace(V,"$&/")+"/"),pt(oe,ne,de,"",function(ot){return ot})):oe!=null&&(R(oe)&&(oe=I(oe,de+(oe.key==null||M&&M.key===oe.key?"":(""+oe.key).replace(V,"$&/")+"/")+Se)),ne.push(oe)),1;Se=0;var gt=ae===""?".":ae+":";if(he(M))for(var ze=0;ze<M.length;ze++)ae=M[ze],Re=gt+F(ae,ze),Se+=pt(ae,ne,de,Re,oe);else if(ze=A(M),typeof ze=="function")for(M=ze.call(M),ze=0;!(ae=M.next()).done;)ae=ae.value,Re=gt+F(ae,ze++),Se+=pt(ae,ne,de,Re,oe);else if(Re==="object"){if(typeof M.then=="function")return pt(wt(M),ne,de,ae,oe);throw ne=String(M),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Se}function re(M,ne,de){if(M==null)return M;var ae=[],oe=0;return pt(M,ae,"","",function(Re){return ne.call(de,Re,oe++)}),ae}function _e(M){if(M._status===-1){var ne=M._result;ne=ne(),ne.then(function(de){(M._status===0||M._status===-1)&&(M._status=1,M._result=de)},function(de){(M._status===0||M._status===-1)&&(M._status=2,M._result=de)}),M._status===-1&&(M._status=0,M._result=ne)}if(M._status===1)return M._result.default;throw M._result}var pe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function He(){}return xe.Children={map:re,forEach:function(M,ne,de){re(M,function(){ne.apply(this,arguments)},de)},count:function(M){var ne=0;return re(M,function(){ne++}),ne},toArray:function(M){return re(M,function(ne){return ne})||[]},only:function(M){if(!R(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},xe.Component=U,xe.Fragment=t,xe.Profiler=o,xe.PureComponent=ee,xe.StrictMode=s,xe.Suspense=m,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,xe.act=function(){throw Error("act(...) is not supported in production builds of React.")},xe.cache=function(M){return function(){return M.apply(null,arguments)}},xe.cloneElement=function(M,ne,de){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=k({},M.props),oe=M.key,Re=void 0;if(ne!=null)for(Se in ne.ref!==void 0&&(Re=void 0),ne.key!==void 0&&(oe=""+ne.key),ne)!Te.call(ne,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ne.ref===void 0||(ae[Se]=ne[Se]);var Se=arguments.length-2;if(Se===1)ae.children=de;else if(1<Se){for(var gt=Array(Se),ze=0;ze<Se;ze++)gt[ze]=arguments[ze+2];ae.children=gt}return j(M.type,oe,void 0,void 0,Re,ae)},xe.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},xe.createElement=function(M,ne,de){var ae,oe={},Re=null;if(ne!=null)for(ae in ne.key!==void 0&&(Re=""+ne.key),ne)Te.call(ne,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(oe[ae]=ne[ae]);var Se=arguments.length-2;if(Se===1)oe.children=de;else if(1<Se){for(var gt=Array(Se),ze=0;ze<Se;ze++)gt[ze]=arguments[ze+2];oe.children=gt}if(M&&M.defaultProps)for(ae in Se=M.defaultProps,Se)oe[ae]===void 0&&(oe[ae]=Se[ae]);return j(M,Re,void 0,void 0,null,oe)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(M){return{$$typeof:d,render:M}},xe.isValidElement=R,xe.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:_e}},xe.memo=function(M,ne){return{$$typeof:g,type:M,compare:ne===void 0?null:ne}},xe.startTransition=function(M){var ne=ue.T,de={};ue.T=de;try{var ae=M(),oe=ue.S;oe!==null&&oe(de,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(He,pe)}catch(Re){pe(Re)}finally{ue.T=ne}},xe.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},xe.use=function(M){return ue.H.use(M)},xe.useActionState=function(M,ne,de){return ue.H.useActionState(M,ne,de)},xe.useCallback=function(M,ne){return ue.H.useCallback(M,ne)},xe.useContext=function(M){return ue.H.useContext(M)},xe.useDebugValue=function(){},xe.useDeferredValue=function(M,ne){return ue.H.useDeferredValue(M,ne)},xe.useEffect=function(M,ne){return ue.H.useEffect(M,ne)},xe.useId=function(){return ue.H.useId()},xe.useImperativeHandle=function(M,ne,de){return ue.H.useImperativeHandle(M,ne,de)},xe.useInsertionEffect=function(M,ne){return ue.H.useInsertionEffect(M,ne)},xe.useLayoutEffect=function(M,ne){return ue.H.useLayoutEffect(M,ne)},xe.useMemo=function(M,ne){return ue.H.useMemo(M,ne)},xe.useOptimistic=function(M,ne){return ue.H.useOptimistic(M,ne)},xe.useReducer=function(M,ne,de){return ue.H.useReducer(M,ne,de)},xe.useRef=function(M){return ue.H.useRef(M)},xe.useState=function(M){return ue.H.useState(M)},xe.useSyncExternalStore=function(M,ne,de){return ue.H.useSyncExternalStore(M,ne,de)},xe.useTransition=function(){return ue.H.useTransition()},xe.version="19.0.0",xe}var Zv;function Dp(){return Zv||(Zv=1,Pm.exports=ZA()),Pm.exports}var b=Dp(),Vm={exports:{}},Wl={},Lm={exports:{}},Um={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function JA(){return Jv||(Jv=1,function(i){function e(re,_e){var pe=re.length;re.push(_e);e:for(;0<pe;){var He=pe-1>>>1,M=re[He];if(0<o(M,_e))re[He]=_e,re[pe]=M,pe=He;else break e}}function t(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var _e=re[0],pe=re.pop();if(pe!==_e){re[0]=pe;e:for(var He=0,M=re.length,ne=M>>>1;He<ne;){var de=2*(He+1)-1,ae=re[de],oe=de+1,Re=re[oe];if(0>o(ae,pe))oe<M&&0>o(Re,ae)?(re[He]=Re,re[oe]=pe,He=oe):(re[He]=ae,re[de]=pe,He=de);else if(oe<M&&0>o(Re,pe))re[He]=Re,re[oe]=pe,He=oe;else break e}}return _e}function o(re,_e){var pe=re.sortIndex-_e.sortIndex;return pe!==0?pe:re.id-_e.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var m=[],g=[],E=1,S=null,A=3,C=!1,k=!1,$=!1,U=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function J(re){for(var _e=t(g);_e!==null;){if(_e.callback===null)s(g);else if(_e.startTime<=re)s(g),_e.sortIndex=_e.expirationTime,e(m,_e);else break;_e=t(g)}}function he(re){if($=!1,J(re),!k)if(t(m)!==null)k=!0,wt();else{var _e=t(g);_e!==null&&pt(he,_e.startTime-re)}}var ue=!1,Te=-1,j=5,I=-1;function R(){return!(i.unstable_now()-I<j)}function D(){if(ue){var re=i.unstable_now();I=re;var _e=!0;try{e:{k=!1,$&&($=!1,Q(Te),Te=-1),C=!0;var pe=A;try{t:{for(J(re),S=t(m);S!==null&&!(S.expirationTime>re&&R());){var He=S.callback;if(typeof He=="function"){S.callback=null,A=S.priorityLevel;var M=He(S.expirationTime<=re);if(re=i.unstable_now(),typeof M=="function"){S.callback=M,J(re),_e=!0;break t}S===t(m)&&s(m),J(re)}else s(m);S=t(m)}if(S!==null)_e=!0;else{var ne=t(g);ne!==null&&pt(he,ne.startTime-re),_e=!1}}break e}finally{S=null,A=pe,C=!1}_e=void 0}}finally{_e?V():ue=!1}}}var V;if(typeof ee=="function")V=function(){ee(D)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,O=F.port2;F.port1.onmessage=D,V=function(){O.postMessage(null)}}else V=function(){U(D,0)};function wt(){ue||(ue=!0,V())}function pt(re,_e){Te=U(function(){re(i.unstable_now())},_e)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(re){re.callback=null},i.unstable_continueExecution=function(){k||C||(k=!0,wt())},i.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<re?Math.floor(1e3/re):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_getFirstCallbackNode=function(){return t(m)},i.unstable_next=function(re){switch(A){case 1:case 2:case 3:var _e=3;break;default:_e=A}var pe=A;A=_e;try{return re()}finally{A=pe}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(re,_e){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var pe=A;A=re;try{return _e()}finally{A=pe}},i.unstable_scheduleCallback=function(re,_e,pe){var He=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?He+pe:He):pe=He,re){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=pe+M,re={id:E++,callback:_e,priorityLevel:re,startTime:pe,expirationTime:M,sortIndex:-1},pe>He?(re.sortIndex=pe,e(g,re),t(m)===null&&re===t(g)&&($?(Q(Te),Te=-1):$=!0,pt(he,pe-He))):(re.sortIndex=M,e(m,re),k||C||(k=!0,wt())),re},i.unstable_shouldYield=R,i.unstable_wrapCallback=function(re){var _e=A;return function(){var pe=A;A=_e;try{return re.apply(this,arguments)}finally{A=pe}}}}(Um)),Um}var e0;function eS(){return e0||(e0=1,Lm.exports=JA()),Lm.exports}var zm={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function tS(){if(t0)return Wt;t0=1;var i=Dp();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:m,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(m,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,E)},Wt.flushSync=function(m){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,m)return m()}finally{h.T=g,s.p=E,s.d.f()}},Wt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},Wt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Wt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var E=g.as,S=d(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:A,fetchPriority:C}):E==="script"&&s.d.X(m,{crossOrigin:S,integrity:A,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},Wt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=d(E,g.crossOrigin);s.d.L(m,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(m,g){if(typeof m=="string")if(g){var E=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},Wt.requestFormReset=function(m){s.d.r(m)},Wt.unstable_batchedUpdates=function(m,g){return m(g)},Wt.useFormState=function(m,g,E){return h.H.useFormState(m,g,E)},Wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Wt.version="19.0.0",Wt}var n0;function WE(){if(n0)return zm.exports;n0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),zm.exports=tS(),zm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function nS(){if(i0)return Wl;i0=1;var i=eS(),e=Dp(),t=WE();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),C=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),he=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function Te(n){return n===null||typeof n!="object"?null:(n=ue&&n[ue]||n["@@iterator"],typeof n=="function"?n:null)}var j=Symbol.for("react.client.reference");function I(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===j?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case m:return"Fragment";case d:return"Portal";case E:return"Profiler";case g:return"StrictMode";case $:return"Suspense";case U:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case C:return(n.displayName||"Context")+".Provider";case A:return(n._context.displayName||"Context")+".Consumer";case k:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Q:return r=n.displayName||null,r!==null?r:I(n.type)||"Memo";case ee:r=n._payload,n=n._init;try{return I(n(r))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,V,F;function O(n){if(V===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);V=r&&r[1]||"",F=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+n+F}var wt=!1;function pt(n,r){if(!n||wt)return"";wt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var H=K}Reflect.construct(n,[],te)}else{try{te.call()}catch(K){H=K}n.call(te.prototype)}}else{try{throw Error()}catch(K){H=K}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),T=p[0],w=p[1];if(T&&w){var N=T.split(`
`),L=w.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<L.length&&!L[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===L.length)for(l=N.length-1,f=L.length-1;1<=l&&0<=f&&N[l]!==L[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==L[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==L[f]){var Y=`
`+N[l].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=l&&0<=f);break}}}finally{wt=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?O(a):""}function re(n){switch(n.tag){case 26:case 27:case 5:return O(n.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return n=pt(n.type,!1),n;case 11:return n=pt(n.type.render,!1),n;case 1:return n=pt(n.type,!0),n;default:return""}}function _e(n){try{var r="";do r+=re(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function pe(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function He(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function M(n){if(pe(n)!==n)throw Error(s(188))}function ne(n){var r=n.alternate;if(!r){if(r=pe(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return M(f),n;if(p===l)return M(f),r;p=p.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=p;else{for(var T=!1,w=f.child;w;){if(w===a){T=!0,a=f,l=p;break}if(w===l){T=!0,l=f,a=p;break}w=w.sibling}if(!T){for(w=p.child;w;){if(w===a){T=!0,a=p,l=f;break}if(w===l){T=!0,l=p,a=f;break}w=w.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function de(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=de(n),r!==null)return r;n=n.sibling}return null}var ae=Array.isArray,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re={pending:!1,data:null,method:null,action:null},Se=[],gt=-1;function ze(n){return{current:n}}function ot(n){0>gt||(n.current=Se[gt],Se[gt]=null,gt--)}function Ke(n,r){gt++,Se[gt]=n.current,n.current=r}var nn=ze(null),Mi=ze(null),Cn=ze(null),vr=ze(null);function Er(n,r){switch(Ke(Cn,r),Ke(Mi,n),Ke(nn,null),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?Av(r):0;break;default:if(n=n===8?r.parentNode:r,r=n.tagName,n=n.namespaceURI)n=Av(n),r=Sv(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ot(nn),Ke(nn,r)}function ji(){ot(nn),ot(Mi),ot(Cn)}function Go(n){n.memoizedState!==null&&Ke(vr,n);var r=nn.current,a=Sv(r,n.type);r!==a&&(Ke(Mi,n),Ke(nn,a))}function wa(n){Mi.current===n&&(ot(nn),ot(Mi)),vr.current===n&&(ot(vr),Gl._currentValue=Re)}var ba=Object.prototype.hasOwnProperty,Is=i.unstable_scheduleCallback,Aa=i.unstable_cancelCallback,Vf=i.unstable_shouldYield,$o=i.unstable_requestPaint,cn=i.unstable_now,Gu=i.unstable_getCurrentPriorityLevel,bt=i.unstable_ImmediatePriority,kt=i.unstable_UserBlockingPriority,Pi=i.unstable_NormalPriority,$u=i.unstable_LowPriority,Ko=i.unstable_IdlePriority,Lf=i.log,Ns=i.unstable_setDisableYieldValue,Tr=null,Yt=null;function Qo(n){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Tr,n,void 0,(n.current.flags&128)===128)}catch{}}function ri(n){if(typeof Lf=="function"&&Ns(n),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(Tr,n)}catch{}}var rn=Math.clz32?Math.clz32:Qu,Yo=Math.log,Ku=Math.LN2;function Qu(n){return n>>>=0,n===0?32:31-(Yo(n)/Ku|0)|0}var si=128,wr=4194304;function Kn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function In(n,r){var a=n.pendingLanes;if(a===0)return 0;var l=0,f=n.suspendedLanes,p=n.pingedLanes,T=n.warmLanes;n=n.finishedLanes!==0;var w=a&134217727;return w!==0?(a=w&~f,a!==0?l=Kn(a):(p&=w,p!==0?l=Kn(p):n||(T=w&~T,T!==0&&(l=Kn(T))))):(w=a&~f,w!==0?l=Kn(w):p!==0?l=Kn(p):n||(T=a&~T,T!==0&&(l=Kn(T)))),l===0?0:r!==0&&r!==l&&(r&f)===0&&(f=l&-l,T=r&-r,f>=T||f===32&&(T&4194176)!==0)?r:l}function br(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Sa(n,r){switch(n){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xo(){var n=si;return si<<=1,(si&4194176)===0&&(si=128),n}function Ar(){var n=wr;return wr<<=1,(wr&62914560)===0&&(wr=4194304),n}function xa(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function ft(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Yu(n,r,a,l,f,p){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,N=n.expirationTimes,L=n.hiddenUpdates;for(a=T&~a;0<a;){var Y=31-rn(a),te=1<<Y;w[Y]=0,N[Y]=-1;var H=L[Y];if(H!==null)for(L[Y]=null,Y=0;Y<H.length;Y++){var K=H[Y];K!==null&&(K.lane&=-536870913)}a&=~te}l!==0&&Sr(n,l,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(T&~r))}function Sr(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-rn(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194218}function xr(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-rn(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function Xu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Wu(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:qv(n.type))}function Rr(n,r){var a=oe.p;try{return oe.p=n,r()}finally{oe.p=a}}var ai=Math.random().toString(36).slice(2),Mt="__reactFiber$"+ai,At="__reactProps$"+ai,Vi="__reactContainer$"+ai,Ds="__reactEvents$"+ai,Ra="__reactListeners$"+ai,oi="__reactHandles$"+ai,Wo="__reactResources$"+ai,Cr="__reactMarker$"+ai;function Os(n){delete n[Mt],delete n[At],delete n[Ds],delete n[Ra],delete n[oi]}function Qn(n){var r=n[Mt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Vi]||a[Mt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Cv(n);n!==null;){if(a=n[Mt])return a;n=Cv(n)}return r}n=a,a=n.parentNode}return null}function Li(n){if(n=n[Mt]||n[Vi]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Ir(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Nr(n){var r=n[Wo];return r||(r=n[Wo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function it(n){n[Cr]=!0}var Zo=new Set,Ca={};function _n(n,r){hn(n,r),hn(n+"Capture",r)}function hn(n,r){for(Ca[n]=r,n=0;n<r.length;n++)Zo.add(r[n])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jo={},el={};function Zu(n){return ba.call(el,n)?!0:ba.call(Jo,n)?!1:Uf.test(n)?el[n]=!0:(Jo[n]=!0,!1)}function Dr(n,r,a){if(Zu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Or(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Nn(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}function sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ju(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function zf(n){var r=Ju(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,p.call(this,T)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function ks(n){n._valueTracker||(n._valueTracker=zf(n))}function tl(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Ju(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Ia(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ui=/[\n"\\]/g;function lt(n){return n.replace(Ui,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function kr(n,r,a,l,f,p,T,w){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),r!=null?T==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+sn(r)):n.value!==""+sn(r)&&(n.value=""+sn(r)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),r!=null?Na(n,T,sn(r)):a!=null?Na(n,T,sn(a)):l!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+sn(w):n.removeAttribute("name")}function Ms(n,r,a,l,f,p,T,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),r!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;a=a!=null?""+sn(a):"",r=r!=null?""+sn(r):a,w||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function Na(n,r,a){r==="number"&&Ia(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Be(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+sn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function js(n,r,a){if(r!=null&&(r=""+sn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+sn(a):""}function Mr(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=sn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Dn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Bf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Bf.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function ec(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&nl(n,f,l)}else for(var p in r)r.hasOwnProperty(p)&&nl(n,p,r[p])}function il(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ff=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function li(n){return qf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var On=null;function Da(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var zi=null,Bi=null;function Fi(n){var r=Li(n);if(r&&(n=r.stateNode)){var a=n[At]||null;e:switch(n=r.stateNode,r.type){case"input":if(kr(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+lt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[At]||null;if(!f)throw Error(s(90));kr(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&tl(l)}break e;case"textarea":js(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Be(n,!!a.multiple,r,!1)}}}var rl=!1;function tc(n,r,a){if(rl)return n(r,a);rl=!0;try{var l=n(r);return l}finally{if(rl=!1,(zi!==null||Bi!==null)&&($c(),zi&&(r=zi,n=Bi,Bi=zi=null,Fi(r),n)))for(r=0;r<n.length;r++)Fi(n[r])}}function Ps(n,r){var a=n.stateNode;if(a===null)return null;var l=a[At]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var kn=!1;if(vn)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){kn=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{kn=!1}var ui=null,jr=null,qi=null;function sl(){if(qi)return qi;var n,r=jr,a=r.length,l,f="value"in ui?ui.value:ui.textContent,p=f.length;for(n=0;n<a&&r[n]===f[n];n++);var T=a-n;for(l=1;l<=T&&r[a-l]===f[p-l];l++);return qi=f.slice(n,1<l?1-l:void 0)}function ci(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function hi(){return!0}function al(){return!1}function jt(n){function r(a,l,f,p,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?hi:al,this.isPropagationStopped=al,this}return D(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),r}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=jt(Ge),Ls=D({},Ge,{view:0,detail:0}),nc=jt(Ls),ka,Ma,fi,Us=D({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==fi&&(fi&&n.type==="mousemove"?(ka=n.screenX-fi.screenX,Ma=n.screenY-fi.screenY):Ma=ka=0,fi=n),ka)},movementY:function(n){return"movementY"in n?n.movementY:Ma}}),Mn=jt(Us),ic=D({},Us,{dataTransfer:0}),Hf=jt(ic),zs=D({},Ls,{relatedTarget:0}),ja=jt(zs),ol=D({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Pa=jt(ol),rc=D({},Ge,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Va=jt(rc),Gf=D({},Ge,{data:0}),ll=jt(Gf),Bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ul(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=ac[n])?!!r[n]:!1}function Fs(){return ul}var oc=D({},Ls,{key:function(n){if(n.key){var r=Bs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ci(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?sc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fs,charCode:function(n){return n.type==="keypress"?ci(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ci(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),La=jt(oc),lc=D({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cl=jt(lc),Hi=D({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fs}),uc=jt(Hi),cc=D({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),hc=jt(cc),fc=D({},Us,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ua=jt(fc),an=D({},Ge,{newState:0,oldState:0}),dc=jt(an),mc=[9,13,27,32],di=vn&&"CompositionEvent"in window,c=null;vn&&"documentMode"in document&&(c=document.documentMode);var _=vn&&"TextEvent"in window&&!c,v=vn&&(!di||c&&8<c&&11>=c),x=" ",B=!1;function G(n,r){switch(n){case"keyup":return mc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pe=!1;function St(n,r){switch(n){case"compositionend":return ie(r);case"keypress":return r.which!==32?null:(B=!0,x);case"textInput":return n=r.data,n===x&&B?null:n;default:return null}}function Ve(n,r){if(Pe)return n==="compositionend"||!di&&G(n,r)?(n=sl(),qi=jr=ui=null,Pe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Pt[n.type]:r==="textarea"}function Gi(n,r,a,l){zi?Bi?Bi.push(l):Bi=[l]:zi=l,r=Wc(r,"onChange"),0<r.length&&(a=new Oa("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var Bt=null,mi=null;function hl(n){vv(n,0)}function pc(n){var r=Ir(n);if(tl(r))return n}function Qg(n,r){if(n==="change")return r}var Yg=!1;if(vn){var $f;if(vn){var Kf="oninput"in document;if(!Kf){var Xg=document.createElement("div");Xg.setAttribute("oninput","return;"),Kf=typeof Xg.oninput=="function"}$f=Kf}else $f=!1;Yg=$f&&(!document.documentMode||9<document.documentMode)}function Wg(){Bt&&(Bt.detachEvent("onpropertychange",Zg),mi=Bt=null)}function Zg(n){if(n.propertyName==="value"&&pc(mi)){var r=[];Gi(r,mi,n,Da(n)),tc(hl,r)}}function x1(n,r,a){n==="focusin"?(Wg(),Bt=r,mi=a,Bt.attachEvent("onpropertychange",Zg)):n==="focusout"&&Wg()}function R1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return pc(mi)}function C1(n,r){if(n==="click")return pc(r)}function I1(n,r){if(n==="input"||n==="change")return pc(r)}function N1(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var En=typeof Object.is=="function"?Object.is:N1;function fl(n,r){if(En(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ba.call(r,f)||!En(n[f],r[f]))return!1}return!0}function Jg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ey(n,r){var a=Jg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jg(a)}}function ty(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?ty(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function ny(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ia(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Ia(n.document)}return r}function Qf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function D1(n,r){var a=ny(r);r=n.focusedElem;var l=n.selectionRange;if(a!==r&&r&&r.ownerDocument&&ty(r.ownerDocument.documentElement,r)){if(l!==null&&Qf(r)){if(n=l.start,a=l.end,a===void 0&&(a=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(a,r.value.length);else if(a=(n=r.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=r.textContent.length,p=Math.min(l.start,f);l=l.end===void 0?p:Math.min(l.end,f),!a.extend&&p>l&&(f=l,l=p,p=f),f=ey(r,p);var T=ey(r,l);f&&T&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==T.node||a.focusOffset!==T.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),p>l?(a.addRange(n),a.extend(T.node,T.offset)):(n.setEnd(T.node,T.offset),a.addRange(n)))}}for(n=[],a=r;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)a=n[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var O1=vn&&"documentMode"in document&&11>=document.documentMode,za=null,Yf=null,dl=null,Xf=!1;function iy(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xf||za==null||za!==Ia(l)||(l=za,"selectionStart"in l&&Qf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&fl(dl,l)||(dl=l,l=Wc(Yf,"onSelect"),0<l.length&&(r=new Oa("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=za)))}function qs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ba={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionrun:qs("Transition","TransitionRun"),transitionstart:qs("Transition","TransitionStart"),transitioncancel:qs("Transition","TransitionCancel"),transitionend:qs("Transition","TransitionEnd")},Wf={},ry={};vn&&(ry=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Hs(n){if(Wf[n])return Wf[n];if(!Ba[n])return n;var r=Ba[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in ry)return Wf[n]=r[a];return n}var sy=Hs("animationend"),ay=Hs("animationiteration"),oy=Hs("animationstart"),k1=Hs("transitionrun"),M1=Hs("transitionstart"),j1=Hs("transitioncancel"),ly=Hs("transitionend"),uy=new Map,cy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Yn(n,r){uy.set(n,r),_n(r,[n])}var jn=[],Fa=0,Zf=0;function gc(){for(var n=Fa,r=Zf=Fa=0;r<n;){var a=jn[r];jn[r++]=null;var l=jn[r];jn[r++]=null;var f=jn[r];jn[r++]=null;var p=jn[r];if(jn[r++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}p!==0&&hy(a,f,p)}}function yc(n,r,a,l){jn[Fa++]=n,jn[Fa++]=r,jn[Fa++]=a,jn[Fa++]=l,Zf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Jf(n,r,a,l){return yc(n,r,a,l),_c(n)}function Pr(n,r){return yc(n,null,null,r),_c(n)}function hy(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,p=n.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;f&&r!==null&&n.tag===3&&(p=n.stateNode,f=31-rn(a),p=p.hiddenUpdates,n=p[f],n===null?p[f]=[r]:n.push(r),r.lane=a|536870912)}function _c(n){if(50<Ll)throw Ll=0,sm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var qa={},fy=new WeakMap;function Pn(n,r){if(typeof n=="object"&&n!==null){var a=fy.get(n);return a!==void 0?a:(r={value:n,source:r,stack:_e(r)},fy.set(n,r),r)}return{value:n,source:r,stack:_e(r)}}var Ha=[],Ga=0,vc=null,Ec=0,Vn=[],Ln=0,Gs=null,$i=1,Ki="";function $s(n,r){Ha[Ga++]=Ec,Ha[Ga++]=vc,vc=n,Ec=r}function dy(n,r,a){Vn[Ln++]=$i,Vn[Ln++]=Ki,Vn[Ln++]=Gs,Gs=n;var l=$i;n=Ki;var f=32-rn(l)-1;l&=~(1<<f),a+=1;var p=32-rn(r)+f;if(30<p){var T=f-f%5;p=(l&(1<<T)-1).toString(32),l>>=T,f-=T,$i=1<<32-rn(r)+f|a<<f|l,Ki=p+n}else $i=1<<p|a<<f|l,Ki=n}function ed(n){n.return!==null&&($s(n,1),dy(n,1,0))}function td(n){for(;n===vc;)vc=Ha[--Ga],Ha[Ga]=null,Ec=Ha[--Ga],Ha[Ga]=null;for(;n===Gs;)Gs=Vn[--Ln],Vn[Ln]=null,Ki=Vn[--Ln],Vn[Ln]=null,$i=Vn[--Ln],Vn[Ln]=null}var on=null,Ft=null,Fe=!1,Xn=null,pi=!1,nd=Error(s(519));function Ks(n){var r=Error(s(418,""));throw gl(Pn(r,n)),nd}function my(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Mt]=n,r[At]=l,a){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(a=0;a<zl.length;a++)Me(zl[a],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),Ms(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ks(r);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),Mr(r,l.value,l.defaultValue,l.children),ks(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||bv(r.textContent,a)?(l.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),l.onScroll!=null&&Me("scroll",r),l.onScrollEnd!=null&&Me("scrollend",r),l.onClick!=null&&(r.onclick=Zc),r=!0):r=!1,r||Ks(n)}function py(n){for(on=n.return;on;)switch(on.tag){case 3:case 27:pi=!0;return;case 5:case 13:pi=!1;return;default:on=on.return}}function ml(n){if(n!==on)return!1;if(!Fe)return py(n),Fe=!0,!1;var r=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||wm(n.type,n.memoizedProps)),a=!a),a&&(r=!0),r&&Ft&&Ks(n),py(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){Ft=Zn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}Ft=null}}else Ft=on?Zn(n.stateNode.nextSibling):null;return!0}function pl(){Ft=on=null,Fe=!1}function gl(n){Xn===null?Xn=[n]:Xn.push(n)}var yl=Error(s(460)),gy=Error(s(474)),id={then:function(){}};function yy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Tc(){}function _y(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Tc,Tc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===yl?Error(s(483)):n;default:if(typeof r.status=="string")r.then(Tc,Tc);else{if(n=Je,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===yl?Error(s(483)):n}throw _l=r,yl}}var _l=null;function vy(){if(_l===null)throw Error(s(459));var n=_l;return _l=null,n}var $a=null,vl=0;function wc(n){var r=vl;return vl+=1,$a===null&&($a=[]),_y($a,n,r)}function El(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function bc(n,r){throw r.$$typeof===u?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Ey(n){var r=n._init;return r(n._payload)}function Ty(n){function r(z,P){if(n){var q=z.deletions;q===null?(z.deletions=[P],z.flags|=16):q.push(P)}}function a(z,P){if(!n)return null;for(;P!==null;)r(z,P),P=P.sibling;return null}function l(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function f(z,P){return z=Qr(z,P),z.index=0,z.sibling=null,z}function p(z,P,q){return z.index=q,n?(q=z.alternate,q!==null?(q=q.index,q<P?(z.flags|=33554434,P):q):(z.flags|=33554434,P)):(z.flags|=1048576,P)}function T(z){return n&&z.alternate===null&&(z.flags|=33554434),z}function w(z,P,q,W){return P===null||P.tag!==6?(P=Wd(q,z.mode,W),P.return=z,P):(P=f(P,q),P.return=z,P)}function N(z,P,q,W){var ce=q.type;return ce===m?Y(z,P,q.props.children,W,q.key):P!==null&&(P.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ee&&Ey(ce)===P.type)?(P=f(P,q.props),El(P,q),P.return=z,P):(P=Bc(q.type,q.key,q.props,null,z.mode,W),El(P,q),P.return=z,P)}function L(z,P,q,W){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=Zd(q,z.mode,W),P.return=z,P):(P=f(P,q.children||[]),P.return=z,P)}function Y(z,P,q,W,ce){return P===null||P.tag!==7?(P=ia(q,z.mode,W,ce),P.return=z,P):(P=f(P,q),P.return=z,P)}function te(z,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Wd(""+P,z.mode,q),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case h:return q=Bc(P.type,P.key,P.props,null,z.mode,q),El(q,P),q.return=z,q;case d:return P=Zd(P,z.mode,q),P.return=z,P;case ee:var W=P._init;return P=W(P._payload),te(z,P,q)}if(ae(P)||Te(P))return P=ia(P,z.mode,q,null),P.return=z,P;if(typeof P.then=="function")return te(z,wc(P),q);if(P.$$typeof===C)return te(z,Lc(z,P),q);bc(z,P)}return null}function H(z,P,q,W){var ce=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ce!==null?null:w(z,P,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case h:return q.key===ce?N(z,P,q,W):null;case d:return q.key===ce?L(z,P,q,W):null;case ee:return ce=q._init,q=ce(q._payload),H(z,P,q,W)}if(ae(q)||Te(q))return ce!==null?null:Y(z,P,q,W,null);if(typeof q.then=="function")return H(z,P,wc(q),W);if(q.$$typeof===C)return H(z,P,Lc(z,q),W);bc(z,q)}return null}function K(z,P,q,W,ce){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(q)||null,w(P,z,""+W,ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case h:return z=z.get(W.key===null?q:W.key)||null,N(P,z,W,ce);case d:return z=z.get(W.key===null?q:W.key)||null,L(P,z,W,ce);case ee:var Ne=W._init;return W=Ne(W._payload),K(z,P,q,W,ce)}if(ae(W)||Te(W))return z=z.get(q)||null,Y(P,z,W,ce,null);if(typeof W.then=="function")return K(z,P,q,wc(W),ce);if(W.$$typeof===C)return K(z,P,q,Lc(P,W),ce);bc(P,W)}return null}function fe(z,P,q,W){for(var ce=null,Ne=null,me=P,ye=P=0,Ut=null;me!==null&&ye<q.length;ye++){me.index>ye?(Ut=me,me=null):Ut=me.sibling;var qe=H(z,me,q[ye],W);if(qe===null){me===null&&(me=Ut);break}n&&me&&qe.alternate===null&&r(z,me),P=p(qe,P,ye),Ne===null?ce=qe:Ne.sibling=qe,Ne=qe,me=Ut}if(ye===q.length)return a(z,me),Fe&&$s(z,ye),ce;if(me===null){for(;ye<q.length;ye++)me=te(z,q[ye],W),me!==null&&(P=p(me,P,ye),Ne===null?ce=me:Ne.sibling=me,Ne=me);return Fe&&$s(z,ye),ce}for(me=l(me);ye<q.length;ye++)Ut=K(me,z,ye,q[ye],W),Ut!==null&&(n&&Ut.alternate!==null&&me.delete(Ut.key===null?ye:Ut.key),P=p(Ut,P,ye),Ne===null?ce=Ut:Ne.sibling=Ut,Ne=Ut);return n&&me.forEach(function(ts){return r(z,ts)}),Fe&&$s(z,ye),ce}function be(z,P,q,W){if(q==null)throw Error(s(151));for(var ce=null,Ne=null,me=P,ye=P=0,Ut=null,qe=q.next();me!==null&&!qe.done;ye++,qe=q.next()){me.index>ye?(Ut=me,me=null):Ut=me.sibling;var ts=H(z,me,qe.value,W);if(ts===null){me===null&&(me=Ut);break}n&&me&&ts.alternate===null&&r(z,me),P=p(ts,P,ye),Ne===null?ce=ts:Ne.sibling=ts,Ne=ts,me=Ut}if(qe.done)return a(z,me),Fe&&$s(z,ye),ce;if(me===null){for(;!qe.done;ye++,qe=q.next())qe=te(z,qe.value,W),qe!==null&&(P=p(qe,P,ye),Ne===null?ce=qe:Ne.sibling=qe,Ne=qe);return Fe&&$s(z,ye),ce}for(me=l(me);!qe.done;ye++,qe=q.next())qe=K(me,z,ye,qe.value,W),qe!==null&&(n&&qe.alternate!==null&&me.delete(qe.key===null?ye:qe.key),P=p(qe,P,ye),Ne===null?ce=qe:Ne.sibling=qe,Ne=qe);return n&&me.forEach(function(YA){return r(z,YA)}),Fe&&$s(z,ye),ce}function ht(z,P,q,W){if(typeof q=="object"&&q!==null&&q.type===m&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case h:e:{for(var ce=q.key;P!==null;){if(P.key===ce){if(ce=q.type,ce===m){if(P.tag===7){a(z,P.sibling),W=f(P,q.props.children),W.return=z,z=W;break e}}else if(P.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ee&&Ey(ce)===P.type){a(z,P.sibling),W=f(P,q.props),El(W,q),W.return=z,z=W;break e}a(z,P);break}else r(z,P);P=P.sibling}q.type===m?(W=ia(q.props.children,z.mode,W,q.key),W.return=z,z=W):(W=Bc(q.type,q.key,q.props,null,z.mode,W),El(W,q),W.return=z,z=W)}return T(z);case d:e:{for(ce=q.key;P!==null;){if(P.key===ce)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){a(z,P.sibling),W=f(P,q.children||[]),W.return=z,z=W;break e}else{a(z,P);break}else r(z,P);P=P.sibling}W=Zd(q,z.mode,W),W.return=z,z=W}return T(z);case ee:return ce=q._init,q=ce(q._payload),ht(z,P,q,W)}if(ae(q))return fe(z,P,q,W);if(Te(q)){if(ce=Te(q),typeof ce!="function")throw Error(s(150));return q=ce.call(q),be(z,P,q,W)}if(typeof q.then=="function")return ht(z,P,wc(q),W);if(q.$$typeof===C)return ht(z,P,Lc(z,q),W);bc(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(a(z,P.sibling),W=f(P,q),W.return=z,z=W):(a(z,P),W=Wd(q,z.mode,W),W.return=z,z=W),T(z)):a(z,P)}return function(z,P,q,W){try{vl=0;var ce=ht(z,P,q,W);return $a=null,ce}catch(me){if(me===yl)throw me;var Ne=Fn(29,me,null,z.mode);return Ne.lanes=W,Ne.return=z,Ne}finally{}}}var Qs=Ty(!0),wy=Ty(!1),Ka=ze(null),Ac=ze(0);function by(n,r){n=rr,Ke(Ac,n),Ke(Ka,r),rr=n|r.baseLanes}function rd(){Ke(Ac,rr),Ke(Ka,Ka.current)}function sd(){rr=Ac.current,ot(Ka),ot(Ac)}var Un=ze(null),gi=null;function Vr(n){var r=n.alternate;Ke(Rt,Rt.current&1),Ke(Un,n),gi===null&&(r===null||Ka.current!==null||r.memoizedState!==null)&&(gi=n)}function Ay(n){if(n.tag===22){if(Ke(Rt,Rt.current),Ke(Un,n),gi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(gi=n)}}else Lr()}function Lr(){Ke(Rt,Rt.current),Ke(Un,Un.current)}function Qi(n){ot(Un),gi===n&&(gi=null),ot(Rt)}var Rt=ze(0);function Sc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var P1=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},V1=i.unstable_scheduleCallback,L1=i.unstable_NormalPriority,Ct={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ad(){return{controller:new P1,data:new Map,refCount:0}}function Tl(n){n.refCount--,n.refCount===0&&V1(L1,function(){n.controller.abort()})}var wl=null,od=0,Qa=0,Ya=null;function U1(n,r){if(wl===null){var a=wl=[];od=0,Qa=dm(),Ya={status:"pending",value:void 0,then:function(l){a.push(l)}}}return od++,r.then(Sy,Sy),r}function Sy(){if(--od===0&&wl!==null){Ya!==null&&(Ya.status="fulfilled");var n=wl;wl=null,Qa=0,Ya=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function z1(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var xy=R.S;R.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&U1(n,r),xy!==null&&xy(n,r)};var Ys=ze(null);function ld(){var n=Ys.current;return n!==null?n:Je.pooledCache}function xc(n,r){r===null?Ke(Ys,Ys.current):Ke(Ys,r.pool)}function Ry(){var n=ld();return n===null?null:{parent:Ct._currentValue,pool:n}}var Ur=0,Ce=null,Qe=null,yt=null,Rc=!1,Xa=!1,Xs=!1,Cc=0,bl=0,Wa=null,B1=0;function dt(){throw Error(s(321))}function ud(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!En(n[a],r[a]))return!1;return!0}function cd(n,r,a,l,f,p){return Ur=p,Ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,R.H=n===null||n.memoizedState===null?Ws:zr,Xs=!1,p=a(l,f),Xs=!1,Xa&&(p=Iy(r,a,l,f)),Cy(n),p}function Cy(n){R.H=yi;var r=Qe!==null&&Qe.next!==null;if(Ur=0,yt=Qe=Ce=null,Rc=!1,bl=0,Wa=null,r)throw Error(s(300));n===null||Vt||(n=n.dependencies,n!==null&&Vc(n)&&(Vt=!0))}function Iy(n,r,a,l){Ce=n;var f=0;do{if(Xa&&(Wa=null),bl=0,Xa=!1,25<=f)throw Error(s(301));if(f+=1,yt=Qe=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}R.H=Zs,p=r(a,l)}while(Xa);return p}function F1(){var n=R.H,r=n.useState()[0];return r=typeof r.then=="function"?Al(r):r,n=n.useState()[0],(Qe!==null?Qe.memoizedState:null)!==n&&(Ce.flags|=1024),r}function hd(){var n=Cc!==0;return Cc=0,n}function fd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function dd(n){if(Rc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Rc=!1}Ur=0,yt=Qe=Ce=null,Xa=!1,bl=Cc=0,Wa=null}function fn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ce.memoizedState=yt=n:yt=yt.next=n,yt}function _t(){if(Qe===null){var n=Ce.alternate;n=n!==null?n.memoizedState:null}else n=Qe.next;var r=yt===null?Ce.memoizedState:yt.next;if(r!==null)yt=r,Qe=n;else{if(n===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Qe=n,n={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},yt===null?Ce.memoizedState=yt=n:yt=yt.next=n}return yt}var Ic;Ic=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Al(n){var r=bl;return bl+=1,Wa===null&&(Wa=[]),n=_y(Wa,n,r),r=Ce,(yt===null?r.memoizedState:yt.next)===null&&(r=r.alternate,R.H=r===null||r.memoizedState===null?Ws:zr),n}function Nc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Al(n);if(n.$$typeof===C)return Xt(n)}throw Error(s(438,String(n)))}function md(n){var r=null,a=Ce.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Ic(),Ce.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=he;return r.index++,a}function Yi(n,r){return typeof r=="function"?r(n):r}function Dc(n){var r=_t();return pd(r,Qe,n)}function pd(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,p=l.pending;if(p!==null){if(f!==null){var T=f.next;f.next=p.next,p.next=T}r.baseQueue=f=p,l.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{r=f.next;var w=T=null,N=null,L=r,Y=!1;do{var te=L.lane&-536870913;if(te!==L.lane?(Le&te)===te:(Ur&te)===te){var H=L.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),te===Qa&&(Y=!0);else if((Ur&H)===H){L=L.next,H===Qa&&(Y=!0);continue}else te={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},N===null?(w=N=te,T=p):N=N.next=te,Ce.lanes|=H,Yr|=H;te=L.action,Xs&&a(p,te),p=L.hasEagerState?L.eagerState:a(p,te)}else H={lane:te,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},N===null?(w=N=H,T=p):N=N.next=H,Ce.lanes|=te,Yr|=te;L=L.next}while(L!==null&&L!==r);if(N===null?T=p:N.next=w,!En(p,n.memoizedState)&&(Vt=!0,Y&&(a=Ya,a!==null)))throw a;n.memoizedState=p,n.baseState=T,n.baseQueue=N,l.lastRenderedState=p}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function gd(n){var r=_t(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,p=r.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do p=n(p,T.action),T=T.next;while(T!==f);En(p,r.memoizedState)||(Vt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,l]}function Ny(n,r,a){var l=Ce,f=_t(),p=Fe;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!En((Qe||f).memoizedState,a);if(T&&(f.memoizedState=a,Vt=!0),f=f.queue,vd(ky.bind(null,l,f,n),[n]),f.getSnapshot!==r||T||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,Za(9,Oy.bind(null,l,f,a,r),{destroy:void 0},null),Je===null)throw Error(s(349));p||(Ur&60)!==0||Dy(l,r,a)}return a}function Dy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Ce.updateQueue,r===null?(r=Ic(),Ce.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Oy(n,r,a,l){r.value=a,r.getSnapshot=l,My(r)&&jy(n)}function ky(n,r,a){return a(function(){My(r)&&jy(n)})}function My(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!En(n,a)}catch{return!0}}function jy(n){var r=Pr(n,2);r!==null&&ln(r,n,2)}function yd(n){var r=fn();if(typeof n=="function"){var a=n;if(n=a(),Xs){ri(!0);try{a()}finally{ri(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:n},r}function Py(n,r,a,l){return n.baseState=a,pd(n,Qe,typeof l=="function"?l:Yi)}function q1(n,r,a,l,f){if(Mc(n))throw Error(s(485));if(n=r.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};R.T!==null?a(!0):p.isTransition=!1,l(p),a=r.pending,a===null?(p.next=r.pending=p,Vy(r,p)):(p.next=a.next,r.pending=a.next=p)}}function Vy(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var p=R.T,T={};R.T=T;try{var w=a(f,l),N=R.S;N!==null&&N(T,w),Ly(n,r,w)}catch(L){_d(n,r,L)}finally{R.T=p}}else try{p=a(f,l),Ly(n,r,p)}catch(L){_d(n,r,L)}}function Ly(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Uy(n,r,l)},function(l){return _d(n,r,l)}):Uy(n,r,a)}function Uy(n,r,a){r.status="fulfilled",r.value=a,zy(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Vy(n,a)))}function _d(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,zy(r),r=r.next;while(r!==l)}n.action=null}function zy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function By(n,r){return r}function Fy(n,r){if(Fe){var a=Je.formState;if(a!==null){e:{var l=Ce;if(Fe){if(Ft){t:{for(var f=Ft,p=pi;f.nodeType!==8;){if(!p){f=null;break t}if(f=Zn(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Ft=Zn(f.nextSibling),l=f.data==="F!";break e}}Ks(l)}l=!1}l&&(r=a[0])}}return a=fn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:By,lastRenderedState:r},a.queue=l,a=a_.bind(null,Ce,l),l.dispatch=a,l=yd(!1),p=Ad.bind(null,Ce,!1,l.queue),l=fn(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=q1.bind(null,Ce,f,p,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function qy(n){var r=_t();return Hy(r,Qe,n)}function Hy(n,r,a){r=pd(n,r,By)[0],n=Dc(Yi)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?Al(r):r;var l=_t(),f=l.queue,p=f.dispatch;return a!==l.memoizedState&&(Ce.flags|=2048,Za(9,H1.bind(null,f,a),{destroy:void 0},null)),[r,p,n]}function H1(n,r){n.action=r}function Gy(n){var r=_t(),a=Qe;if(a!==null)return Hy(r,a,n);_t(),r=r.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Za(n,r,a,l){return n={tag:n,create:r,inst:a,deps:l,next:null},r=Ce.updateQueue,r===null&&(r=Ic(),Ce.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function $y(){return _t().memoizedState}function Oc(n,r,a,l){var f=fn();Ce.flags|=n,f.memoizedState=Za(1|r,a,{destroy:void 0},l===void 0?null:l)}function kc(n,r,a,l){var f=_t();l=l===void 0?null:l;var p=f.memoizedState.inst;Qe!==null&&l!==null&&ud(l,Qe.memoizedState.deps)?f.memoizedState=Za(r,a,p,l):(Ce.flags|=n,f.memoizedState=Za(1|r,a,p,l))}function Ky(n,r){Oc(8390656,8,n,r)}function vd(n,r){kc(2048,8,n,r)}function Qy(n,r){return kc(4,2,n,r)}function Yy(n,r){return kc(4,4,n,r)}function Xy(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Wy(n,r,a){a=a!=null?a.concat([n]):null,kc(4,4,Xy.bind(null,r,n),a)}function Ed(){}function Zy(n,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&ud(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function Jy(n,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&ud(r,l[1]))return l[0];if(l=n(),Xs){ri(!0);try{n()}finally{ri(!1)}}return a.memoizedState=[l,r],l}function Td(n,r,a){return a===void 0||(Ur&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=tv(),Ce.lanes|=n,Yr|=n,a)}function e_(n,r,a,l){return En(a,r)?a:Ka.current!==null?(n=Td(n,a,l),En(n,r)||(Vt=!0),n):(Ur&42)===0?(Vt=!0,n.memoizedState=a):(n=tv(),Ce.lanes|=n,Yr|=n,r)}function t_(n,r,a,l,f){var p=oe.p;oe.p=p!==0&&8>p?p:8;var T=R.T,w={};R.T=w,Ad(n,!1,r,a);try{var N=f(),L=R.S;if(L!==null&&L(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Y=z1(N,l);Sl(n,r,Y,An(n))}else Sl(n,r,l,An(n))}catch(te){Sl(n,r,{then:function(){},status:"rejected",reason:te},An())}finally{oe.p=p,R.T=T}}function G1(){}function wd(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=n_(n).queue;t_(n,f,r,Re,a===null?G1:function(){return i_(n),a(l)})}function n_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:Re,baseState:Re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:Re},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function i_(n){var r=n_(n).next.queue;Sl(n,r,{},An())}function bd(){return Xt(Gl)}function r_(){return _t().memoizedState}function s_(){return _t().memoizedState}function $1(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=An();n=qr(a);var l=Hr(r,n,a);l!==null&&(ln(l,r,a),Cl(l,r,a)),r={cache:ad()},n.payload=r;return}r=r.return}}function K1(n,r,a){var l=An();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Mc(n)?o_(r,a):(a=Jf(n,r,a,l),a!==null&&(ln(a,n,l),l_(a,r,l)))}function a_(n,r,a){var l=An();Sl(n,r,a,l)}function Sl(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mc(n))o_(r,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var T=r.lastRenderedState,w=p(T,a);if(f.hasEagerState=!0,f.eagerState=w,En(w,T))return yc(n,r,f,0),Je===null&&gc(),!1}catch{}finally{}if(a=Jf(n,r,f,l),a!==null)return ln(a,n,l),l_(a,r,l),!0}return!1}function Ad(n,r,a,l){if(l={lane:2,revertLane:dm(),action:l,hasEagerState:!1,eagerState:null,next:null},Mc(n)){if(r)throw Error(s(479))}else r=Jf(n,a,l,2),r!==null&&ln(r,n,2)}function Mc(n){var r=n.alternate;return n===Ce||r!==null&&r===Ce}function o_(n,r){Xa=Rc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function l_(n,r,a){if((a&4194176)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,xr(n,a)}}var yi={readContext:Xt,use:Nc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt};yi.useCacheRefresh=dt,yi.useMemoCache=dt,yi.useHostTransitionStatus=dt,yi.useFormState=dt,yi.useActionState=dt,yi.useOptimistic=dt;var Ws={readContext:Xt,use:Nc,useCallback:function(n,r){return fn().memoizedState=[n,r===void 0?null:r],n},useContext:Xt,useEffect:Ky,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Oc(4194308,4,Xy.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Oc(4194308,4,n,r)},useInsertionEffect:function(n,r){Oc(4,2,n,r)},useMemo:function(n,r){var a=fn();r=r===void 0?null:r;var l=n();if(Xs){ri(!0);try{n()}finally{ri(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=fn();if(a!==void 0){var f=a(r);if(Xs){ri(!0);try{a(r)}finally{ri(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=K1.bind(null,Ce,n),[l.memoizedState,n]},useRef:function(n){var r=fn();return n={current:n},r.memoizedState=n},useState:function(n){n=yd(n);var r=n.queue,a=a_.bind(null,Ce,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Ed,useDeferredValue:function(n,r){var a=fn();return Td(a,n,r)},useTransition:function(){var n=yd(!1);return n=t_.bind(null,Ce,n.queue,!0,!1),fn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Ce,f=fn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Je===null)throw Error(s(349));(Le&60)!==0||Dy(l,r,a)}f.memoizedState=a;var p={value:a,getSnapshot:r};return f.queue=p,Ky(ky.bind(null,l,p,n),[n]),l.flags|=2048,Za(9,Oy.bind(null,l,p,a,r),{destroy:void 0},null),a},useId:function(){var n=fn(),r=Je.identifierPrefix;if(Fe){var a=Ki,l=$i;a=(l&~(1<<32-rn(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=Cc++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=B1++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},useCacheRefresh:function(){return fn().memoizedState=$1.bind(null,Ce)}};Ws.useMemoCache=md,Ws.useHostTransitionStatus=bd,Ws.useFormState=Fy,Ws.useActionState=Fy,Ws.useOptimistic=function(n){var r=fn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Ad.bind(null,Ce,!0,a),a.dispatch=r,[n,r]};var zr={readContext:Xt,use:Nc,useCallback:Zy,useContext:Xt,useEffect:vd,useImperativeHandle:Wy,useInsertionEffect:Qy,useLayoutEffect:Yy,useMemo:Jy,useReducer:Dc,useRef:$y,useState:function(){return Dc(Yi)},useDebugValue:Ed,useDeferredValue:function(n,r){var a=_t();return e_(a,Qe.memoizedState,n,r)},useTransition:function(){var n=Dc(Yi)[0],r=_t().memoizedState;return[typeof n=="boolean"?n:Al(n),r]},useSyncExternalStore:Ny,useId:r_};zr.useCacheRefresh=s_,zr.useMemoCache=md,zr.useHostTransitionStatus=bd,zr.useFormState=qy,zr.useActionState=qy,zr.useOptimistic=function(n,r){var a=_t();return Py(a,Qe,n,r)};var Zs={readContext:Xt,use:Nc,useCallback:Zy,useContext:Xt,useEffect:vd,useImperativeHandle:Wy,useInsertionEffect:Qy,useLayoutEffect:Yy,useMemo:Jy,useReducer:gd,useRef:$y,useState:function(){return gd(Yi)},useDebugValue:Ed,useDeferredValue:function(n,r){var a=_t();return Qe===null?Td(a,n,r):e_(a,Qe.memoizedState,n,r)},useTransition:function(){var n=gd(Yi)[0],r=_t().memoizedState;return[typeof n=="boolean"?n:Al(n),r]},useSyncExternalStore:Ny,useId:r_};Zs.useCacheRefresh=s_,Zs.useMemoCache=md,Zs.useHostTransitionStatus=bd,Zs.useFormState=Gy,Zs.useActionState=Gy,Zs.useOptimistic=function(n,r){var a=_t();return Qe!==null?Py(a,Qe,n,r):(a.baseState=n,[n,a.queue.dispatch])};function Sd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:D({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var xd={isMounted:function(n){return(n=n._reactInternals)?pe(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var l=An(),f=qr(l);f.payload=r,a!=null&&(f.callback=a),r=Hr(n,f,l),r!==null&&(ln(r,n,l),Cl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=An(),f=qr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Hr(n,f,l),r!==null&&(ln(r,n,l),Cl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=An(),l=qr(a);l.tag=2,r!=null&&(l.callback=r),r=Hr(n,l,a),r!==null&&(ln(r,n,a),Cl(r,n,a))}};function u_(n,r,a,l,f,p,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,p,T):r.prototype&&r.prototype.isPureReactComponent?!fl(a,l)||!fl(f,p):!0}function c_(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&xd.enqueueReplaceState(r,r.state,null)}function Js(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=D({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var jc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function h_(n){jc(n)}function f_(n){console.error(n)}function d_(n){jc(n)}function Pc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function m_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Rd(n,r,a){return a=qr(a),a.tag=3,a.payload={element:null},a.callback=function(){Pc(n,r)},a}function p_(n){return n=qr(n),n.tag=3,n}function g_(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;n.payload=function(){return f(p)},n.callback=function(){m_(r,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){m_(r,a,l),typeof f!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function Q1(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Rl(r,a,f,!0),a=Un.current,a!==null){switch(a.tag){case 13:return gi===null?lm():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===id?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),cm(n,l,f)),!1;case 22:return a.flags|=65536,l===id?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),cm(n,l,f)),!1}throw Error(s(435,a.tag))}return cm(n,l,f),lm(),!1}if(Fe)return r=Un.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==nd&&(n=Error(s(422),{cause:l}),gl(Pn(n,a)))):(l!==nd&&(r=Error(s(423),{cause:l}),gl(Pn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Pn(l,a),f=Rd(n.stateNode,l,f),Fd(n,f),ct!==4&&(ct=2)),!1;var p=Error(s(520),{cause:l});if(p=Pn(p,a),Pl===null?Pl=[p]:Pl.push(p),ct!==4&&(ct=2),r===null)return!0;l=Pn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Rd(a.stateNode,l,n),Fd(a,n),!1;case 1:if(r=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Xr===null||!Xr.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=p_(f),g_(f,n,a,l),Fd(a,f),!1}a=a.return}while(a!==null);return!1}var y_=Error(s(461)),Vt=!1;function qt(n,r,a,l){r.child=n===null?wy(r,null,a,l):Qs(r,n.child,a,l)}function __(n,r,a,l,f){a=a.render;var p=r.ref;if("ref"in l){var T={};for(var w in l)w!=="ref"&&(T[w]=l[w])}else T=l;return ta(r),l=cd(n,r,a,T,p,f),w=hd(),n!==null&&!Vt?(fd(n,r,f),Xi(n,r,f)):(Fe&&w&&ed(r),r.flags|=1,qt(n,r,l,f),r.child)}function v_(n,r,a,l,f){if(n===null){var p=a.type;return typeof p=="function"&&!Xd(p)&&p.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=p,E_(n,r,p,l,f)):(n=Bc(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(p=n.child,!Pd(n,f)){var T=p.memoizedProps;if(a=a.compare,a=a!==null?a:fl,a(T,l)&&n.ref===r.ref)return Xi(n,r,f)}return r.flags|=1,n=Qr(p,l),n.ref=r.ref,n.return=r,r.child=n}function E_(n,r,a,l,f){if(n!==null){var p=n.memoizedProps;if(fl(p,l)&&n.ref===r.ref)if(Vt=!1,r.pendingProps=l=p,Pd(n,f))(n.flags&131072)!==0&&(Vt=!0);else return r.lanes=n.lanes,Xi(n,r,f)}return Cd(n,r,a,l,f)}function T_(n,r,a){var l=r.pendingProps,f=l.children,p=(r.stateNode._pendingVisibility&2)!==0,T=n!==null?n.memoizedState:null;if(xl(n,r),l.mode==="hidden"||p){if((r.flags&128)!==0){if(l=T!==null?T.baseLanes|a:a,n!==null){for(f=r.child=n.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;r.childLanes=p&~l}else r.childLanes=0,r.child=null;return w_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&xc(r,T!==null?T.cachePool:null),T!==null?by(r,T):rd(),Ay(r);else return r.lanes=r.childLanes=536870912,w_(n,r,T!==null?T.baseLanes|a:a,a)}else T!==null?(xc(r,T.cachePool),by(r,T),Lr(),r.memoizedState=null):(n!==null&&xc(r,null),rd(),Lr());return qt(n,r,f,a),r.child}function w_(n,r,a,l){var f=ld();return f=f===null?null:{parent:Ct._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&xc(r,null),rd(),Ay(r),n!==null&&Rl(n,r,l,!0),null}function xl(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=2097664)}}function Cd(n,r,a,l,f){return ta(r),a=cd(n,r,a,l,void 0,f),l=hd(),n!==null&&!Vt?(fd(n,r,f),Xi(n,r,f)):(Fe&&l&&ed(r),r.flags|=1,qt(n,r,a,f),r.child)}function b_(n,r,a,l,f,p){return ta(r),r.updateQueue=null,a=Iy(r,l,a,f),Cy(n),l=hd(),n!==null&&!Vt?(fd(n,r,p),Xi(n,r,p)):(Fe&&l&&ed(r),r.flags|=1,qt(n,r,a,p),r.child)}function A_(n,r,a,l,f){if(ta(r),r.stateNode===null){var p=qa,T=a.contextType;typeof T=="object"&&T!==null&&(p=Xt(T)),p=new a(l,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=xd,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=l,p.state=r.memoizedState,p.refs={},zd(r),T=a.contextType,p.context=typeof T=="object"&&T!==null?Xt(T):qa,p.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Sd(r,a,T,l),p.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&xd.enqueueReplaceState(p,p.state,null),Nl(r,l,p,f),Il(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){p=r.stateNode;var w=r.memoizedProps,N=Js(a,w);p.props=N;var L=p.context,Y=a.contextType;T=qa,typeof Y=="object"&&Y!==null&&(T=Xt(Y));var te=a.getDerivedStateFromProps;Y=typeof te=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,Y||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||L!==T)&&c_(r,p,l,T),Fr=!1;var H=r.memoizedState;p.state=H,Nl(r,l,p,f),Il(),L=r.memoizedState,w||H!==L||Fr?(typeof te=="function"&&(Sd(r,a,te,l),L=r.memoizedState),(N=Fr||u_(r,a,N,l,H,L,T))?(Y||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=L),p.props=l,p.state=L,p.context=T,l=N):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,Bd(n,r),T=r.memoizedProps,Y=Js(a,T),p.props=Y,te=r.pendingProps,H=p.context,L=a.contextType,N=qa,typeof L=="object"&&L!==null&&(N=Xt(L)),w=a.getDerivedStateFromProps,(L=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==te||H!==N)&&c_(r,p,l,N),Fr=!1,H=r.memoizedState,p.state=H,Nl(r,l,p,f),Il();var K=r.memoizedState;T!==te||H!==K||Fr||n!==null&&n.dependencies!==null&&Vc(n.dependencies)?(typeof w=="function"&&(Sd(r,a,w,l),K=r.memoizedState),(Y=Fr||u_(r,a,Y,l,H,K,N)||n!==null&&n.dependencies!==null&&Vc(n.dependencies))?(L||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,K,N),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,K,N)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),p.props=l,p.state=K,p.context=N,l=Y):(typeof p.componentDidUpdate!="function"||T===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),l=!1)}return p=l,xl(n,r),l=(r.flags&128)!==0,p||l?(p=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,n!==null&&l?(r.child=Qs(r,n.child,null,f),r.child=Qs(r,null,a,f)):qt(n,r,a,f),r.memoizedState=p.state,n=r.child):n=Xi(n,r,f),n}function S_(n,r,a,l){return pl(),r.flags|=256,qt(n,r,a,l),r.child}var Id={dehydrated:null,treeContext:null,retryLane:0};function Nd(n){return{baseLanes:n,cachePool:Ry()}}function Dd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=qn),n}function x_(n,r,a){var l=r.pendingProps,f=!1,p=(r.flags&128)!==0,T;if((T=p)||(T=n!==null&&n.memoizedState===null?!1:(Rt.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,n===null){if(Fe){if(f?Vr(r):Lr(),Fe){var w=Ft,N;if(N=w){e:{for(N=w,w=pi;N.nodeType!==8;){if(!w){w=null;break e}if(N=Zn(N.nextSibling),N===null){w=null;break e}}w=N}w!==null?(r.memoizedState={dehydrated:w,treeContext:Gs!==null?{id:$i,overflow:Ki}:null,retryLane:536870912},N=Fn(18,null,null,0),N.stateNode=w,N.return=r,r.child=N,on=r,Ft=null,N=!0):N=!1}N||Ks(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?r.lanes=16:r.lanes=536870912,null;Qi(r)}return w=l.children,l=l.fallback,f?(Lr(),f=r.mode,w=kd({mode:"hidden",children:w},f),l=ia(l,f,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,f=r.child,f.memoizedState=Nd(a),f.childLanes=Dd(n,T,a),r.memoizedState=Id,l):(Vr(r),Od(r,w))}if(N=n.memoizedState,N!==null&&(w=N.dehydrated,w!==null)){if(p)r.flags&256?(Vr(r),r.flags&=-257,r=Md(n,r,a)):r.memoizedState!==null?(Lr(),r.child=n.child,r.flags|=128,r=null):(Lr(),f=l.fallback,w=r.mode,l=kd({mode:"visible",children:l.children},w),f=ia(f,w,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Qs(r,n.child,null,a),l=r.child,l.memoizedState=Nd(a),l.childLanes=Dd(n,T,a),r.memoizedState=Id,r=f);else if(Vr(r),w.data==="$!"){if(T=w.nextSibling&&w.nextSibling.dataset,T)var L=T.dgst;T=L,l=Error(s(419)),l.stack="",l.digest=T,gl({value:l,source:null,stack:null}),r=Md(n,r,a)}else if(Vt||Rl(n,r,a,!1),T=(a&n.childLanes)!==0,Vt||T){if(T=Je,T!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane)throw N.retryLane=l,Pr(n,l),ln(T,n,l),y_}w.data==="$?"||lm(),r=Md(n,r,a)}else w.data==="$?"?(r.flags|=128,r.child=n.child,r=uA.bind(null,n),w._reactRetry=r,r=null):(n=N.treeContext,Ft=Zn(w.nextSibling),on=r,Fe=!0,Xn=null,pi=!1,n!==null&&(Vn[Ln++]=$i,Vn[Ln++]=Ki,Vn[Ln++]=Gs,$i=n.id,Ki=n.overflow,Gs=r),r=Od(r,l.children),r.flags|=4096);return r}return f?(Lr(),f=l.fallback,w=r.mode,N=n.child,L=N.sibling,l=Qr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&31457280,L!==null?f=Qr(L,f):(f=ia(f,w,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,w=n.child.memoizedState,w===null?w=Nd(a):(N=w.cachePool,N!==null?(L=Ct._currentValue,N=N.parent!==L?{parent:L,pool:L}:N):N=Ry(),w={baseLanes:w.baseLanes|a,cachePool:N}),f.memoizedState=w,f.childLanes=Dd(n,T,a),r.memoizedState=Id,l):(Vr(r),a=n.child,n=a.sibling,a=Qr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(T=r.deletions,T===null?(r.deletions=[n],r.flags|=16):T.push(n)),r.child=a,r.memoizedState=null,a)}function Od(n,r){return r=kd({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function kd(n,r){return Z_(n,r,0,null)}function Md(n,r,a){return Qs(r,n.child,null,a),n=Od(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function R_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Ld(n.return,r,a)}function jd(n,r,a,l,f){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=f)}function C_(n,r,a){var l=r.pendingProps,f=l.revealOrder,p=l.tail;if(qt(n,r,l.children,a),l=Rt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&R_(n,a,r);else if(n.tag===19)R_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(Ke(Rt,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&Sc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),jd(r,!1,f,a,p);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Sc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}jd(r,!0,a,null,p);break;case"together":jd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Xi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Yr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Rl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Qr(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Qr(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Pd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Vc(n)))}function Y1(n,r,a){switch(r.tag){case 3:Er(r,r.stateNode.containerInfo),Br(r,Ct,n.memoizedState.cache),pl();break;case 27:case 5:Go(r);break;case 4:Er(r,r.stateNode.containerInfo);break;case 10:Br(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Vr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?x_(n,r,a):(Vr(r),n=Xi(n,r,a),n!==null?n.sibling:null);Vr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Rl(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return C_(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ke(Rt,Rt.current),l)break;return null;case 22:case 23:return r.lanes=0,T_(n,r,a);case 24:Br(r,Ct,n.memoizedState.cache)}return Xi(n,r,a)}function I_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Vt=!0;else{if(!Pd(n,a)&&(r.flags&128)===0)return Vt=!1,Y1(n,r,a);Vt=(n.flags&131072)!==0}else Vt=!1,Fe&&(r.flags&1048576)!==0&&dy(r,Ec,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Xd(l)?(n=Js(l,n),r.tag=1,r=A_(null,r,l,n,a)):(r.tag=0,r=Cd(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===k){r.tag=11,r=__(null,r,l,n,a);break e}else if(f===Q){r.tag=14,r=v_(null,r,l,n,a);break e}}throw r=I(l)||l,Error(s(306,r,""))}}return r;case 0:return Cd(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Js(l,r.pendingProps),A_(n,r,l,f,a);case 3:e:{if(Er(r,r.stateNode.containerInfo),n===null)throw Error(s(387));var p=r.pendingProps;f=r.memoizedState,l=f.element,Bd(n,r),Nl(r,p,null,a);var T=r.memoizedState;if(p=T.cache,Br(r,Ct,p),p!==f.cache&&Ud(r,[Ct],a,!0),Il(),p=T.element,f.isDehydrated)if(f={element:p,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=S_(n,r,p,a);break e}else if(p!==l){l=Pn(Error(s(424)),r),gl(l),r=S_(n,r,p,a);break e}else for(Ft=Zn(r.stateNode.containerInfo.firstChild),on=r,Fe=!0,Xn=null,pi=!0,a=wy(r,null,p,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(pl(),p===l){r=Xi(n,r,a);break e}qt(n,r,p,a)}r=r.child}return r;case 26:return xl(n,r),n===null?(a=Ov(r.type,null,r.pendingProps,null))?r.memoizedState=a:Fe||(a=r.type,n=r.pendingProps,l=Jc(Cn.current).createElement(a),l[Mt]=r,l[At]=n,Ht(l,a,n),it(l),r.stateNode=l):r.memoizedState=Ov(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Go(r),n===null&&Fe&&(l=r.stateNode=Iv(r.type,r.pendingProps,Cn.current),on=r,pi=!0,Ft=Zn(l.firstChild)),l=r.pendingProps.children,n!==null||Fe?qt(n,r,l,a):r.child=Qs(r,null,l,a),xl(n,r),r.child;case 5:return n===null&&Fe&&((f=l=Ft)&&(l=SA(l,r.type,r.pendingProps,pi),l!==null?(r.stateNode=l,on=r,Ft=Zn(l.firstChild),pi=!1,f=!0):f=!1),f||Ks(r)),Go(r),f=r.type,p=r.pendingProps,T=n!==null?n.memoizedProps:null,l=p.children,wm(f,p)?l=null:T!==null&&wm(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=cd(n,r,F1,null,null,a),Gl._currentValue=f),xl(n,r),qt(n,r,l,a),r.child;case 6:return n===null&&Fe&&((n=a=Ft)&&(a=xA(a,r.pendingProps,pi),a!==null?(r.stateNode=a,on=r,Ft=null,n=!0):n=!1),n||Ks(r)),null;case 13:return x_(n,r,a);case 4:return Er(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Qs(r,null,l,a):qt(n,r,l,a),r.child;case 11:return __(n,r,r.type,r.pendingProps,a);case 7:return qt(n,r,r.pendingProps,a),r.child;case 8:return qt(n,r,r.pendingProps.children,a),r.child;case 12:return qt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Br(r,r.type,l.value),qt(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,ta(r),f=Xt(f),l=l(f),r.flags|=1,qt(n,r,l,a),r.child;case 14:return v_(n,r,r.type,r.pendingProps,a);case 15:return E_(n,r,r.type,r.pendingProps,a);case 19:return C_(n,r,a);case 22:return T_(n,r,a);case 24:return ta(r),l=Xt(Ct),n===null?(f=ld(),f===null&&(f=Je,p=ad(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),r.memoizedState={parent:l,cache:f},zd(r),Br(r,Ct,f)):((n.lanes&a)!==0&&(Bd(n,r),Nl(r,null,null,a),Il()),f=n.memoizedState,p=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Br(r,Ct,l)):(l=p.cache,Br(r,Ct,l),l!==f.cache&&Ud(r,[Ct],a,!0))),qt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var Vd=ze(null),ea=null,Wi=null;function Br(n,r,a){Ke(Vd,r._currentValue),r._currentValue=a}function Zi(n){n._currentValue=Vd.current,ot(Vd)}function Ld(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function Ud(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var T=f.child;p=p.firstContext;e:for(;p!==null;){var w=p;p=f;for(var N=0;N<r.length;N++)if(w.context===r[N]){p.lanes|=a,w=p.alternate,w!==null&&(w.lanes|=a),Ld(p.return,a,n),l||(T=null);break e}p=w.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,p=T.alternate,p!==null&&(p.lanes|=a),Ld(T,a,n),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===n){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Rl(n,r,a,l){n=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var w=f.type;En(f.pendingProps.value,T.value)||(n!==null?n.push(w):n=[w])}}else if(f===vr.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Gl):n=[Gl])}f=f.return}n!==null&&Ud(r,n,a,l),r.flags|=262144}function Vc(n){for(n=n.firstContext;n!==null;){if(!En(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ta(n){ea=n,Wi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Xt(n){return N_(ea,n)}function Lc(n,r){return ea===null&&ta(n),N_(n,r)}function N_(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Wi===null){if(n===null)throw Error(s(308));Wi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Wi=Wi.next=r;return a}var Fr=!1;function zd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function qr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Hr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(st&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=_c(n),hy(n,null,a),r}return yc(n,l,r,a),_c(n)}function Cl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,xr(n,a)}}function Fd(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=T:p=p.next=T,a=a.next}while(a!==null);p===null?f=p=r:p=p.next=r}else f=p=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var qd=!1;function Il(){if(qd){var n=Ya;if(n!==null)throw n}}function Nl(n,r,a,l){qd=!1;var f=n.updateQueue;Fr=!1;var p=f.firstBaseUpdate,T=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var N=w,L=N.next;N.next=null,T===null?p=L:T.next=L,T=N;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,w=Y.lastBaseUpdate,w!==T&&(w===null?Y.firstBaseUpdate=L:w.next=L,Y.lastBaseUpdate=N))}if(p!==null){var te=f.baseState;T=0,Y=L=N=null,w=p;do{var H=w.lane&-536870913,K=H!==w.lane;if(K?(Le&H)===H:(l&H)===H){H!==0&&H===Qa&&(qd=!0),Y!==null&&(Y=Y.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var fe=n,be=w;H=r;var ht=a;switch(be.tag){case 1:if(fe=be.payload,typeof fe=="function"){te=fe.call(ht,te,H);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=be.payload,H=typeof fe=="function"?fe.call(ht,te,H):fe,H==null)break e;te=D({},te,H);break e;case 2:Fr=!0}}H=w.callback,H!==null&&(n.flags|=64,K&&(n.flags|=8192),K=f.callbacks,K===null?f.callbacks=[H]:K.push(H))}else K={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Y===null?(L=Y=K,N=te):Y=Y.next=K,T|=H;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;K=w,w=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);Y===null&&(N=te),f.baseState=N,f.firstBaseUpdate=L,f.lastBaseUpdate=Y,p===null&&(f.shared.lanes=0),Yr|=T,n.lanes=T,n.memoizedState=te}}function D_(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function O_(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)D_(a[n],r)}function Dl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var p=a.create,T=a.inst;l=p(),T.destroy=l}a=a.next}while(a!==f)}}catch(w){We(r,r.return,w)}}function Gr(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&n)===n){var T=l.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,f=r;var N=a;try{w()}catch(L){We(f,N,L)}}}l=l.next}while(l!==p)}}catch(L){We(r,r.return,L)}}function k_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{O_(r,a)}catch(l){We(n,n.return,l)}}}function M_(n,r,a){a.props=Js(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){We(n,r,l)}}function na(n,r){try{var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(p){We(n,r,p)}}function Tn(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){We(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){We(n,r,f)}else a.current=null}function j_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){We(n,n.return,f)}}function P_(n,r,a){try{var l=n.stateNode;EA(l,n.type,a,r),l[At]=r}catch(f){We(n,n.return,f)}}function V_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Hd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||V_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Gd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Zc));else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Gd(n,r,a),n=n.sibling;n!==null;)Gd(n,r,a),n=n.sibling}function Uc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Uc(n,r,a),n=n.sibling;n!==null;)Uc(n,r,a),n=n.sibling}var Ji=!1,ut=!1,$d=!1,L_=typeof WeakSet=="function"?WeakSet:Set,Lt=null,U_=!1;function X1(n,r){if(n=n.containerInfo,Em=sh,n=ny(n),Qf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var T=0,w=-1,N=-1,L=0,Y=0,te=n,H=null;t:for(;;){for(var K;te!==a||f!==0&&te.nodeType!==3||(w=T+f),te!==p||l!==0&&te.nodeType!==3||(N=T+l),te.nodeType===3&&(T+=te.nodeValue.length),(K=te.firstChild)!==null;)H=te,te=K;for(;;){if(te===n)break t;if(H===a&&++L===f&&(w=T),H===p&&++Y===l&&(N=T),(K=te.nextSibling)!==null)break;te=H,H=te.parentNode}te=K}a=w===-1||N===-1?null:{start:w,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tm={focusedElem:n,selectionRange:a},sh=!1,Lt=r;Lt!==null;)if(r=Lt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Lt=n;else for(;Lt!==null;){switch(r=Lt,p=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,a=r,f=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var fe=Js(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(fe,p),l.__reactInternalSnapshotBeforeUpdate=n}catch(be){We(a,a.return,be)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Sm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Sm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Lt=n;break}Lt=r.return}return fe=U_,U_=!1,fe}function z_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:tr(n,a),l&4&&Dl(5,a);break;case 1:if(tr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(w){We(a,a.return,w)}else{var f=Js(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(w){We(a,a.return,w)}}l&64&&k_(a),l&512&&na(a,a.return);break;case 3:if(tr(n,a),l&64&&(l=a.updateQueue,l!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{O_(l,n)}catch(w){We(a,a.return,w)}}break;case 26:tr(n,a),l&512&&na(a,a.return);break;case 27:case 5:tr(n,a),r===null&&l&4&&j_(a),l&512&&na(a,a.return);break;case 12:tr(n,a);break;case 13:tr(n,a),l&4&&q_(n,a);break;case 22:if(f=a.memoizedState!==null||Ji,!f){r=r!==null&&r.memoizedState!==null||ut;var p=Ji,T=ut;Ji=f,(ut=r)&&!T?$r(n,a,(a.subtreeFlags&8772)!==0):tr(n,a),Ji=p,ut=T}l&512&&(a.memoizedProps.mode==="manual"?na(a,a.return):Tn(a,a.return));break;default:tr(n,a)}}function B_(n){var r=n.alternate;r!==null&&(n.alternate=null,B_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Os(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var vt=null,wn=!1;function er(n,r,a){for(a=a.child;a!==null;)F_(n,r,a),a=a.sibling}function F_(n,r,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Tr,a)}catch{}switch(a.tag){case 26:ut||Tn(a,r),er(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||Tn(a,r);var l=vt,f=wn;for(vt=a.stateNode,er(n,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);Os(a),vt=l,wn=f;break;case 5:ut||Tn(a,r);case 6:f=vt;var p=wn;if(vt=null,er(n,r,a),vt=f,wn=p,vt!==null)if(wn)try{n=vt,l=a.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(T){We(a,r,T)}else try{vt.removeChild(a.stateNode)}catch(T){We(a,r,T)}break;case 18:vt!==null&&(wn?(r=vt,a=a.stateNode,r.nodeType===8?Am(r.parentNode,a):r.nodeType===1&&Am(r,a),Yl(r)):Am(vt,a.stateNode));break;case 4:l=vt,f=wn,vt=a.stateNode.containerInfo,wn=!0,er(n,r,a),vt=l,wn=f;break;case 0:case 11:case 14:case 15:ut||Gr(2,a,r),ut||Gr(4,a,r),er(n,r,a);break;case 1:ut||(Tn(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&M_(a,r,l)),er(n,r,a);break;case 21:er(n,r,a);break;case 22:ut||Tn(a,r),ut=(l=ut)||a.memoizedState!==null,er(n,r,a),ut=l;break;default:er(n,r,a)}}function q_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Yl(n)}catch(a){We(r,r.return,a)}}function W1(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new L_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new L_),r;default:throw Error(s(435,n.tag))}}function Kd(n,r){var a=W1(n);r.forEach(function(l){var f=cA.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function zn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],p=n,T=r,w=T;e:for(;w!==null;){switch(w.tag){case 27:case 5:vt=w.stateNode,wn=!1;break e;case 3:vt=w.stateNode.containerInfo,wn=!0;break e;case 4:vt=w.stateNode.containerInfo,wn=!0;break e}w=w.return}if(vt===null)throw Error(s(160));F_(p,T,f),vt=null,wn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)H_(r,n),r=r.sibling}var Wn=null;function H_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:zn(r,n),Bn(n),l&4&&(Gr(3,n,n.return),Dl(3,n),Gr(5,n,n.return));break;case 1:zn(r,n),Bn(n),l&512&&(ut||a===null||Tn(a,a.return)),l&64&&Ji&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Wn;if(zn(r,n),Bn(n),l&512&&(ut||a===null||Tn(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Cr]||p[Mt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),Ht(p,l,a),p[Mt]=n,it(p),l=p;break e;case"link":var T=jv("link","href",f).get(l+(a.href||""));if(T){for(var w=0;w<T.length;w++)if(p=T[w],p.getAttribute("href")===(a.href==null?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(w,1);break t}}p=f.createElement(l),Ht(p,l,a),f.head.appendChild(p);break;case"meta":if(T=jv("meta","content",f).get(l+(a.content||""))){for(w=0;w<T.length;w++)if(p=T[w],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(w,1);break t}}p=f.createElement(l),Ht(p,l,a),f.head.appendChild(p);break;default:throw Error(s(468,l))}p[Mt]=n,it(p),l=p}n.stateNode=l}else Pv(f,n.type,n.stateNode);else n.stateNode=Mv(f,l,n.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?Pv(f,n.type,n.stateNode):Mv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&P_(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){f=n.stateNode,p=n.memoizedProps;try{for(var N=f.firstChild;N;){var L=N.nextSibling,Y=N.nodeName;N[Cr]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&N.rel.toLowerCase()==="stylesheet"||f.removeChild(N),N=L}for(var te=n.type,H=f.attributes;H.length;)f.removeAttributeNode(H[0]);Ht(f,te,p),f[Mt]=n,f[At]=p}catch(fe){We(n,n.return,fe)}}case 5:if(zn(r,n),Bn(n),l&512&&(ut||a===null||Tn(a,a.return)),n.flags&32){f=n.stateNode;try{Dn(f,"")}catch(fe){We(n,n.return,fe)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,P_(n,f,a!==null?a.memoizedProps:f)),l&1024&&($d=!0);break;case 6:if(zn(r,n),Bn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(fe){We(n,n.return,fe)}}break;case 3:if(nh=null,f=Wn,Wn=eh(r.containerInfo),zn(r,n),Wn=f,Bn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Yl(r.containerInfo)}catch(fe){We(n,n.return,fe)}$d&&($d=!1,G_(n));break;case 4:l=Wn,Wn=eh(n.stateNode.containerInfo),zn(r,n),Bn(n),Wn=l;break;case 12:zn(r,n),Bn(n);break;case 13:zn(r,n),Bn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(nm=cn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Kd(n,l)));break;case 22:if(l&512&&(ut||a===null||Tn(a,a.return)),N=n.memoizedState!==null,L=a!==null&&a.memoizedState!==null,Y=Ji,te=ut,Ji=Y||N,ut=te||L,zn(r,n),ut=te,Ji=Y,Bn(n),r=n.stateNode,r._current=n,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=N?r._visibility&-2:r._visibility|1,N&&(r=Ji||ut,a===null||L||r||Ja(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,r=n;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){L=a=r;try{if(f=L.stateNode,N)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=L.stateNode,w=L.memoizedProps.style;var K=w!=null&&w.hasOwnProperty("display")?w.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(fe){We(L,L.return,fe)}}}else if(r.tag===6){if(a===null){L=r;try{L.stateNode.nodeValue=N?"":L.memoizedProps}catch(fe){We(L,L.return,fe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Kd(n,a))));break;case 19:zn(r,n),Bn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Kd(n,l)));break;case 21:break;default:zn(r,n),Bn(n)}}function Bn(n){var r=n.flags;if(r&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(V_(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var f=l.stateNode,p=Hd(n);Uc(n,p,f);break;case 5:var T=l.stateNode;l.flags&32&&(Dn(T,""),l.flags&=-33);var w=Hd(n);Uc(n,w,T);break;case 3:case 4:var N=l.stateNode.containerInfo,L=Hd(n);Gd(n,L,N);break;default:throw Error(s(161))}}}catch(Y){We(n,n.return,Y)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function G_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;G_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function tr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)z_(n,r.alternate,r),r=r.sibling}function Ja(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Gr(4,r,r.return),Ja(r);break;case 1:Tn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&M_(r,r.return,a),Ja(r);break;case 26:case 27:case 5:Tn(r,r.return),Ja(r);break;case 22:Tn(r,r.return),r.memoizedState===null&&Ja(r);break;default:Ja(r)}n=n.sibling}}function $r(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,p=r,T=p.flags;switch(p.tag){case 0:case 11:case 15:$r(f,p,a),Dl(4,p);break;case 1:if($r(f,p,a),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(L){We(l,l.return,L)}if(l=p,f=l.updateQueue,f!==null){var w=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)D_(N[f],w)}catch(L){We(l,l.return,L)}}a&&T&64&&k_(p),na(p,p.return);break;case 26:case 27:case 5:$r(f,p,a),a&&l===null&&T&4&&j_(p),na(p,p.return);break;case 12:$r(f,p,a);break;case 13:$r(f,p,a),a&&T&4&&q_(f,p);break;case 22:p.memoizedState===null&&$r(f,p,a),na(p,p.return);break;default:$r(f,p,a)}r=r.sibling}}function Qd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Tl(a))}function Yd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Tl(n))}function Kr(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)$_(n,r,a,l),r=r.sibling}function $_(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Kr(n,r,a,l),f&2048&&Dl(9,r);break;case 3:Kr(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Tl(n)));break;case 12:if(f&2048){Kr(n,r,a,l),n=r.stateNode;try{var p=r.memoizedProps,T=p.id,w=p.onPostCommit;typeof w=="function"&&w(T,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){We(r,r.return,N)}}else Kr(n,r,a,l);break;case 23:break;case 22:p=r.stateNode,r.memoizedState!==null?p._visibility&4?Kr(n,r,a,l):Ol(n,r):p._visibility&4?Kr(n,r,a,l):(p._visibility|=4,eo(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Qd(r.alternate,r);break;case 24:Kr(n,r,a,l),f&2048&&Yd(r.alternate,r);break;default:Kr(n,r,a,l)}}function eo(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=n,T=r,w=a,N=l,L=T.flags;switch(T.tag){case 0:case 11:case 15:eo(p,T,w,N,f),Dl(8,T);break;case 23:break;case 22:var Y=T.stateNode;T.memoizedState!==null?Y._visibility&4?eo(p,T,w,N,f):Ol(p,T):(Y._visibility|=4,eo(p,T,w,N,f)),f&&L&2048&&Qd(T.alternate,T);break;case 24:eo(p,T,w,N,f),f&&L&2048&&Yd(T.alternate,T);break;default:eo(p,T,w,N,f)}r=r.sibling}}function Ol(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:Ol(a,l),f&2048&&Qd(l.alternate,l);break;case 24:Ol(a,l),f&2048&&Yd(l.alternate,l);break;default:Ol(a,l)}r=r.sibling}}var kl=8192;function to(n){if(n.subtreeFlags&kl)for(n=n.child;n!==null;)K_(n),n=n.sibling}function K_(n){switch(n.tag){case 26:to(n),n.flags&kl&&n.memoizedState!==null&&UA(Wn,n.memoizedState,n.memoizedProps);break;case 5:to(n);break;case 3:case 4:var r=Wn;Wn=eh(n.stateNode.containerInfo),to(n),Wn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=kl,kl=16777216,to(n),kl=r):to(n));break;default:to(n)}}function Q_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Ml(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Lt=l,X_(l,n)}Q_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Y_(n),n=n.sibling}function Y_(n){switch(n.tag){case 0:case 11:case 15:Ml(n),n.flags&2048&&Gr(9,n,n.return);break;case 3:Ml(n);break;case 12:Ml(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&4&&(n.return===null||n.return.tag!==13)?(r._visibility&=-5,zc(n)):Ml(n);break;default:Ml(n)}}function zc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Lt=l,X_(l,n)}Q_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Gr(8,r,r.return),zc(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,zc(r));break;default:zc(r)}n=n.sibling}}function X_(n,r){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Gr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=n;Lt!==null;){l=Lt;var f=l.sibling,p=l.return;if(B_(l),l===a){Lt=null;break e}if(f!==null){f.return=p,Lt=f;break e}Lt=p}}}function Z1(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(n,r,a,l){return new Z1(n,r,a,l)}function Xd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Qr(n,r){var a=n.alternate;return a===null?(a=Fn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function W_(n,r){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Bc(n,r,a,l,f,p){var T=0;if(l=n,typeof n=="function")Xd(n)&&(T=1);else if(typeof n=="string")T=VA(n,a,nn.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case m:return ia(a.children,f,p,r);case g:T=8,f|=24;break;case E:return n=Fn(12,a,r,f|2),n.elementType=E,n.lanes=p,n;case $:return n=Fn(13,a,r,f),n.elementType=$,n.lanes=p,n;case U:return n=Fn(19,a,r,f),n.elementType=U,n.lanes=p,n;case J:return Z_(a,f,p,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case S:case C:T=10;break e;case A:T=9;break e;case k:T=11;break e;case Q:T=14;break e;case ee:T=16,l=null;break e}T=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=Fn(T,a,r,f),r.elementType=n,r.type=l,r.lanes=p,r}function ia(n,r,a,l){return n=Fn(7,n,l,r),n.lanes=a,n}function Z_(n,r,a,l){n=Fn(22,n,l,r),n.elementType=J,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var p=f._current;if(p===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var T=Pr(p,2);T!==null&&(f._pendingVisibility|=2,ln(T,p,2))}},attach:function(){var p=f._current;if(p===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var T=Pr(p,2);T!==null&&(f._pendingVisibility&=-3,ln(T,p,2))}}};return n.stateNode=f,n}function Wd(n,r,a){return n=Fn(6,n,null,r),n.lanes=a,n}function Zd(n,r,a){return r=Fn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function nr(n){n.flags|=4}function J_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Vv(r)){if(r=Un.current,r!==null&&((Le&4194176)===Le?gi!==null:(Le&62914560)!==Le&&(Le&536870912)===0||r!==gi))throw _l=id,gy;n.flags|=8192}}function Fc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Ar():536870912,n.lanes|=r,io|=r)}function jl(n,r){if(!Fe)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function rt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function J1(n,r,a){var l=r.pendingProps;switch(td(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(r),null;case 1:return rt(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Zi(Ct),ji(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(ml(r)?nr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Xn!==null&&(am(Xn),Xn=null))),rt(r),null;case 26:return a=r.memoizedState,n===null?(nr(r),a!==null?(rt(r),J_(r,a)):(rt(r),r.flags&=-16777217)):a?a!==n.memoizedState?(nr(r),rt(r),J_(r,a)):(rt(r),r.flags&=-16777217):(n.memoizedProps!==l&&nr(r),rt(r),r.flags&=-16777217),null;case 27:wa(r),a=Cn.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&nr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}n=nn.current,ml(r)?my(r):(n=Iv(f,l,a),r.stateNode=n,nr(r))}return rt(r),null;case 5:if(wa(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&nr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}if(n=nn.current,ml(r))my(r);else{switch(f=Jc(Cn.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Mt]=r,n[At]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Ht(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&nr(r)}}return rt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&nr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Cn.current,ml(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=on,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Mt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||bv(n.nodeValue,a)),n||Ks(r)}else n=Jc(n).createTextNode(l),n[Mt]=r,r.stateNode=n}return rt(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=ml(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Mt]=r}else pl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),f=!1}else Xn!==null&&(am(Xn),Xn=null),f=!0;if(!f)return r.flags&256?(Qi(r),r):(Qi(r),null)}if(Qi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Fc(r,r.updateQueue),rt(r),null;case 4:return ji(),n===null&&ym(r.stateNode.containerInfo),rt(r),null;case 10:return Zi(r.type),rt(r),null;case 19:if(ot(Rt),f=r.memoizedState,f===null)return rt(r),null;if(l=(r.flags&128)!==0,p=f.rendering,p===null)if(l)jl(f,!1);else{if(ct!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(p=Sc(n),p!==null){for(r.flags|=128,jl(f,!1),n=p.updateQueue,r.updateQueue=n,Fc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)W_(a,n),a=a.sibling;return Ke(Rt,Rt.current&1|2),r.child}n=n.sibling}f.tail!==null&&cn()>qc&&(r.flags|=128,l=!0,jl(f,!1),r.lanes=4194304)}else{if(!l)if(n=Sc(p),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Fc(r,n),jl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Fe)return rt(r),null}else 2*cn()-f.renderingStartTime>qc&&a!==536870912&&(r.flags|=128,l=!0,jl(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(n=f.last,n!==null?n.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=cn(),r.sibling=null,n=Rt.current,Ke(Rt,l?n&1|2:n&1),r):(rt(r),null);case 22:case 23:return Qi(r),sd(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(rt(r),r.subtreeFlags&6&&(r.flags|=8192)):rt(r),a=r.updateQueue,a!==null&&Fc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ot(Ys),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Zi(Ct),rt(r),null;case 25:return null}throw Error(s(156,r.tag))}function eA(n,r){switch(td(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Zi(Ct),ji(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return wa(r),null;case 13:if(Qi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));pl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ot(Rt),null;case 4:return ji(),null;case 10:return Zi(r.type),null;case 22:case 23:return Qi(r),sd(),n!==null&&ot(Ys),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Zi(Ct),null;case 25:return null;default:return null}}function ev(n,r){switch(td(r),r.tag){case 3:Zi(Ct),ji();break;case 26:case 27:case 5:wa(r);break;case 4:ji();break;case 13:Qi(r);break;case 19:ot(Rt);break;case 10:Zi(r.type);break;case 22:case 23:Qi(r),sd(),n!==null&&ot(Ys);break;case 24:Zi(Ct)}}var tA={getCacheForType:function(n){var r=Xt(Ct),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},nA=typeof WeakMap=="function"?WeakMap:Map,st=0,Je=null,De=null,Le=0,et=0,bn=null,ir=!1,no=!1,Jd=!1,rr=0,ct=0,Yr=0,ra=0,em=0,qn=0,io=0,Pl=null,_i=null,tm=!1,nm=0,qc=1/0,Hc=null,Xr=null,Gc=!1,sa=null,Vl=0,im=0,rm=null,Ll=0,sm=null;function An(){if((st&2)!==0&&Le!==0)return Le&-Le;if(R.T!==null){var n=Qa;return n!==0?n:dm()}return Wu()}function tv(){qn===0&&(qn=(Le&536870912)===0||Fe?Xo():536870912);var n=Un.current;return n!==null&&(n.flags|=32),qn}function ln(n,r,a){(n===Je&&et===2||n.cancelPendingCommit!==null)&&(ro(n,0),sr(n,Le,qn,!1)),ft(n,a),((st&2)===0||n!==Je)&&(n===Je&&((st&2)===0&&(ra|=a),ct===4&&sr(n,Le,qn,!1)),vi(n))}function nv(n,r,a){if((st&6)!==0)throw Error(s(327));var l=!a&&(r&60)===0&&(r&n.expiredLanes)===0||br(n,r),f=l?sA(n,r):um(n,r,!0),p=l;do{if(f===0){no&&!l&&sr(n,r,0,!1);break}else if(f===6)sr(n,r,0,!ir);else{if(a=n.current.alternate,p&&!iA(a)){f=um(n,r,!1),p=!1;continue}if(f===2){if(p=r,n.errorRecoveryDisabledLanes&p)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var w=n;f=Pl;var N=w.current.memoizedState.isDehydrated;if(N&&(ro(w,T).flags|=256),T=um(w,T,!1),T!==2){if(Jd&&!N){w.errorRecoveryDisabledLanes|=p,ra|=p,f=4;break e}p=_i,_i=f,p!==null&&am(p)}f=T}if(p=!1,f!==2)continue}}if(f===1){ro(n,0),sr(n,r,0,!0);break}e:{switch(l=n,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){sr(l,r,qn,!ir);break e}break;case 2:_i=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(p=nm+300-cn(),10<p)){if(sr(l,r,qn,!ir),In(l,0)!==0)break e;l.timeoutHandle=xv(iv.bind(null,l,a,_i,Hc,tm,r,qn,ra,io,ir,2,-0,0),p);break e}iv(l,a,_i,Hc,tm,r,qn,ra,io,ir,0,-0,0)}}break}while(!0);vi(n)}function am(n){_i===null?_i=n:_i.push.apply(_i,n)}function iv(n,r,a,l,f,p,T,w,N,L,Y,te,H){var K=r.subtreeFlags;if((K&8192||(K&16785408)===16785408)&&(Hl={stylesheets:null,count:0,unsuspend:LA},K_(r),r=zA(),r!==null)){n.cancelPendingCommit=r(cv.bind(null,n,a,l,f,T,w,N,1,te,H)),sr(n,p,T,!L);return}cv(n,a,l,f,T,w,N,Y,te,H)}function iA(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],p=f.getSnapshot;f=f.value;try{if(!En(p(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function sr(n,r,a,l){r&=~em,r&=~ra,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var p=31-rn(f),T=1<<p;l[p]=-1,f&=~T}a!==0&&Sr(n,a,r)}function $c(){return(st&6)===0?(Ul(0),!1):!0}function om(){if(De!==null){if(et===0)var n=De.return;else n=De,Wi=ea=null,dd(n),$a=null,vl=0,n=De;for(;n!==null;)ev(n.alternate,n),n=n.return;De=null}}function ro(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,wA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),om(),Je=n,De=a=Qr(n.current,null),Le=r,et=0,bn=null,ir=!1,no=br(n,r),Jd=!1,io=qn=em=ra=Yr=ct=0,_i=Pl=null,tm=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-rn(l),p=1<<f;r|=n[f],l&=~p}return rr=r,gc(),a}function rv(n,r){Ce=null,R.H=yi,r===yl?(r=vy(),et=3):r===gy?(r=vy(),et=4):et=r===y_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,bn=r,De===null&&(ct=1,Pc(n,Pn(r,n.current)))}function sv(){var n=R.H;return R.H=yi,n===null?yi:n}function av(){var n=R.A;return R.A=tA,n}function lm(){ct=4,ir||(Le&4194176)!==Le&&Un.current!==null||(no=!0),(Yr&134217727)===0&&(ra&134217727)===0||Je===null||sr(Je,Le,qn,!1)}function um(n,r,a){var l=st;st|=2;var f=sv(),p=av();(Je!==n||Le!==r)&&(Hc=null,ro(n,r)),r=!1;var T=ct;e:do try{if(et!==0&&De!==null){var w=De,N=bn;switch(et){case 8:om(),T=6;break e;case 3:case 2:case 6:Un.current===null&&(r=!0);var L=et;if(et=0,bn=null,so(n,w,N,L),a&&no){T=0;break e}break;default:L=et,et=0,bn=null,so(n,w,N,L)}}rA(),T=ct;break}catch(Y){rv(n,Y)}while(!0);return r&&n.shellSuspendCounter++,Wi=ea=null,st=l,R.H=f,R.A=p,De===null&&(Je=null,Le=0,gc()),T}function rA(){for(;De!==null;)ov(De)}function sA(n,r){var a=st;st|=2;var l=sv(),f=av();Je!==n||Le!==r?(Hc=null,qc=cn()+500,ro(n,r)):no=br(n,r);e:do try{if(et!==0&&De!==null){r=De;var p=bn;t:switch(et){case 1:et=0,bn=null,so(n,r,p,1);break;case 2:if(yy(p)){et=0,bn=null,lv(r);break}r=function(){et===2&&Je===n&&(et=7),vi(n)},p.then(r,r);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:yy(p)?(et=0,bn=null,lv(r)):(et=0,bn=null,so(n,r,p,7));break;case 5:var T=null;switch(De.tag){case 26:T=De.memoizedState;case 5:case 27:var w=De;if(!T||Vv(T)){et=0,bn=null;var N=w.sibling;if(N!==null)De=N;else{var L=w.return;L!==null?(De=L,Kc(L)):De=null}break t}}et=0,bn=null,so(n,r,p,5);break;case 6:et=0,bn=null,so(n,r,p,6);break;case 8:om(),ct=6;break e;default:throw Error(s(462))}}aA();break}catch(Y){rv(n,Y)}while(!0);return Wi=ea=null,R.H=l,R.A=f,st=a,De!==null?0:(Je=null,Le=0,gc(),ct)}function aA(){for(;De!==null&&!Vf();)ov(De)}function ov(n){var r=I_(n.alternate,n,rr);n.memoizedProps=n.pendingProps,r===null?Kc(n):De=r}function lv(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=b_(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=b_(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:dd(r);default:ev(a,r),r=De=W_(r,rr),r=I_(a,r,rr)}n.memoizedProps=n.pendingProps,r===null?Kc(n):De=r}function so(n,r,a,l){Wi=ea=null,dd(r),$a=null,vl=0;var f=r.return;try{if(Q1(n,f,r,a,Le)){ct=1,Pc(n,Pn(a,n.current)),De=null;return}}catch(p){if(f!==null)throw De=f,p;ct=1,Pc(n,Pn(a,n.current)),De=null;return}r.flags&32768?(Fe||l===1?n=!0:no||(Le&536870912)!==0?n=!1:(ir=n=!0,(l===2||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),uv(r,n)):Kc(r)}function Kc(n){var r=n;do{if((r.flags&32768)!==0){uv(r,ir);return}n=r.return;var a=J1(r.alternate,r,rr);if(a!==null){De=a;return}if(r=r.sibling,r!==null){De=r;return}De=r=n}while(r!==null);ct===0&&(ct=5)}function uv(n,r){do{var a=eA(n.alternate,n);if(a!==null){a.flags&=32767,De=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){De=n;return}De=n=a}while(n!==null);ct=6,De=null}function cv(n,r,a,l,f,p,T,w,N,L){var Y=R.T,te=oe.p;try{oe.p=2,R.T=null,oA(n,r,a,l,te,f,p,T,w,N,L)}finally{R.T=Y,oe.p=te}}function oA(n,r,a,l,f,p,T,w){do ao();while(sa!==null);if((st&6)!==0)throw Error(s(327));var N=n.finishedWork;if(l=n.finishedLanes,N===null)return null;if(n.finishedWork=null,n.finishedLanes=0,N===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var L=N.lanes|N.childLanes;if(L|=Zf,Yu(n,l,L,p,T,w),n===Je&&(De=Je=null,Le=0),(N.subtreeFlags&10256)===0&&(N.flags&10256)===0||Gc||(Gc=!0,im=L,rm=a,hA(Pi,function(){return ao(),null})),a=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||a?(a=R.T,R.T=null,p=oe.p,oe.p=2,T=st,st|=4,X1(n,N),H_(N,n),D1(Tm,n.containerInfo),sh=!!Em,Tm=Em=null,n.current=N,z_(n,N.alternate,N),$o(),st=T,oe.p=p,R.T=a):n.current=N,Gc?(Gc=!1,sa=n,Vl=l):hv(n,L),L=n.pendingLanes,L===0&&(Xr=null),Qo(N.stateNode),vi(n),r!==null)for(f=n.onRecoverableError,N=0;N<r.length;N++)L=r[N],f(L.value,{componentStack:L.stack});return(Vl&3)!==0&&ao(),L=n.pendingLanes,(l&4194218)!==0&&(L&42)!==0?n===sm?Ll++:(Ll=0,sm=n):Ll=0,Ul(0),null}function hv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Tl(r)))}function ao(){if(sa!==null){var n=sa,r=im;im=0;var a=Xu(Vl),l=R.T,f=oe.p;try{if(oe.p=32>a?32:a,R.T=null,sa===null)var p=!1;else{a=rm,rm=null;var T=sa,w=Vl;if(sa=null,Vl=0,(st&6)!==0)throw Error(s(331));var N=st;if(st|=4,Y_(T.current),$_(T,T.current,w,a),st=N,Ul(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Tr,T)}catch{}p=!0}return p}finally{oe.p=f,R.T=l,hv(n,r)}}return!1}function fv(n,r,a){r=Pn(a,r),r=Rd(n.stateNode,r,2),n=Hr(n,r,2),n!==null&&(ft(n,2),vi(n))}function We(n,r,a){if(n.tag===3)fv(n,n,a);else for(;r!==null;){if(r.tag===3){fv(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xr===null||!Xr.has(l))){n=Pn(a,n),a=p_(2),l=Hr(r,a,2),l!==null&&(g_(a,l,r,n),ft(l,2),vi(l));break}}r=r.return}}function cm(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new nA;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Jd=!0,f.add(a),n=lA.bind(null,n,r,a),r.then(n,n))}function lA(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Je===n&&(Le&a)===a&&(ct===4||ct===3&&(Le&62914560)===Le&&300>cn()-nm?(st&2)===0&&ro(n,0):em|=a,io===Le&&(io=0)),vi(n)}function dv(n,r){r===0&&(r=Ar()),n=Pr(n,r),n!==null&&(ft(n,r),vi(n))}function uA(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),dv(n,a)}function cA(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),dv(n,a)}function hA(n,r){return Is(n,r)}var Qc=null,oo=null,hm=!1,Yc=!1,fm=!1,aa=0;function vi(n){n!==oo&&n.next===null&&(oo===null?Qc=oo=n:oo=oo.next=n),Yc=!0,hm||(hm=!0,dA(fA))}function Ul(n,r){if(!fm&&Yc){fm=!0;do for(var a=!1,l=Qc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var T=l.suspendedLanes,w=l.pingedLanes;p=(1<<31-rn(42|n)+1)-1,p&=f&~(T&~w),p=p&201326677?p&201326677|1:p?p|2:0}p!==0&&(a=!0,gv(l,p))}else p=Le,p=In(l,l===Je?p:0),(p&3)===0||br(l,p)||(a=!0,gv(l,p));l=l.next}while(a);fm=!1}}function fA(){Yc=hm=!1;var n=0;aa!==0&&(TA()&&(n=aa),aa=0);for(var r=cn(),a=null,l=Qc;l!==null;){var f=l.next,p=mv(l,r);p===0?(l.next=null,a===null?Qc=f:a.next=f,f===null&&(oo=a)):(a=l,(n!==0||(p&3)!==0)&&(Yc=!0)),l=f}Ul(n)}function mv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var T=31-rn(p),w=1<<T,N=f[T];N===-1?((w&a)===0||(w&l)!==0)&&(f[T]=Sa(w,r)):N<=r&&(n.expiredLanes|=w),p&=~w}if(r=Je,a=Le,a=In(n,n===r?a:0),l=n.callbackNode,a===0||n===r&&et===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Aa(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||br(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&Aa(l),Xu(a)){case 2:case 8:a=kt;break;case 32:a=Pi;break;case 268435456:a=Ko;break;default:a=Pi}return l=pv.bind(null,n),a=Is(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&Aa(l),n.callbackPriority=2,n.callbackNode=null,2}function pv(n,r){var a=n.callbackNode;if(ao()&&n.callbackNode!==a)return null;var l=Le;return l=In(n,n===Je?l:0),l===0?null:(nv(n,l,r),mv(n,cn()),n.callbackNode!=null&&n.callbackNode===a?pv.bind(null,n):null)}function gv(n,r){if(ao())return null;nv(n,r,!0)}function dA(n){bA(function(){(st&6)!==0?Is(bt,n):n()})}function dm(){return aa===0&&(aa=Xo()),aa}function yv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:li(""+n)}function _v(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function mA(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var p=yv((f[At]||null).action),T=l.submitter;T&&(r=(r=T[At]||null)?yv(r.formAction):T.getAttribute("formAction"),r!==null&&(p=r,T=null));var w=new Oa("action","action",null,l,f);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(aa!==0){var N=T?_v(f,T):new FormData(f);wd(a,{pending:!0,data:N,method:f.method,action:p},null,N)}}else typeof p=="function"&&(w.preventDefault(),N=T?_v(f,T):new FormData(f),wd(a,{pending:!0,data:N,method:f.method,action:p},p,N))},currentTarget:f}]})}}for(var mm=0;mm<cy.length;mm++){var pm=cy[mm],pA=pm.toLowerCase(),gA=pm[0].toUpperCase()+pm.slice(1);Yn(pA,"on"+gA)}Yn(sy,"onAnimationEnd"),Yn(ay,"onAnimationIteration"),Yn(oy,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(k1,"onTransitionRun"),Yn(M1,"onTransitionStart"),Yn(j1,"onTransitionCancel"),Yn(ly,"onTransitionEnd"),hn("onMouseEnter",["mouseout","mouseover"]),hn("onMouseLeave",["mouseout","mouseover"]),hn("onPointerEnter",["pointerout","pointerover"]),hn("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function vv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var p=void 0;if(r)for(var T=l.length-1;0<=T;T--){var w=l[T],N=w.instance,L=w.currentTarget;if(w=w.listener,N!==p&&f.isPropagationStopped())break e;p=w,f.currentTarget=L;try{p(f)}catch(Y){jc(Y)}f.currentTarget=null,p=N}else for(T=0;T<l.length;T++){if(w=l[T],N=w.instance,L=w.currentTarget,w=w.listener,N!==p&&f.isPropagationStopped())break e;p=w,f.currentTarget=L;try{p(f)}catch(Y){jc(Y)}f.currentTarget=null,p=N}}}}function Me(n,r){var a=r[Ds];a===void 0&&(a=r[Ds]=new Set);var l=n+"__bubble";a.has(l)||(Ev(r,n,2,!1),a.add(l))}function gm(n,r,a){var l=0;r&&(l|=4),Ev(a,n,l,r)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function ym(n){if(!n[Xc]){n[Xc]=!0,Zo.forEach(function(a){a!=="selectionchange"&&(yA.has(a)||gm(a,!1,n),gm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Xc]||(r[Xc]=!0,gm("selectionchange",!1,r))}}function Ev(n,r,a,l){switch(qv(r)){case 2:var f=qA;break;case 8:f=HA;break;default:f=Nm}a=f.bind(null,r,a,n),f=void 0,!kn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function _m(n,r,a,l,f){var p=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var w=l.stateNode.containerInfo;if(w===f||w.nodeType===8&&w.parentNode===f)break;if(T===4)for(T=l.return;T!==null;){var N=T.tag;if((N===3||N===4)&&(N=T.stateNode.containerInfo,N===f||N.nodeType===8&&N.parentNode===f))return;T=T.return}for(;w!==null;){if(T=Qn(w),T===null)return;if(N=T.tag,N===5||N===6||N===26||N===27){l=p=T;continue e}w=w.parentNode}}l=l.return}tc(function(){var L=p,Y=Da(a),te=[];e:{var H=uy.get(n);if(H!==void 0){var K=Oa,fe=n;switch(n){case"keypress":if(ci(a)===0)break e;case"keydown":case"keyup":K=La;break;case"focusin":fe="focus",K=ja;break;case"focusout":fe="blur",K=ja;break;case"beforeblur":case"afterblur":K=ja;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Hf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=uc;break;case sy:case ay:case oy:K=Pa;break;case ly:K=hc;break;case"scroll":case"scrollend":K=nc;break;case"wheel":K=Ua;break;case"copy":case"cut":case"paste":K=Va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=cl;break;case"toggle":case"beforetoggle":K=dc}var be=(r&4)!==0,ht=!be&&(n==="scroll"||n==="scrollend"),z=be?H!==null?H+"Capture":null:H;be=[];for(var P=L,q;P!==null;){var W=P;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||z===null||(W=Ps(P,z),W!=null&&be.push(Bl(P,W,q))),ht)break;P=P.return}0<be.length&&(H=new K(H,fe,null,a,Y),te.push({event:H,listeners:be}))}}if((r&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",H&&a!==On&&(fe=a.relatedTarget||a.fromElement)&&(Qn(fe)||fe[Vi]))break e;if((K||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,K?(fe=a.relatedTarget||a.toElement,K=L,fe=fe?Qn(fe):null,fe!==null&&(ht=pe(fe),be=fe.tag,fe!==ht||be!==5&&be!==27&&be!==6)&&(fe=null)):(K=null,fe=L),K!==fe)){if(be=Mn,W="onMouseLeave",z="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(be=cl,W="onPointerLeave",z="onPointerEnter",P="pointer"),ht=K==null?H:Ir(K),q=fe==null?H:Ir(fe),H=new be(W,P+"leave",K,a,Y),H.target=ht,H.relatedTarget=q,W=null,Qn(Y)===L&&(be=new be(z,P+"enter",fe,a,Y),be.target=q,be.relatedTarget=ht,W=be),ht=W,K&&fe)t:{for(be=K,z=fe,P=0,q=be;q;q=lo(q))P++;for(q=0,W=z;W;W=lo(W))q++;for(;0<P-q;)be=lo(be),P--;for(;0<q-P;)z=lo(z),q--;for(;P--;){if(be===z||z!==null&&be===z.alternate)break t;be=lo(be),z=lo(z)}be=null}else be=null;K!==null&&Tv(te,H,K,be,!1),fe!==null&&ht!==null&&Tv(te,ht,fe,be,!0)}}e:{if(H=L?Ir(L):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var ce=Qg;else if(xt(H))if(Yg)ce=I1;else{ce=R1;var Ne=x1}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?L&&il(L.elementType)&&(ce=Qg):ce=C1;if(ce&&(ce=ce(n,L))){Gi(te,ce,a,Y);break e}Ne&&Ne(n,H,L),n==="focusout"&&L&&H.type==="number"&&L.memoizedProps.value!=null&&Na(H,"number",H.value)}switch(Ne=L?Ir(L):window,n){case"focusin":(xt(Ne)||Ne.contentEditable==="true")&&(za=Ne,Yf=L,dl=null);break;case"focusout":dl=Yf=za=null;break;case"mousedown":Xf=!0;break;case"contextmenu":case"mouseup":case"dragend":Xf=!1,iy(te,a,Y);break;case"selectionchange":if(O1)break;case"keydown":case"keyup":iy(te,a,Y)}var me;if(di)e:{switch(n){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Pe?G(n,a)&&(ye="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(v&&a.locale!=="ko"&&(Pe||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Pe&&(me=sl()):(ui=Y,jr="value"in ui?ui.value:ui.textContent,Pe=!0)),Ne=Wc(L,ye),0<Ne.length&&(ye=new ll(ye,n,null,a,Y),te.push({event:ye,listeners:Ne}),me?ye.data=me:(me=ie(a),me!==null&&(ye.data=me)))),(me=_?St(n,a):Ve(n,a))&&(ye=Wc(L,"onBeforeInput"),0<ye.length&&(Ne=new ll("onBeforeInput","beforeinput",null,a,Y),te.push({event:Ne,listeners:ye}),Ne.data=me)),mA(te,n,L,a,Y)}vv(te,r)})}function Bl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Wc(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,p=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Ps(n,a),f!=null&&l.unshift(Bl(n,f,p)),f=Ps(n,r),f!=null&&l.push(Bl(n,f,p))),n=n.return}return l}function lo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Tv(n,r,a,l,f){for(var p=r._reactName,T=[];a!==null&&a!==l;){var w=a,N=w.alternate,L=w.stateNode;if(w=w.tag,N!==null&&N===l)break;w!==5&&w!==26&&w!==27||L===null||(N=L,f?(L=Ps(a,p),L!=null&&T.unshift(Bl(a,L,N))):f||(L=Ps(a,p),L!=null&&T.push(Bl(a,L,N)))),a=a.return}T.length!==0&&n.push({event:r,listeners:T})}var _A=/\r\n?/g,vA=/\u0000|\uFFFD/g;function wv(n){return(typeof n=="string"?n:""+n).replace(_A,`
`).replace(vA,"")}function bv(n,r){return r=wv(r),wv(n)===r}function Zc(){}function Ye(n,r,a,l,f,p){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Dn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Dn(n,""+l);break;case"className":Or(n,"class",l);break;case"tabIndex":Or(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Or(n,a,l);break;case"style":ec(n,l,p);break;case"data":if(r!=="object"){Or(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=li(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(r!=="input"&&Ye(n,r,"name",f.name,f,null),Ye(n,r,"formEncType",f.formEncType,f,null),Ye(n,r,"formMethod",f.formMethod,f,null),Ye(n,r,"formTarget",f.formTarget,f,null)):(Ye(n,r,"encType",f.encType,f,null),Ye(n,r,"method",f.method,f,null),Ye(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=li(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Zc);break;case"onScroll":l!=null&&Me("scroll",n);break;case"onScrollEnd":l!=null&&Me("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=li(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Me("beforetoggle",n),Me("toggle",n),Dr(n,"popover",l);break;case"xlinkActuate":Nn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Dr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ff.get(a)||a,Dr(n,a,l))}}function vm(n,r,a,l,f,p){switch(a){case"style":ec(n,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Dn(n,l):(typeof l=="number"||typeof l=="bigint")&&Dn(n,""+l);break;case"onScroll":l!=null&&Me("scroll",n);break;case"onScrollEnd":l!=null&&Me("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Zc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ca.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),p=n[At]||null,p=p!=null?p[a]:null,typeof p=="function"&&n.removeEventListener(r,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Dr(n,a,l)}}}function Ht(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",n),Me("load",n);var l=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var T=a[p];if(T!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(n,r,p,T,a,null)}}f&&Ye(n,r,"srcSet",a.srcSet,a,null),l&&Ye(n,r,"src",a.src,a,null);return;case"input":Me("invalid",n);var w=p=T=f=null,N=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":T=Y;break;case"checked":N=Y;break;case"defaultChecked":L=Y;break;case"value":p=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Ye(n,r,l,Y,a,null)}}Ms(n,p,w,N,L,T,f,!1),ks(n);return;case"select":Me("invalid",n),l=T=p=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":p=w;break;case"defaultValue":T=w;break;case"multiple":l=w;default:Ye(n,r,f,w,a,null)}r=p,a=T,n.multiple=!!l,r!=null?Be(n,!!l,r,!1):a!=null&&Be(n,!!l,a,!0);return;case"textarea":Me("invalid",n),p=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(w=a[T],w!=null))switch(T){case"value":l=w;break;case"defaultValue":f=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Ye(n,r,T,w,a,null)}Mr(n,l,f,p),ks(n);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(n,r,N,l,a,null)}return;case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":Me("load",n);break;case"video":case"audio":for(l=0;l<zl.length;l++)Me(zl[l],n);break;case"image":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"embed":case"source":case"link":Me("error",n),Me("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(n,r,L,l,a,null)}return;default:if(il(r)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&vm(n,r,Y,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&Ye(n,r,w,l,a,null))}function EA(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,T=null,w=null,N=null,L=null,Y=null;for(K in a){var te=a[K];if(a.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=te;default:l.hasOwnProperty(K)||Ye(n,r,K,null,l,te)}}for(var H in l){var K=l[H];if(te=a[H],l.hasOwnProperty(H)&&(K!=null||te!=null))switch(H){case"type":p=K;break;case"name":f=K;break;case"checked":L=K;break;case"defaultChecked":Y=K;break;case"value":T=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==te&&Ye(n,r,H,K,l,te)}}kr(n,T,w,N,L,Y,p,f);return;case"select":K=T=w=H=null;for(p in a)if(N=a[p],a.hasOwnProperty(p)&&N!=null)switch(p){case"value":break;case"multiple":K=N;default:l.hasOwnProperty(p)||Ye(n,r,p,null,l,N)}for(f in l)if(p=l[f],N=a[f],l.hasOwnProperty(f)&&(p!=null||N!=null))switch(f){case"value":H=p;break;case"defaultValue":w=p;break;case"multiple":T=p;default:p!==N&&Ye(n,r,f,p,l,N)}r=w,a=T,l=K,H!=null?Be(n,!!a,H,!1):!!l!=!!a&&(r!=null?Be(n,!!a,r,!0):Be(n,!!a,a?[]:"",!1));return;case"textarea":K=H=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ye(n,r,w,null,l,f)}for(T in l)if(f=l[T],p=a[T],l.hasOwnProperty(T)&&(f!=null||p!=null))switch(T){case"value":H=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&Ye(n,r,T,f,l,p)}js(n,H,K);return;case"option":for(var fe in a)if(H=a[fe],a.hasOwnProperty(fe)&&H!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":n.selected=!1;break;default:Ye(n,r,fe,null,l,H)}for(N in l)if(H=l[N],K=a[N],l.hasOwnProperty(N)&&H!==K&&(H!=null||K!=null))switch(N){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ye(n,r,N,H,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)H=a[be],a.hasOwnProperty(be)&&H!=null&&!l.hasOwnProperty(be)&&Ye(n,r,be,null,l,H);for(L in l)if(H=l[L],K=a[L],l.hasOwnProperty(L)&&H!==K&&(H!=null||K!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:Ye(n,r,L,H,l,K)}return;default:if(il(r)){for(var ht in a)H=a[ht],a.hasOwnProperty(ht)&&H!==void 0&&!l.hasOwnProperty(ht)&&vm(n,r,ht,void 0,l,H);for(Y in l)H=l[Y],K=a[Y],!l.hasOwnProperty(Y)||H===K||H===void 0&&K===void 0||vm(n,r,Y,H,l,K);return}}for(var z in a)H=a[z],a.hasOwnProperty(z)&&H!=null&&!l.hasOwnProperty(z)&&Ye(n,r,z,null,l,H);for(te in l)H=l[te],K=a[te],!l.hasOwnProperty(te)||H===K||H==null&&K==null||Ye(n,r,te,H,l,K)}var Em=null,Tm=null;function Jc(n){return n.nodeType===9?n:n.ownerDocument}function Av(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function wm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var bm=null;function TA(){var n=window.event;return n&&n.type==="popstate"?n===bm?!1:(bm=n,!0):(bm=null,!1)}var xv=typeof setTimeout=="function"?setTimeout:void 0,wA=typeof clearTimeout=="function"?clearTimeout:void 0,Rv=typeof Promise=="function"?Promise:void 0,bA=typeof queueMicrotask=="function"?queueMicrotask:typeof Rv<"u"?function(n){return Rv.resolve(null).then(n).catch(AA)}:xv;function AA(n){setTimeout(function(){throw n})}function Am(n,r){var a=r,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(l===0){n.removeChild(f),Yl(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=f}while(a);Yl(r)}function Sm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sm(a),Os(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function SA(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Cr])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Zn(n.nextSibling),n===null)break}return null}function xA(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Zn(n.nextSibling),n===null))return null;return n}function Zn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}function Cv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function Iv(n,r,a){switch(r=Jc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var Hn=new Map,Nv=new Set;function eh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var ar=oe.d;oe.d={f:RA,r:CA,D:IA,C:NA,L:DA,m:OA,X:MA,S:kA,M:jA};function RA(){var n=ar.f(),r=$c();return n||r}function CA(n){var r=Li(n);r!==null&&r.tag===5&&r.type==="form"?i_(r):ar.r(n)}var uo=typeof document>"u"?null:document;function Dv(n,r,a){var l=uo;if(l&&typeof r=="string"&&r){var f=lt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Nv.has(f)||(Nv.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ht(r,"link",n),it(r),l.head.appendChild(r)))}}function IA(n){ar.D(n),Dv("dns-prefetch",n,null)}function NA(n,r){ar.C(n,r),Dv("preconnect",n,r)}function DA(n,r,a){ar.L(n,r,a);var l=uo;if(l&&n&&r){var f='link[rel="preload"][as="'+lt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+lt(a.imageSizes)+'"]')):f+='[href="'+lt(n)+'"]';var p=f;switch(r){case"style":p=co(n);break;case"script":p=ho(n)}Hn.has(p)||(n=D({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Hn.set(p,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(Fl(p))||r==="script"&&l.querySelector(ql(p))||(r=l.createElement("link"),Ht(r,"link",n),it(r),l.head.appendChild(r)))}}function OA(n,r){ar.m(n,r);var a=uo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+lt(l)+'"][href="'+lt(n)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ho(n)}if(!Hn.has(p)&&(n=D({rel:"modulepreload",href:n},r),Hn.set(p,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ql(p)))return}l=a.createElement("link"),Ht(l,"link",n),it(l),a.head.appendChild(l)}}}function kA(n,r,a){ar.S(n,r,a);var l=uo;if(l&&n){var f=Nr(l).hoistableStyles,p=co(n);r=r||"default";var T=f.get(p);if(!T){var w={loading:0,preload:null};if(T=l.querySelector(Fl(p)))w.loading=5;else{n=D({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Hn.get(p))&&xm(n,a);var N=T=l.createElement("link");it(N),Ht(N,"link",n),N._p=new Promise(function(L,Y){N.onload=L,N.onerror=Y}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,th(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:w},f.set(p,T)}}}function MA(n,r){ar.X(n,r);var a=uo;if(a&&n){var l=Nr(a).hoistableScripts,f=ho(n),p=l.get(f);p||(p=a.querySelector(ql(f)),p||(n=D({src:n,async:!0},r),(r=Hn.get(f))&&Rm(n,r),p=a.createElement("script"),it(p),Ht(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function jA(n,r){ar.M(n,r);var a=uo;if(a&&n){var l=Nr(a).hoistableScripts,f=ho(n),p=l.get(f);p||(p=a.querySelector(ql(f)),p||(n=D({src:n,async:!0,type:"module"},r),(r=Hn.get(f))&&Rm(n,r),p=a.createElement("script"),it(p),Ht(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function Ov(n,r,a,l){var f=(f=Cn.current)?eh(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=co(a.href),a=Nr(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=co(a.href);var p=Nr(f).hoistableStyles,T=p.get(n);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,T),(p=f.querySelector(Fl(n)))&&!p._p&&(T.instance=p,T.state.loading=5),Hn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(n,a),p||PA(f,n,a,T.state))),r&&l===null)throw Error(s(528,""));return T}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ho(a),a=Nr(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function co(n){return'href="'+lt(n)+'"'}function Fl(n){return'link[rel="stylesheet"]['+n+"]"}function kv(n){return D({},n,{"data-precedence":n.precedence,precedence:null})}function PA(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ht(r,"link",a),it(r),n.head.appendChild(r))}function ho(n){return'[src="'+lt(n)+'"]'}function ql(n){return"script[async]"+n}function Mv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+lt(a.href)+'"]');if(l)return r.instance=l,it(l),l;var f=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),it(l),Ht(l,"style",f),th(l,a.precedence,n),r.instance=l;case"stylesheet":f=co(a.href);var p=n.querySelector(Fl(f));if(p)return r.state.loading|=4,r.instance=p,it(p),p;l=kv(a),(f=Hn.get(f))&&xm(l,f),p=(n.ownerDocument||n).createElement("link"),it(p);var T=p;return T._p=new Promise(function(w,N){T.onload=w,T.onerror=N}),Ht(p,"link",l),r.state.loading|=4,th(p,a.precedence,n),r.instance=p;case"script":return p=ho(a.src),(f=n.querySelector(ql(p)))?(r.instance=f,it(f),f):(l=a,(f=Hn.get(p))&&(l=D({},a),Rm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),it(f),Ht(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,th(l,a.precedence,n));return r.instance}function th(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,T=0;T<l.length;T++){var w=l[T];if(w.dataset.precedence===r)p=w;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function xm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Rm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var nh=null;function jv(n,r,a){if(nh===null){var l=new Map,f=nh=new Map;f.set(a,l)}else f=nh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var p=a[f];if(!(p[Cr]||p[Mt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(r)||"";T=n+T;var w=l.get(T);w?w.push(p):l.set(T,[p])}}return l}function Pv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function VA(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Vv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Hl=null;function LA(){}function UA(n,r,a){if(Hl===null)throw Error(s(475));var l=Hl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=co(a.href),p=n.querySelector(Fl(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=ih.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=p,it(p);return}p=n.ownerDocument||n,a=kv(a),(f=Hn.get(f))&&xm(a,f),p=p.createElement("link"),it(p);var T=p;T._p=new Promise(function(w,N){T.onload=w,T.onerror=N}),Ht(p,"link",a),r.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=ih.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function zA(){if(Hl===null)throw Error(s(475));var n=Hl;return n.stylesheets&&n.count===0&&Cm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Cm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function ih(){if(this.count--,this.count===0){if(this.stylesheets)Cm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var rh=null;function Cm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,rh=new Map,r.forEach(BA,n),rh=null,ih.call(n))}function BA(n,r){if(!(r.state.loading&4)){var a=rh.get(n);if(a)var l=a.get(null);else{a=new Map,rh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var T=f[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=r.instance,T=f.getAttribute("data-precedence"),p=a.get(T)||l,p===l&&a.set(null,f),a.set(T,f),this.count++,l=ih.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Gl={$$typeof:C,Provider:null,Consumer:null,_currentValue:Re,_currentValue2:Re,_threadCount:0};function FA(n,r,a,l,f,p,T,w){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xa(0),this.hiddenUpdates=xa(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Lv(n,r,a,l,f,p,T,w,N,L,Y,te){return n=new FA(n,r,a,T,w,N,L,te),r=1,p===!0&&(r|=24),p=Fn(3,null,null,r),n.current=p,p.stateNode=n,r=ad(),r.refCount++,n.pooledCache=r,r.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:r},zd(p),n}function Uv(n){return n?(n=qa,n):qa}function zv(n,r,a,l,f,p){f=Uv(f),l.context===null?l.context=f:l.pendingContext=f,l=qr(r),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=Hr(n,l,r),a!==null&&(ln(a,n,r),Cl(a,n,r))}function Bv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Im(n,r){Bv(n,r),(n=n.alternate)&&Bv(n,r)}function Fv(n){if(n.tag===13){var r=Pr(n,67108864);r!==null&&ln(r,n,67108864),Im(n,67108864)}}var sh=!0;function qA(n,r,a,l){var f=R.T;R.T=null;var p=oe.p;try{oe.p=2,Nm(n,r,a,l)}finally{oe.p=p,R.T=f}}function HA(n,r,a,l){var f=R.T;R.T=null;var p=oe.p;try{oe.p=8,Nm(n,r,a,l)}finally{oe.p=p,R.T=f}}function Nm(n,r,a,l){if(sh){var f=Dm(l);if(f===null)_m(n,r,l,ah,a),Hv(n,l);else if($A(f,n,r,a,l))l.stopPropagation();else if(Hv(n,l),r&4&&-1<GA.indexOf(n)){for(;f!==null;){var p=Li(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Kn(p.pendingLanes);if(T!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var N=1<<31-rn(T);w.entanglements[1]|=N,T&=~N}vi(p),(st&6)===0&&(qc=cn()+500,Ul(0))}}break;case 13:w=Pr(p,2),w!==null&&ln(w,p,2),$c(),Im(p,2)}if(p=Dm(l),p===null&&_m(n,r,l,ah,a),p===f)break;f=p}f!==null&&l.stopPropagation()}else _m(n,r,l,null,a)}}function Dm(n){return n=Da(n),Om(n)}var ah=null;function Om(n){if(ah=null,n=Qn(n),n!==null){var r=pe(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=He(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return ah=n,null}function qv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gu()){case bt:return 2;case kt:return 8;case Pi:case $u:return 32;case Ko:return 268435456;default:return 32}default:return 32}}var km=!1,Wr=null,Zr=null,Jr=null,$l=new Map,Kl=new Map,es=[],GA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hv(n,r){switch(n){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":$l.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(r.pointerId)}}function Ql(n,r,a,l,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},r!==null&&(r=Li(r),r!==null&&Fv(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function $A(n,r,a,l,f){switch(r){case"focusin":return Wr=Ql(Wr,n,r,a,l,f),!0;case"dragenter":return Zr=Ql(Zr,n,r,a,l,f),!0;case"mouseover":return Jr=Ql(Jr,n,r,a,l,f),!0;case"pointerover":var p=f.pointerId;return $l.set(p,Ql($l.get(p)||null,n,r,a,l,f)),!0;case"gotpointercapture":return p=f.pointerId,Kl.set(p,Ql(Kl.get(p)||null,n,r,a,l,f)),!0}return!1}function Gv(n){var r=Qn(n.target);if(r!==null){var a=pe(r);if(a!==null){if(r=a.tag,r===13){if(r=He(a),r!==null){n.blockedOn=r,Rr(n.priority,function(){if(a.tag===13){var l=An(),f=Pr(a,l);f!==null&&ln(f,a,l),Im(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function oh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Dm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);On=l,a.target.dispatchEvent(l),On=null}else return r=Li(a),r!==null&&Fv(r),n.blockedOn=a,!1;r.shift()}return!0}function $v(n,r,a){oh(n)&&a.delete(r)}function KA(){km=!1,Wr!==null&&oh(Wr)&&(Wr=null),Zr!==null&&oh(Zr)&&(Zr=null),Jr!==null&&oh(Jr)&&(Jr=null),$l.forEach($v),Kl.forEach($v)}function lh(n,r){n.blockedOn===r&&(n.blockedOn=null,km||(km=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,KA)))}var uh=null;function Kv(n){uh!==n&&(uh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){uh===n&&(uh=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(Om(l||a)===null)continue;break}var p=Li(a);p!==null&&(n.splice(r,3),r-=3,wd(p,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Yl(n){function r(N){return lh(N,n)}Wr!==null&&lh(Wr,n),Zr!==null&&lh(Zr,n),Jr!==null&&lh(Jr,n),$l.forEach(r),Kl.forEach(r);for(var a=0;a<es.length;a++){var l=es[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<es.length&&(a=es[0],a.blockedOn===null);)Gv(a),a.blockedOn===null&&es.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],p=a[l+1],T=f[At]||null;if(typeof p=="function")T||Kv(a);else if(T){var w=null;if(p&&p.hasAttribute("formAction")){if(f=p,T=p[At]||null)w=T.formAction;else if(Om(f)!==null)continue}else w=T.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),Kv(a)}}}function Mm(n){this._internalRoot=n}ch.prototype.render=Mm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=An();zv(a,l,n,r,null,null)},ch.prototype.unmount=Mm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;n.tag===0&&ao(),zv(n.current,2,null,n,null,null),$c(),r[Vi]=null}};function ch(n){this._internalRoot=n}ch.prototype.unstable_scheduleHydration=function(n){if(n){var r=Wu();n={blockedOn:null,target:n,priority:r};for(var a=0;a<es.length&&r!==0&&r<es[a].priority;a++);es.splice(a,0,n),a===0&&Gv(n)}};var Qv=e.version;if(Qv!=="19.0.0")throw Error(s(527,Qv,"19.0.0"));oe.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=ne(r),n=n!==null?de(n):null,n=n===null?null:n.stateNode,n};var QA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:Qn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hh.isDisabled&&hh.supportsFiber)try{Tr=hh.inject(QA),Yt=hh}catch{}}return Wl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=h_,p=f_,T=d_,w=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=Lv(n,1,!1,null,null,a,l,f,p,T,w,null),n[Vi]=r.current,ym(n.nodeType===8?n.parentNode:n),new Mm(r)},Wl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",p=h_,T=f_,w=d_,N=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),r=Lv(n,1,!0,r,a??null,l,f,p,T,w,N,L),r.context=Uv(null),a=r.current,l=An(),f=qr(l),f.callback=null,Hr(a,f,l),r.current.lanes=l,ft(r,l),vi(r),n[Vi]=r.current,ym(n),new ch(r)},Wl.version="19.0.0",Wl}var r0;function iS(){if(r0)return Vm.exports;r0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Vm.exports=nS(),Vm.exports}var rS=iS(),Zl={},s0;function sS(){if(s0)return Zl;s0=1,Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.parse=h,Zl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function h(A,C){const k=new u,$=A.length;if($<2)return k;const U=(C==null?void 0:C.decode)||E;let Q=0;do{const ee=A.indexOf("=",Q);if(ee===-1)break;const J=A.indexOf(";",Q),he=J===-1?$:J;if(ee>he){Q=A.lastIndexOf(";",ee-1)+1;continue}const ue=d(A,Q,ee),Te=m(A,ee,ue),j=A.slice(ue,Te);if(k[j]===void 0){let I=d(A,ee+1,he),R=m(A,he,I);const D=U(A.slice(I,R));k[j]=D}Q=he+1}while(Q<$);return k}function d(A,C,k){do{const $=A.charCodeAt(C);if($!==32&&$!==9)return C}while(++C<k);return k}function m(A,C,k){for(;C>k;){const $=A.charCodeAt(--C);if($!==32&&$!==9)return C+1}return k}function g(A,C,k){const $=(k==null?void 0:k.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const U=$(C);if(!e.test(U))throw new TypeError(`argument val is invalid: ${C}`);let Q=A+"="+U;if(!k)return Q;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);Q+="; Max-Age="+k.maxAge}if(k.domain){if(!t.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);Q+="; Domain="+k.domain}if(k.path){if(!s.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);Q+="; Path="+k.path}if(k.expires){if(!S(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);Q+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(Q+="; HttpOnly"),k.secure&&(Q+="; Secure"),k.partitioned&&(Q+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return Q}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function S(A){return o.call(A)==="[object Date]"}return Zl}sS();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var a0="popstate";function aS(i={}){function e(o,u){let{pathname:h="/",search:d="",hash:m=""}=pa(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),ip("",{pathname:h,search:d,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function t(o,u){let h=o.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let m=o.location.href,g=m.indexOf("#");d=g===-1?m:m.slice(0,g)}return d+"#"+(typeof u=="string"?u:fu(u))}function s(o,u){Gn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return lS(e,t,s,i)}function nt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Gn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oS(){return Math.random().toString(36).substring(2,10)}function o0(i,e){return{usr:i.state,key:i.key,idx:e}}function ip(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?pa(e):e,state:t,key:e&&e.key||s||oS()}}function fu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function pa(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function lS(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,d="POP",m=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function S(){d="POP";let U=E(),Q=U==null?null:U-g;g=U,m&&m({action:d,location:$.location,delta:Q})}function A(U,Q){d="PUSH";let ee=ip($.location,U,Q);t&&t(ee,U),g=E()+1;let J=o0(ee,g),he=$.createHref(ee);try{h.pushState(J,"",he)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(he)}u&&m&&m({action:d,location:$.location,delta:1})}function C(U,Q){d="REPLACE";let ee=ip($.location,U,Q);t&&t(ee,U),g=E();let J=o0(ee,g),he=$.createHref(ee);h.replaceState(J,"",he),u&&m&&m({action:d,location:$.location,delta:0})}function k(U){let Q=o.location.origin!=="null"?o.location.origin:o.location.href,ee=typeof U=="string"?U:fu(U);return ee=ee.replace(/ $/,"%20"),nt(Q,`No window.location.(origin|href) available to create URL for href: ${ee}`),new URL(ee,Q)}let $={get action(){return d},get location(){return i(o,h)},listen(U){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(a0,S),m=U,()=>{o.removeEventListener(a0,S),m=null}},createHref(U){return e(o,U)},createURL:k,encodeLocation(U){let Q=k(U);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:A,replace:C,go(U){return h.go(U)}};return $}function ZE(i,e,t="/"){return uS(i,e,t,!1)}function uS(i,e,t,s){let o=typeof e=="string"?pa(e):e,u=hs(o.pathname||"/",t);if(u==null)return null;let h=JE(i);cS(h);let d=null;for(let m=0;d==null&&m<h.length;++m){let g=TS(u);d=vS(h[m],g,s)}return d}function JE(i,e=[],t=[],s=""){let o=(u,h,d)=>{let m={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};m.relativePath.startsWith("/")&&(nt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=hr([s,m.relativePath]),E=t.concat(m);u.children&&u.children.length>0&&(nt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),JE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:yS(g,u.index),routesMeta:E})};return i.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,h);else for(let m of eT(u.path))o(u,h,m)}),e}function eT(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=eT(s.join("/")),d=[];return d.push(...h.map(m=>m===""?u:[u,m].join("/"))),o&&d.push(...h),d.map(m=>i.startsWith("/")&&m===""?"/":m)}function cS(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:_S(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var hS=/^:[\w-]+$/,fS=3,dS=2,mS=1,pS=10,gS=-2,l0=i=>i==="*";function yS(i,e){let t=i.split("/"),s=t.length;return t.some(l0)&&(s+=gS),e&&(s+=dS),t.filter(o=>!l0(o)).reduce((o,u)=>o+(hS.test(u)?fS:u===""?mS:pS),s)}function _S(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function vS(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let d=0;d<s.length;++d){let m=s[d],g=d===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=Ph({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},E),A=m.route;if(!S&&g&&t&&!s[s.length-1].route.index&&(S=Ph({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:hr([u,S.pathname]),pathnameBase:SS(hr([u,S.pathnameBase])),route:A}),S.pathnameBase!=="/"&&(u=hr([u,S.pathnameBase]))}return h}function Ph(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=ES(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:S},A)=>{if(E==="*"){let k=d[A]||"";h=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const C=d[A];return S&&!C?g[E]=void 0:g[E]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function ES(i,e=!1,t=!0){Gn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function TS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function hs(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function wS(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?pa(i):i;return{pathname:t?t.startsWith("/")?t:bS(t,e):e,search:xS(s),hash:RS(o)}}function bS(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Bm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AS(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Op(i){let e=AS(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function kp(i,e,t,s=!1){let o;typeof i=="string"?o=pa(i):(o={...i},nt(!o.pathname||!o.pathname.includes("?"),Bm("?","pathname","search",o)),nt(!o.pathname||!o.pathname.includes("#"),Bm("#","pathname","hash",o)),nt(!o.search||!o.search.includes("#"),Bm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=t;else{let S=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),S-=1;o.pathname=A.join("/")}d=S>=0?e[S]:"/"}let m=wS(o,d),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||E)&&(m.pathname+="/"),m}var hr=i=>i.join("/").replace(/\/\/+/g,"/"),SS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),xS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,RS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function CS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var tT=["POST","PUT","PATCH","DELETE"];new Set(tT);var IS=["GET",...tT];new Set(IS);var Io=b.createContext(null);Io.displayName="DataRouter";var rf=b.createContext(null);rf.displayName="DataRouterState";var nT=b.createContext({isTransitioning:!1});nT.displayName="ViewTransition";var NS=b.createContext(new Map);NS.displayName="Fetchers";var DS=b.createContext(null);DS.displayName="Await";var ni=b.createContext(null);ni.displayName="Navigation";var Ru=b.createContext(null);Ru.displayName="Location";var ii=b.createContext({outlet:null,matches:[],isDataRoute:!1});ii.displayName="Route";var Mp=b.createContext(null);Mp.displayName="RouteError";function OS(i,{relative:e}={}){nt(No(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=b.useContext(ni),{hash:o,pathname:u,search:h}=Cu(i,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:hr([t,u])),s.createHref({pathname:d,search:h,hash:o})}function No(){return b.useContext(Ru)!=null}function Es(){return nt(No(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Ru).location}var iT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rT(i){b.useContext(ni).static||b.useLayoutEffect(i)}function _r(){let{isDataRoute:i}=b.useContext(ii);return i?KS():kS()}function kS(){nt(No(),"useNavigate() may be used only in the context of a <Router> component.");let i=b.useContext(Io),{basename:e,navigator:t}=b.useContext(ni),{matches:s}=b.useContext(ii),{pathname:o}=Es(),u=JSON.stringify(Op(s)),h=b.useRef(!1);return rT(()=>{h.current=!0}),b.useCallback((m,g={})=>{if(Gn(h.current,iT),!h.current)return;if(typeof m=="number"){t.go(m);return}let E=kp(m,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:hr([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,u,o,i])}var MS=b.createContext(null);function jS(i){let e=b.useContext(ii).outlet;return e&&b.createElement(MS.Provider,{value:i},e)}function Cu(i,{relative:e}={}){let{matches:t}=b.useContext(ii),{pathname:s}=Es(),o=JSON.stringify(Op(t));return b.useMemo(()=>kp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function PS(i,e){return sT(i,e)}function sT(i,e,t,s){var ee;nt(No(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=b.useContext(ni),{matches:h}=b.useContext(ii),d=h[h.length-1],m=d?d.params:{},g=d?d.pathname:"/",E=d?d.pathnameBase:"/",S=d&&d.route;{let J=S&&S.path||"";aT(g,!S||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let A=Es(),C;if(e){let J=typeof e=="string"?pa(e):e;nt(E==="/"||((ee=J.pathname)==null?void 0:ee.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${J.pathname}" was given in the \`location\` prop.`),C=J}else C=A;let k=C.pathname||"/",$=k;if(E!=="/"){let J=E.replace(/^\//,"").split("/");$="/"+k.replace(/^\//,"").split("/").slice(J.length).join("/")}let U=!u&&t&&t.matches&&t.matches.length>0?t.matches:ZE(i,{pathname:$});Gn(S||U!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Gn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=BS(U&&U.map(J=>Object.assign({},J,{params:Object.assign({},m,J.params),pathname:hr([E,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?E:hr([E,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),h,t,s);return e&&Q?b.createElement(Ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},Q):Q}function VS(){let i=$S(),e=CS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=b.createElement(b.Fragment,null,b.createElement("p",null,"💿 Hey developer 👋"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:u},"ErrorBoundary")," or"," ",b.createElement("code",{style:u},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),t?b.createElement("pre",{style:o},t):null,h)}var LS=b.createElement(VS,null),US=class extends b.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?b.createElement(ii.Provider,{value:this.props.routeContext},b.createElement(Mp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zS({routeContext:i,match:e,children:t}){let s=b.useContext(Io);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(ii.Provider,{value:i},t)}function BS(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t==null?void 0:t.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);nt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let h=!1,d=-1;if(t)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:E,errors:S}=t,A=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||A){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,g,E)=>{let S,A=!1,C=null,k=null;t&&(S=u&&g.route.id?u[g.route.id]:void 0,C=g.route.errorElement||LS,h&&(d<0&&E===0?(aT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,k=null):d===E&&(A=!0,k=g.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,E+1)),U=()=>{let Q;return S?Q=C:A?Q=k:g.route.Component?Q=b.createElement(g.route.Component,null):g.route.element?Q=g.route.element:Q=m,b.createElement(zS,{match:g,routeContext:{outlet:m,matches:$,isDataRoute:t!=null},children:Q})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?b.createElement(US,{location:t.location,revalidation:t.revalidation,component:C,error:S,children:U(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):U()},null)}function jp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FS(i){let e=b.useContext(Io);return nt(e,jp(i)),e}function qS(i){let e=b.useContext(rf);return nt(e,jp(i)),e}function HS(i){let e=b.useContext(ii);return nt(e,jp(i)),e}function Pp(i){let e=HS(i),t=e.matches[e.matches.length-1];return nt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function GS(){return Pp("useRouteId")}function $S(){var s;let i=b.useContext(Mp),e=qS("useRouteError"),t=Pp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function KS(){let{router:i}=FS("useNavigate"),e=Pp("useNavigate"),t=b.useRef(!1);return rT(()=>{t.current=!0}),b.useCallback(async(o,u={})=>{Gn(t.current,iT),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var u0={};function aT(i,e,t){!e&&!u0[i]&&(u0[i]=!0,Gn(!1,t))}b.memo(QS);function QS({routes:i,future:e,state:t}){return sT(i,void 0,t,e)}function Vp({to:i,replace:e,state:t,relative:s}){nt(No(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=b.useContext(ni);Gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=b.useContext(ii),{pathname:h}=Es(),d=_r(),m=kp(i,Op(u),h,s==="path"),g=JSON.stringify(m);return b.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:s})},[d,g,s,e,t]),null}function YS(i){return jS(i.context)}function eu(i){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XS({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){nt(!No(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=pa(t));let{pathname:m="/",search:g="",hash:E="",state:S=null,key:A="default"}=t,C=b.useMemo(()=>{let k=hs(m,h);return k==null?null:{location:{pathname:k,search:g,hash:E,state:S,key:A},navigationType:s}},[h,m,g,E,S,A,s]);return Gn(C!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:b.createElement(ni.Provider,{value:d},b.createElement(Ru.Provider,{children:e,value:C}))}function WS({children:i,location:e}){return PS(rp(i),e)}function rp(i,e=[]){let t=[];return b.Children.forEach(i,(s,o)=>{if(!b.isValidElement(s))return;let u=[...e,o];if(s.type===b.Fragment){t.push.apply(t,rp(s.props.children,u));return}nt(s.type===eu,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=rp(s.props.children,u)),t.push(h)}),t}var Th="get",wh="application/x-www-form-urlencoded";function sf(i){return i!=null&&typeof i.tagName=="string"}function ZS(i){return sf(i)&&i.tagName.toLowerCase()==="button"}function JS(i){return sf(i)&&i.tagName.toLowerCase()==="form"}function ex(i){return sf(i)&&i.tagName.toLowerCase()==="input"}function tx(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function nx(i,e){return i.button===0&&(!e||e==="_self")&&!tx(i)}var fh=null;function ix(){if(fh===null)try{new FormData(document.createElement("form"),0),fh=!1}catch{fh=!0}return fh}var rx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fm(i){return i!=null&&!rx.has(i)?(Gn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wh}"`),null):i}function sx(i,e){let t,s,o,u,h;if(JS(i)){let d=i.getAttribute("action");s=d?hs(d,e):null,t=i.getAttribute("method")||Th,o=Fm(i.getAttribute("enctype"))||wh,u=new FormData(i)}else if(ZS(i)||ex(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||d.getAttribute("action");if(s=m?hs(m,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||Th,o=Fm(i.getAttribute("formenctype"))||Fm(d.getAttribute("enctype"))||wh,u=new FormData(d,i),!ix()){let{name:g,type:E,value:S}=i;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,S)}}else{if(sf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Th,s=null,o=wh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Lp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function ax(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ox(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function lx(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await ax(u,t);return h.links?h.links():[]}return[]}));return fx(s.flat(1).filter(ox).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function c0(i,e,t,s,o,u){let h=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>{var E;return t[g].pathname!==m.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,g)=>h(m,g)||d(m,g)):u==="data"?e.filter((m,g)=>{var S;let E=s.routes[m.route.id];if(!E||!E.hasLoader)return!1;if(h(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let A=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=t[0])==null?void 0:S.params)||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function ux(i,e,{includeHydrateFallback:t}={}){return cx(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function cx(i){return[...new Set(i)]}function hx(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function fx(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(hx(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function dx(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function mx(){let i=b.useContext(Io);return Lp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function px(){let i=b.useContext(rf);return Lp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Up=b.createContext(void 0);Up.displayName="FrameworkContext";function oT(){let i=b.useContext(Up);return Lp(i,"You must render this element inside a <HydratedRouter> element"),i}function gx(i,e){let t=b.useContext(Up),[s,o]=b.useState(!1),[u,h]=b.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=e,A=b.useRef(null);b.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let $=Q=>{Q.forEach(ee=>{h(ee.isIntersecting)})},U=new IntersectionObserver($,{threshold:.5});return A.current&&U.observe(A.current),()=>{U.disconnect()}}},[i]),b.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let C=()=>{o(!0)},k=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,A,{}]:[u,A,{onFocus:Jl(d,C),onBlur:Jl(m,k),onMouseEnter:Jl(g,C),onMouseLeave:Jl(E,k),onTouchStart:Jl(S,C)}]:[!1,A,{}]}function Jl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function yx({page:i,...e}){let{router:t}=mx(),s=b.useMemo(()=>ZE(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?b.createElement(vx,{page:i,matches:s,...e}):null}function _x(i){let{manifest:e,routeModules:t}=oT(),[s,o]=b.useState([]);return b.useEffect(()=>{let u=!1;return lx(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function vx({page:i,matches:e,...t}){let s=Es(),{manifest:o,routeModules:u}=oT(),{loaderData:h,matches:d}=px(),m=b.useMemo(()=>c0(i,e,d,o,s,"data"),[i,e,d,o,s]),g=b.useMemo(()=>c0(i,e,d,o,s,"assets"),[i,e,d,o,s]),E=b.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let C=new Set,k=!1;if(e.forEach(U=>{var ee;let Q=o.routes[U.route.id];!Q||!Q.hasLoader||(!m.some(J=>J.route.id===U.route.id)&&U.route.id in h&&((ee=u[U.route.id])!=null&&ee.shouldRevalidate)||Q.hasClientLoader?k=!0:C.add(U.route.id))}),C.size===0)return[];let $=dx(i);return k&&C.size>0&&$.searchParams.set("_routes",e.filter(U=>C.has(U.route.id)).map(U=>U.route.id).join(",")),[$.pathname+$.search]},[h,s,o,m,e,i,u]),S=b.useMemo(()=>ux(g,o),[g,o]),A=_x(g);return b.createElement(b.Fragment,null,E.map(C=>b.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),S.map(C=>b.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),A.map(({key:C,link:k})=>b.createElement("link",{key:C,...k})))}function Ex(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var lT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lT&&(window.__reactRouterVersion="7.2.0")}catch{}function Tx({basename:i,children:e,window:t}){let s=b.useRef();s.current==null&&(s.current=aS({window:t,v5Compat:!0}));let o=s.current,[u,h]=b.useState({action:o.action,location:o.location}),d=b.useCallback(m=>{b.startTransition(()=>h(m))},[h]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.createElement(XS,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var uT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ti=b.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:d,target:m,to:g,preventScrollReset:E,viewTransition:S,...A},C){let{basename:k}=b.useContext(ni),$=typeof g=="string"&&uT.test(g),U,Q=!1;if(typeof g=="string"&&$&&(U=g,lT))try{let R=new URL(window.location.href),D=g.startsWith("//")?new URL(R.protocol+g):new URL(g),V=hs(D.pathname,k);D.origin===R.origin&&V!=null?g=V+D.search+D.hash:Q=!0}catch{Gn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=OS(g,{relative:o}),[J,he,ue]=gx(s,A),Te=Sx(g,{replace:h,state:d,target:m,preventScrollReset:E,relative:o,viewTransition:S});function j(R){e&&e(R),R.defaultPrevented||Te(R)}let I=b.createElement("a",{...A,...ue,href:U||ee,onClick:Q||u?e:j,ref:Ex(C,he),target:m,"data-discover":!$&&t==="render"?"true":void 0});return J&&!$?b.createElement(b.Fragment,null,I,b.createElement(yx,{page:ee})):I});Ti.displayName="Link";var wx=b.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:d,children:m,...g},E){let S=Cu(h,{relative:g.relative}),A=Es(),C=b.useContext(rf),{navigator:k,basename:$}=b.useContext(ni),U=C!=null&&Nx(S)&&d===!0,Q=k.encodeLocation?k.encodeLocation(S).pathname:S.pathname,ee=A.pathname,J=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(ee=ee.toLowerCase(),J=J?J.toLowerCase():null,Q=Q.toLowerCase()),J&&$&&(J=hs(J,$)||J);const he=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ue=ee===Q||!o&&ee.startsWith(Q)&&ee.charAt(he)==="/",Te=J!=null&&(J===Q||!o&&J.startsWith(Q)&&J.charAt(Q.length)==="/"),j={isActive:ue,isPending:Te,isTransitioning:U},I=ue?e:void 0,R;typeof s=="function"?R=s(j):R=[s,ue?"active":null,Te?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(j):u;return b.createElement(Ti,{...g,"aria-current":I,className:R,ref:E,style:D,to:h,viewTransition:d},typeof m=="function"?m(j):m)});wx.displayName="NavLink";var bx=b.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=Th,action:d,onSubmit:m,relative:g,preventScrollReset:E,viewTransition:S,...A},C)=>{let k=Cx(),$=Ix(d,{relative:g}),U=h.toLowerCase()==="get"?"get":"post",Q=typeof d=="string"&&uT.test(d),ee=J=>{if(m&&m(J),J.defaultPrevented)return;J.preventDefault();let he=J.nativeEvent.submitter,ue=(he==null?void 0:he.getAttribute("formmethod"))||h;k(he||J.currentTarget,{fetcherKey:e,method:ue,navigate:t,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:S})};return b.createElement("form",{ref:C,method:U,action:$,onSubmit:s?m:ee,...A,"data-discover":!Q&&i==="render"?"true":void 0})});bx.displayName="Form";function Ax(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cT(i){let e=b.useContext(Io);return nt(e,Ax(i)),e}function Sx(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=_r(),m=Es(),g=Cu(i,{relative:u});return b.useCallback(E=>{if(nx(E,e)){E.preventDefault();let S=t!==void 0?t:fu(m)===fu(g);d(i,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[m,d,g,t,s,e,i,o,u,h])}var xx=0,Rx=()=>`__${String(++xx)}__`;function Cx(){let{router:i}=cT("useSubmit"),{basename:e}=b.useContext(ni),t=GS();return b.useCallback(async(s,o={})=>{let{action:u,method:h,encType:d,formData:m,body:g}=sx(s,e);if(o.navigate===!1){let E=o.fetcherKey||Rx();await i.fetch(E,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function Ix(i,{relative:e}={}){let{basename:t}=b.useContext(ni),s=b.useContext(ii);nt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Cu(i||".",{relative:e})},h=Es();if(i==null){u.search=h.search;let d=new URLSearchParams(u.search),m=d.getAll("index");if(m.some(E=>E==="")){d.delete("index"),m.filter(S=>S).forEach(S=>d.append("index",S));let E=d.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:hr([t,u.pathname])),fu(u)}function Nx(i,e={}){let t=b.useContext(nT);nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=cT("useViewTransitionState"),o=Cu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=hs(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=hs(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Ph(o.pathname,h)!=null||Ph(o.pathname,u)!=null}new TextEncoder;function h0({children:i}){return y.jsx("div",{className:"relative h-screen w-screen bg-[#f0f4f9]",children:y.jsx("div",{className:"flex h-full",children:i})})}function bh({children:i}){return y.jsx("div",{className:"fixed inset-0",children:y.jsx("div",{className:"container relative py-3 flex flex-col h-full max-w-[800px]",children:i})})}function Dx({title:i,titleId:e,...t},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?b.createElement("title",{id:e},i):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const hT=b.forwardRef(Dx);function Ox({title:i,titleId:e,...t},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?b.createElement("title",{id:e},i):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const kx=b.forwardRef(Ox);function Mx({title:i,titleId:e,...t},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?b.createElement("title",{id:e},i):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const jx=b.forwardRef(Mx);function Px({title:i,titleId:e,...t},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?b.createElement("title",{id:e},i):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const Vx=b.forwardRef(Px);function Lx({title:i,titleId:e,...t},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?b.createElement("title",{id:e},i):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ux=b.forwardRef(Lx);function zx({title:i,titleId:e,...t},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?b.createElement("title",{id:e},i):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v7.5m2.25-6.466a9.016 9.016 0 0 0-3.461-.203c-.536.072-.974.478-1.021 1.017a4.559 4.559 0 0 0-.018.402c0 .464.336.844.775.994l2.95 1.012c.44.15.775.53.775.994 0 .136-.006.27-.018.402-.047.539-.485.945-1.021 1.017a9.077 9.077 0 0 1-3.461-.203M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Bx=b.forwardRef(zx);function Fx({title:i,titleId:e,...t},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?b.createElement("title",{id:e},i):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Do=b.forwardRef(Fx);function qx({title:i,titleId:e,...t},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?b.createElement("title",{id:e},i):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 21v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21m0 0h4.5V3.545M12.75 21h7.5V10.75M2.25 21h1.5m18 0h-18M2.25 9l4.5-1.636M18.75 3l-1.5.545m0 6.205 3 1m1.5.5-1.5-.5M6.75 7.364V3h-3v18m3-13.636 10.5-3.819"}))}const Hx=b.forwardRef(qx);function Gx({title:i,titleId:e,...t},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?b.createElement("title",{id:e},i):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const fT=b.forwardRef(Gx);function $x({title:i,titleId:e,...t},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?b.createElement("title",{id:e},i):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const dT=b.forwardRef($x);function Kx({title:i,titleId:e,...t},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?b.createElement("title",{id:e},i):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const mT=b.forwardRef(Kx);function Qx({title:i,titleId:e,...t},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?b.createElement("title",{id:e},i):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const pT=b.forwardRef(Qx);function Yx({title:i,titleId:e,...t},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?b.createElement("title",{id:e},i):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const af=b.forwardRef(Yx);function Xx({title:i,titleId:e,...t},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?b.createElement("title",{id:e},i):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Oo=b.forwardRef(Xx);function Wx({title:i,titleId:e,...t},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?b.createElement("title",{id:e},i):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const zp=b.forwardRef(Wx);function Zx({title:i,titleId:e,...t},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?b.createElement("title",{id:e},i):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Bp=b.forwardRef(Zx);function Jx({title:i,titleId:e,...t},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?b.createElement("title",{id:e},i):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const gT=b.forwardRef(Jx);function yT(i){var e,t,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var o=i.length;for(e=0;e<o;e++)i[e]&&(t=yT(i[e]))&&(s&&(s+=" "),s+=t)}else for(t in i)i[t]&&(s&&(s+=" "),s+=t);return s}function eR(){for(var i,e,t=0,s="",o=arguments.length;t<o;t++)(i=arguments[t])&&(e=yT(i))&&(s&&(s+=" "),s+=e);return s}const f0=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,d0=eR,Fp=(i,e)=>t=>{var s;if((e==null?void 0:e.variants)==null)return d0(i,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:u}=e,h=Object.keys(o).map(g=>{const E=t==null?void 0:t[g],S=u==null?void 0:u[g];if(E===null)return null;const A=f0(E)||f0(S);return o[g][A]}),d=t&&Object.entries(t).reduce((g,E)=>{let[S,A]=E;return A===void 0||(g[S]=A),g},{}),m=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((g,E)=>{let{class:S,className:A,...C}=E;return Object.entries(C).every(k=>{let[$,U]=k;return Array.isArray(U)?U.includes({...u,...d}[$]):{...u,...d}[$]===U})?[...g,S,A]:g},[]);return d0(i,h,m,t==null?void 0:t.class,t==null?void 0:t.className)},m0=Fp("inline-flex relative space-x-1 items-center z-0",{variants:{variant:{primary:"before:content-[''] before:absolute before:z-[-1] before:inset-0 active:translate-y-[2px] active:before:shadow-none",clear:"before:content-none"},color:{primary:"before:border-[#4a826f] text-[#fff] bg-[#5a9e87] before:shadow-[0_2px_0_#4a826f]",second:"before:border-[#ccc] text-[#333] bg-[#f6f6f6] before:shadow-[0_2px_0_#ccc]",clear:""},size:{primary:"px-4.5 py-1.5",clear:""},fontWeight:{primary:"font-[500]",clear:""},border:{primary:"before:border-[2px]",thin:"before:border-[1px]",clear:"before:border-b-[2px]"},rounded:{xl:"before:rounded-xl rounded-xl",lg:"before:rounded-lg rounded-lg",md:"before:rounded-md rounded-md"}},defaultVariants:{variant:"primary",color:"primary",size:"primary",fontWeight:"primary",border:"primary",rounded:"lg"}});function tR({onClick:i,loading:e,children:t,border:s,size:o,color:u,fontWeight:h,type:d="button",variant:m,disabled:g,rounded:E,className:S,active:A,href:C},k){const $=g||e,U="before:shadow-none translate-y-[2px]";return y.jsx(y.Fragment,{children:C?y.jsx(Ti,{to:C,className:`${m0({variant:m,size:o,color:u,fontWeight:h,rounded:E,border:s,className:S})} ${A?U:""}`,children:t}):y.jsx("button",{ref:k,type:d||"button",onClick:i,disabled:$,className:`${m0({variant:m,size:o,color:A?"primary":u,border:s,fontWeight:h,className:S})} ${A?U:""}`,children:e?y.jsx(hT,{className:"w-6 animate-spin"}):t})})}const Ie=b.forwardRef(tR),nR=Fp("w-full",{variants:{variant:{primary:"bg-white border border-black/10 placeholder:[#888] text-[16px] outline-none py-1.5 px-2",clear:""},rounded:{xl:"rounded-xl",lg:"rounded-lg",md:"rounded-md"}},defaultVariants:{variant:"primary",rounded:"md"}});function iR({variant:i,className:e="",...t},s){return y.jsx("input",{ref:s,className:`${nR({variant:i,className:e})}`,...t})}const un=b.forwardRef(iR),Xe=i=>new Intl.NumberFormat("en-US").format(i)+" đ",_T=i=>+(i/1e3).toFixed(1)*1e3;function du({value:i,setValue:e}){return y.jsxs("div",{className:"w-full",children:[y.jsx(un,{type:"number",step:1e3,placeholder:"0",value:i?i.toString():"",onChange:t=>isNaN(+t.target.value)?"":e(+t.target.value)}),y.jsxs("span",{className:"text-[#888] text-[16px] mt-1",children:["Formatted: ",Xe(i)]})]})}var rR=WE();function sR({children:i},e){const[t,s]=b.useState(!1),[o,u]=b.useState(!1),h=()=>{o&&u(!1),t||s(!0)},d=()=>{s(!0)},m=()=>{u(!1)};b.useImperativeHandle(e,()=>({toggle:h,open:d,close:m})),b.useEffect(()=>{o||setTimeout(()=>s(!1),150)},[o]),b.useEffect(()=>{t&&u(!0)},[t]);const g={unMountedContent:"opacity-0 scale-[0.9]",mountedContent:"opacity-100 scale-[1]",unMountedLayer:"opacity-0",mountedLayer:"opacity-100"};return y.jsx(y.Fragment,{children:t&&rR.createPortal(y.jsxs(y.Fragment,{children:[y.jsx("div",{className:`fixed transition-opacity ease-linear duration-150 inset-0 bg-black/40
                                ${o?g.mountedLayer:g.unMountedLayer}
                             `,onClick:h}),i&&y.jsx("div",{className:`fixed transition-all ease-linear duration-150 top-[50%] left-[50%] -translate-x-1/2 -translate-y-1/2
                                   ${o?g.mountedContent:g.unMountedContent}
                                `,children:y.jsx("div",{className:"bg-white max-h-[80vh] overflow-hidden p-3 rounded-lg w-[400px] flex flex-col max-w-[90vw]",children:i})})]}),document.querySelector("#portal"))})}const Ts=b.forwardRef(sR),ko="/Argo-Store/assets/simon_empty-ChRLxitn.png";function Ot({children:i,less:e,className:t=""}){return y.jsxs("div",{className:`${t}`,children:[y.jsx("img",{className:"m-auto",src:ko,alt:""}),!e&&y.jsx("p",{className:"text-[16px] text-center",children:"No result found, ¯\\_(ツ)_/¯"}),i]})}const aR=Fp("border-[2px] p-3 border-b-[6px] rounded-[14px]",{variants:{colors:{primary:"bg-white border-[#e1e1e1]",second:"bg-[#cee9b6] border-[#4a826f]",clear:""}},defaultVariants:{colors:"primary"}});function Ze({children:i,onClick:e,colors:t,className:s=""}){return y.jsx("div",{onClick:()=>e?e():{},className:`${aR({colors:t,className:s})} `,children:i})}function pn({icon:i,className:e="",title:t}){return y.jsxs("div",{className:`flex text-xanh-500 gap-2 items-center ${e}`,children:[i,y.jsx("p",{className:"text-xl",children:t})]})}function Ni(){return y.jsx("div",{className:"flex flex-grow items-center justify-center",children:y.jsx(hT,{className:"w-6 animate-spin"})})}function qp(){const[i,e]=b.useState(!1),t=b.useRef(null),s=u=>{var h;(h=t.current)!=null&&h.contains(u.target)||e(!1)};b.useEffect(()=>(i&&window.addEventListener("click",s),()=>{window.removeEventListener("click",s)}),[i]);const o={linkItem:"inline-flex space-x-1 py-1.5 hover:text-xanh-500"};return y.jsxs(y.Fragment,{children:[y.jsx(Ie,{ref:t,onClick:()=>e(!i),size:"clear",className:"p-2 !absolute left-[10px] bottom-5",children:y.jsx(kx,{className:"w-6"})}),y.jsxs("div",{className:`absolute bg-white flex
				flex-col border border-black/10 rounded-lg shadow-lg transition-[left,opacity] bottom-[80px] p-2 ${i?"left-[10px] opacity-[1]":"-left-[10px] opacity-[0]"}`,children:[y.jsxs(Ti,{to:"/",className:o.linkItem,children:[y.jsx(fT,{className:"w-6"}),y.jsx("span",{children:"Home"})]}),y.jsxs(Ti,{to:"/menu/product",className:o.linkItem,children:[y.jsx(Vx,{className:"w-6"}),y.jsx("span",{children:"Product"})]}),y.jsxs(Ti,{to:"/menu/customer",className:o.linkItem,children:[y.jsx(Bp,{className:"w-6"}),y.jsx("span",{children:"Customer"})]}),y.jsxs(Ti,{to:"/menu/invoice",className:o.linkItem,children:[y.jsx(Do,{className:"w-6"}),y.jsx("span",{children:"Invoice"})]}),y.jsxs(Ti,{to:"/menu/receive",className:o.linkItem,children:[y.jsx(Hx,{className:"w-6"}),y.jsx("span",{children:"Receive"})]})]})]})}function sp({children:i}){return y.jsx("div",{className:"fixed inset-0",children:y.jsxs("div",{className:"container relative py-3 flex flex-col h-full max-w-[800px]",children:[i,y.jsx(qp,{})]})})}function oR(){const[i,e]=b.useState([]),[t,s]=b.useState(""),o=b.useRef(!0),u=b.useMemo(()=>{const h=i.findIndex(d=>d.id===t);if(h!==-1)return{invoice:i[h],index:h}},[t,i]);return{invoices:i,setInvoices:e,setCurrentInvoiceId:s,currentInvoiceId:t,currentInvoiceData:u,shouldFetchInvoice:o}}const vT=b.createContext(null);function lR({children:i}){return y.jsx(vT.Provider,{value:oR(),children:i})}const ET=()=>{const i=b.useContext(vT);if(!i)throw new Error("InvoiceContext is not provided");return i};function p0({children:i}){return y.jsx(sp,{children:y.jsx(lR,{children:i})})}function uR(){const[i,e]=b.useState([]),[t,s]=b.useState(""),o=b.useRef(!0),u=b.useMemo(()=>{const h=i.findIndex(d=>d.id===t);if(h!==-1)return{receiving:i[h],index:h}},[t,i]);return{receives:i,setReceives:e,shouldFetchWarehouseEntries:o,setCurrentReceivingId:s,currentReceivingData:u}}const TT=b.createContext(null);function cR({children:i}){return y.jsx(TT.Provider,{value:uR(),children:i})}const hR=()=>{const i=b.useContext(TT);if(!i)throw new Error("ReceivesProvider is not provided");return i};function fR(){const[i,e]=b.useState(),[t,s]=b.useState([]);return{setCartItems:s,cartItems:t,resetSelect:()=>{s([])},select:m=>{const g=[...t],E=g.findIndex(A=>A.id===m.id),S={...m,price:0,quantity:0};E===-1?g.push(S):g.splice(E,1),s(g)},remove:m=>{const g=[...t];g.splice(m,1),s(g)},updateCartItem:({index:m,product:g})=>{const E=[...t];E[m]={...E[m],...g},s(E)},receiving:i,setReceiving:e}}const wT=b.createContext(null);function dR({children:i}){return y.jsx(wT.Provider,{value:fR(),children:i})}const Iu=()=>{const i=b.useContext(wT);if(!i)throw new Error("WarehouseCartProvider not provided");return i};function dh({children:i}){return y.jsx(bh,{children:y.jsx(cR,{children:y.jsx(dR,{children:i})})})}function mR(){const[i,e]=b.useState("tien-mat"),[t,s]=b.useState(),[o,u]=b.useState(!1),[h,d]=b.useState(),m=b.useRef(""),g=b.useMemo(()=>h?h.items.reduce((S,A)=>S+A.quantity*A.price,0):0,[h]),E=()=>{d(void 0),s(void 0),e("tien-mat")};return{payMethod:i,setPayMethod:e,customer:t,setCustomer:s,ableToSubmit:o,setAbleToSubmit:u,invoice:h,setInvoice:d,newInvoiceId:m,totalInvoicePrice:+g.toFixed(1),reset:E}}const bT=b.createContext(null);function pR({children:i}){return y.jsx(bT.Provider,{value:mR(),children:i})}const ws=()=>{const i=b.useContext(bT);if(!i)throw new Error("CheckoutProvider not Provider");return i};function gR(){const[i,e]=b.useState([]),t=m=>{const g=[...i],E=g.findIndex(C=>C.id===m.id),S=m.units.map(C=>({...C,quantity:0})),A={...m,units:S,total:0,total_quantity:0};E===-1?g.push(A):g.splice(E,1),e(g)},s=({index:m,product:g})=>{const E=[...i];E[m]={...E[m],...g},e(E)},o=({productIndex:m,unit:g,unitIndex:E})=>{const S={...i[m].units[E]};if(!S)return;Object.assign(S,g);const A=[...i[m].units];A[E]=S,s({index:m,product:{units:A}})};return{setCartItems:e,cartItems:i,resetSelect:()=>{e([])},select:t,action:m=>{const g={...i[m.productIndex].units[m.unitIndex]};if(!g)return;let E=g.quantity;switch(m.type){case"increase":E=E+1;break;case"decrease":E=E-1;break}E<0||o({productIndex:m.productIndex,unit:{quantity:E},unitIndex:m.unitIndex})},remove:m=>{const g=[...i];g.splice(m,1),e(g)},updateCartItem:s,updateUnit:o}}const AT=b.createContext(null);function yR({children:i}){return y.jsx(AT.Provider,{value:gR(),children:i})}const ga=()=>{const i=b.useContext(AT);if(!i)throw new Error("SelectSongContext not provided");return i},_R=()=>{const[i,e]=b.useState(null),[t,s]=b.useState(!0),o=b.useRef(!1);return{user:i,setUser:e,loading:t,setLoading:s,justRegistered:o}},ST=b.createContext(null);function vR({children:i}){return y.jsx(ST.Provider,{value:_R(),children:i})}function Di(){const i=b.useContext(ST);if(!i)throw new Error("auth context not Provided");return i}var g0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},ER=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],d=i[t++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},RT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,d=h?i[o+1]:0,m=o+2<i.length,g=m?i[o+2]:0,E=u>>2,S=(u&3)<<4|d>>4;let A=(d&15)<<2|g>>6,C=g&63;m||(C=64,h||(A=64)),s.push(t[E],t[S],t[A],t[C])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(xT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):ER(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],d=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const S=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||d==null||g==null||S==null)throw new TR;const A=u<<2|d>>4;if(s.push(A),g!==64){const C=d<<4&240|g>>2;if(s.push(C),S!==64){const k=g<<6&192|S;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class TR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wR=function(i){const e=xT(i);return RT.encodeByteArray(e,!0)},Vh=function(i){return wR(i).replace(/\./g,"")},CT=function(i){try{return RT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=()=>bR().__FIREBASE_DEFAULTS__,SR=()=>{if(typeof process>"u"||typeof g0>"u")return;const i=g0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},xR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&CT(i[1]);return e&&JSON.parse(e)},of=()=>{try{return AR()||SR()||xR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},IT=i=>{var e,t;return(t=(e=of())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},NT=i=>{const e=IT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},DT=()=>{var i;return(i=of())===null||i===void 0?void 0:i.config},OT=i=>{var e;return(e=of())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Vh(JSON.stringify(t)),Vh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function IR(){var i;const e=(i=of())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function OR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kR(){const i=tn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function MR(){return!IR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jR(){try{return typeof indexedDB=="object"}catch{return!1}}function PR(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="FirebaseError";class Oi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=VR,Object.setPrototypeOf(this,Oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nu.prototype.create)}}class Nu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?LR(u,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Oi(o,d,s)}}function LR(i,e){return i.replace(UR,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const UR=/\{\$([^}]+)}/g;function zR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Lh(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(y0(u)&&y0(h)){if(!Lh(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function y0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function tu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function nu(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function BR(i,e){const t=new FR(i,e);return t.subscribe.bind(t)}class FR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");qR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=qm),o.error===void 0&&(o.error=qm),o.complete===void 0&&(o.complete=qm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qR(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function qm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(i){return i&&i._delegate?i._delegate:i}class fs{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new RR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($R(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:GR(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GR(i){return i===oa?void 0:i}function $R(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new HR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Oe||(Oe={}));const QR={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},YR=Oe.INFO,XR={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},WR=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=XR[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hp{constructor(e){this.name=e,this._logLevel=YR,this._logHandler=WR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const ZR=(i,e)=>e.some(t=>i instanceof t);let _0,v0;function JR(){return _0||(_0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eC(){return v0||(v0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MT=new WeakMap,ap=new WeakMap,jT=new WeakMap,Hm=new WeakMap,Gp=new WeakMap;function tC(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(os(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&MT.set(t,i)}).catch(()=>{}),Gp.set(e,i),e}function nC(i){if(ap.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});ap.set(i,e)}let op={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return ap.get(i);if(e==="objectStoreNames")return i.objectStoreNames||jT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return os(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function iC(i){op=i(op)}function rC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Gm(this),e,...t);return jT.set(s,e.sort?e.sort():[e]),os(s)}:eC().includes(i)?function(...e){return i.apply(Gm(this),e),os(MT.get(this))}:function(...e){return os(i.apply(Gm(this),e))}}function sC(i){return typeof i=="function"?rC(i):(i instanceof IDBTransaction&&nC(i),ZR(i,JR())?new Proxy(i,op):i)}function os(i){if(i instanceof IDBRequest)return tC(i);if(Hm.has(i))return Hm.get(i);const e=sC(i);return e!==i&&(Hm.set(i,e),Gp.set(e,i)),e}const Gm=i=>Gp.get(i);function aC(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),d=os(h);return s&&h.addEventListener("upgradeneeded",m=>{s(os(h.result),m.oldVersion,m.newVersion,os(h.transaction),m)}),t&&h.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const oC=["get","getKey","getAll","getAllKeys","count"],lC=["put","add","delete","clear"],$m=new Map;function E0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if($m.get(e))return $m.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=lC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||oC.includes(t)))return;const u=async function(h,...d){const m=this.transaction(h,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&m.done]))[0]};return $m.set(e,u),u}iC(i=>({...i,get:(e,t,s)=>E0(e,t)||i.get(e,t,s),has:(e,t)=>!!E0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(cC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function cC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lp="@firebase/app",T0="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new Hp("@firebase/app"),hC="@firebase/app-compat",fC="@firebase/analytics-compat",dC="@firebase/analytics",mC="@firebase/app-check-compat",pC="@firebase/app-check",gC="@firebase/auth",yC="@firebase/auth-compat",_C="@firebase/database",vC="@firebase/data-connect",EC="@firebase/database-compat",TC="@firebase/functions",wC="@firebase/functions-compat",bC="@firebase/installations",AC="@firebase/installations-compat",SC="@firebase/messaging",xC="@firebase/messaging-compat",RC="@firebase/performance",CC="@firebase/performance-compat",IC="@firebase/remote-config",NC="@firebase/remote-config-compat",DC="@firebase/storage",OC="@firebase/storage-compat",kC="@firebase/firestore",MC="@firebase/vertexai",jC="@firebase/firestore-compat",PC="firebase",VC="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="[DEFAULT]",LC={[lp]:"fire-core",[hC]:"fire-core-compat",[dC]:"fire-analytics",[fC]:"fire-analytics-compat",[pC]:"fire-app-check",[mC]:"fire-app-check-compat",[gC]:"fire-auth",[yC]:"fire-auth-compat",[_C]:"fire-rtdb",[vC]:"fire-data-connect",[EC]:"fire-rtdb-compat",[TC]:"fire-fn",[wC]:"fire-fn-compat",[bC]:"fire-iid",[AC]:"fire-iid-compat",[SC]:"fire-fcm",[xC]:"fire-fcm-compat",[RC]:"fire-perf",[CC]:"fire-perf-compat",[IC]:"fire-rc",[NC]:"fire-rc-compat",[DC]:"fire-gcs",[OC]:"fire-gcs-compat",[kC]:"fire-fst",[jC]:"fire-fst-compat",[MC]:"fire-vertex","fire-js":"fire-js",[PC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Map,UC=new Map,cp=new Map;function w0(i,e){try{i.container.addComponent(e)}catch(t){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function ua(i){const e=i.name;if(cp.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;cp.set(e,i);for(const t of Uh.values())w0(t,i);for(const t of UC.values())w0(t,i);return!0}function lf(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Sn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new Nu("app","Firebase",zC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=VC;function PT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:up,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ls.create("bad-app-name",{appName:String(o)});if(t||(t=DT()),!t)throw ls.create("no-options");const u=Uh.get(o);if(u){if(Lh(t,u.options)&&Lh(s,u.config))return u;throw ls.create("duplicate-app",{appName:o})}const h=new KR(o);for(const m of cp.values())h.addComponent(m);const d=new BC(t,s,h);return Uh.set(o,d),d}function $p(i=up){const e=Uh.get(i);if(!e&&i===up&&DT())return PT();if(!e)throw ls.create("no-app",{appName:i});return e}function wi(i,e,t){var s;let o=(s=LC[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(d.join(" "));return}ua(new fs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="firebase-heartbeat-database",qC=1,mu="firebase-heartbeat-store";let Km=null;function VT(){return Km||(Km=aC(FC,qC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(mu)}catch(t){console.warn(t)}}}}).catch(i=>{throw ls.create("idb-open",{originalErrorMessage:i.message})})),Km}async function HC(i){try{const t=(await VT()).transaction(mu),s=await t.objectStore(mu).get(LT(i));return await t.done,s}catch(e){if(e instanceof Oi)mr.warn(e.message);else{const t=ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mr.warn(t.message)}}}async function b0(i,e){try{const s=(await VT()).transaction(mu,"readwrite");await s.objectStore(mu).put(e,LT(i)),await s.done}catch(t){if(t instanceof Oi)mr.warn(t.message);else{const s=ls.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});mr.warn(s.message)}}}function LT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=1024,$C=30;class KC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new YC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=A0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>$C){const h=XC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){mr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=A0(),{heartbeatsToSend:s,unsentEntries:o}=QC(this._heartbeatsCache.heartbeats),u=Vh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return mr.warn(t),""}}}function A0(){return new Date().toISOString().substring(0,10)}function QC(i,e=GC){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),S0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),S0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class YC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jR()?PR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await HC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return b0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return b0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function S0(i){return Vh(JSON.stringify({version:2,heartbeats:i})).length}function XC(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(i){ua(new fs("platform-logger",e=>new uC(e),"PRIVATE")),ua(new fs("heartbeat",e=>new KC(e),"PRIVATE")),wi(lp,T0,i),wi(lp,T0,"esm2017"),wi("fire-js","")}WC("");var x0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,UT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,I){function R(){}R.prototype=I.prototype,j.D=I.prototype,j.prototype=new R,j.prototype.constructor=j,j.C=function(D,V,F){for(var O=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)O[wt-2]=arguments[wt];return I.prototype[V].apply(D,O)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(j,I,R){R||(R=0);var D=Array(16);if(typeof I=="string")for(var V=0;16>V;++V)D[V]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(V=0;16>V;++V)D[V]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=j.g[0],R=j.g[1],V=j.g[2];var F=j.g[3],O=I+(F^R&(V^F))+D[0]+3614090360&4294967295;I=R+(O<<7&4294967295|O>>>25),O=F+(V^I&(R^V))+D[1]+3905402710&4294967295,F=I+(O<<12&4294967295|O>>>20),O=V+(R^F&(I^R))+D[2]+606105819&4294967295,V=F+(O<<17&4294967295|O>>>15),O=R+(I^V&(F^I))+D[3]+3250441966&4294967295,R=V+(O<<22&4294967295|O>>>10),O=I+(F^R&(V^F))+D[4]+4118548399&4294967295,I=R+(O<<7&4294967295|O>>>25),O=F+(V^I&(R^V))+D[5]+1200080426&4294967295,F=I+(O<<12&4294967295|O>>>20),O=V+(R^F&(I^R))+D[6]+2821735955&4294967295,V=F+(O<<17&4294967295|O>>>15),O=R+(I^V&(F^I))+D[7]+4249261313&4294967295,R=V+(O<<22&4294967295|O>>>10),O=I+(F^R&(V^F))+D[8]+1770035416&4294967295,I=R+(O<<7&4294967295|O>>>25),O=F+(V^I&(R^V))+D[9]+2336552879&4294967295,F=I+(O<<12&4294967295|O>>>20),O=V+(R^F&(I^R))+D[10]+4294925233&4294967295,V=F+(O<<17&4294967295|O>>>15),O=R+(I^V&(F^I))+D[11]+2304563134&4294967295,R=V+(O<<22&4294967295|O>>>10),O=I+(F^R&(V^F))+D[12]+1804603682&4294967295,I=R+(O<<7&4294967295|O>>>25),O=F+(V^I&(R^V))+D[13]+4254626195&4294967295,F=I+(O<<12&4294967295|O>>>20),O=V+(R^F&(I^R))+D[14]+2792965006&4294967295,V=F+(O<<17&4294967295|O>>>15),O=R+(I^V&(F^I))+D[15]+1236535329&4294967295,R=V+(O<<22&4294967295|O>>>10),O=I+(V^F&(R^V))+D[1]+4129170786&4294967295,I=R+(O<<5&4294967295|O>>>27),O=F+(R^V&(I^R))+D[6]+3225465664&4294967295,F=I+(O<<9&4294967295|O>>>23),O=V+(I^R&(F^I))+D[11]+643717713&4294967295,V=F+(O<<14&4294967295|O>>>18),O=R+(F^I&(V^F))+D[0]+3921069994&4294967295,R=V+(O<<20&4294967295|O>>>12),O=I+(V^F&(R^V))+D[5]+3593408605&4294967295,I=R+(O<<5&4294967295|O>>>27),O=F+(R^V&(I^R))+D[10]+38016083&4294967295,F=I+(O<<9&4294967295|O>>>23),O=V+(I^R&(F^I))+D[15]+3634488961&4294967295,V=F+(O<<14&4294967295|O>>>18),O=R+(F^I&(V^F))+D[4]+3889429448&4294967295,R=V+(O<<20&4294967295|O>>>12),O=I+(V^F&(R^V))+D[9]+568446438&4294967295,I=R+(O<<5&4294967295|O>>>27),O=F+(R^V&(I^R))+D[14]+3275163606&4294967295,F=I+(O<<9&4294967295|O>>>23),O=V+(I^R&(F^I))+D[3]+4107603335&4294967295,V=F+(O<<14&4294967295|O>>>18),O=R+(F^I&(V^F))+D[8]+1163531501&4294967295,R=V+(O<<20&4294967295|O>>>12),O=I+(V^F&(R^V))+D[13]+2850285829&4294967295,I=R+(O<<5&4294967295|O>>>27),O=F+(R^V&(I^R))+D[2]+4243563512&4294967295,F=I+(O<<9&4294967295|O>>>23),O=V+(I^R&(F^I))+D[7]+1735328473&4294967295,V=F+(O<<14&4294967295|O>>>18),O=R+(F^I&(V^F))+D[12]+2368359562&4294967295,R=V+(O<<20&4294967295|O>>>12),O=I+(R^V^F)+D[5]+4294588738&4294967295,I=R+(O<<4&4294967295|O>>>28),O=F+(I^R^V)+D[8]+2272392833&4294967295,F=I+(O<<11&4294967295|O>>>21),O=V+(F^I^R)+D[11]+1839030562&4294967295,V=F+(O<<16&4294967295|O>>>16),O=R+(V^F^I)+D[14]+4259657740&4294967295,R=V+(O<<23&4294967295|O>>>9),O=I+(R^V^F)+D[1]+2763975236&4294967295,I=R+(O<<4&4294967295|O>>>28),O=F+(I^R^V)+D[4]+1272893353&4294967295,F=I+(O<<11&4294967295|O>>>21),O=V+(F^I^R)+D[7]+4139469664&4294967295,V=F+(O<<16&4294967295|O>>>16),O=R+(V^F^I)+D[10]+3200236656&4294967295,R=V+(O<<23&4294967295|O>>>9),O=I+(R^V^F)+D[13]+681279174&4294967295,I=R+(O<<4&4294967295|O>>>28),O=F+(I^R^V)+D[0]+3936430074&4294967295,F=I+(O<<11&4294967295|O>>>21),O=V+(F^I^R)+D[3]+3572445317&4294967295,V=F+(O<<16&4294967295|O>>>16),O=R+(V^F^I)+D[6]+76029189&4294967295,R=V+(O<<23&4294967295|O>>>9),O=I+(R^V^F)+D[9]+3654602809&4294967295,I=R+(O<<4&4294967295|O>>>28),O=F+(I^R^V)+D[12]+3873151461&4294967295,F=I+(O<<11&4294967295|O>>>21),O=V+(F^I^R)+D[15]+530742520&4294967295,V=F+(O<<16&4294967295|O>>>16),O=R+(V^F^I)+D[2]+3299628645&4294967295,R=V+(O<<23&4294967295|O>>>9),O=I+(V^(R|~F))+D[0]+4096336452&4294967295,I=R+(O<<6&4294967295|O>>>26),O=F+(R^(I|~V))+D[7]+1126891415&4294967295,F=I+(O<<10&4294967295|O>>>22),O=V+(I^(F|~R))+D[14]+2878612391&4294967295,V=F+(O<<15&4294967295|O>>>17),O=R+(F^(V|~I))+D[5]+4237533241&4294967295,R=V+(O<<21&4294967295|O>>>11),O=I+(V^(R|~F))+D[12]+1700485571&4294967295,I=R+(O<<6&4294967295|O>>>26),O=F+(R^(I|~V))+D[3]+2399980690&4294967295,F=I+(O<<10&4294967295|O>>>22),O=V+(I^(F|~R))+D[10]+4293915773&4294967295,V=F+(O<<15&4294967295|O>>>17),O=R+(F^(V|~I))+D[1]+2240044497&4294967295,R=V+(O<<21&4294967295|O>>>11),O=I+(V^(R|~F))+D[8]+1873313359&4294967295,I=R+(O<<6&4294967295|O>>>26),O=F+(R^(I|~V))+D[15]+4264355552&4294967295,F=I+(O<<10&4294967295|O>>>22),O=V+(I^(F|~R))+D[6]+2734768916&4294967295,V=F+(O<<15&4294967295|O>>>17),O=R+(F^(V|~I))+D[13]+1309151649&4294967295,R=V+(O<<21&4294967295|O>>>11),O=I+(V^(R|~F))+D[4]+4149444226&4294967295,I=R+(O<<6&4294967295|O>>>26),O=F+(R^(I|~V))+D[11]+3174756917&4294967295,F=I+(O<<10&4294967295|O>>>22),O=V+(I^(F|~R))+D[2]+718787259&4294967295,V=F+(O<<15&4294967295|O>>>17),O=R+(F^(V|~I))+D[9]+3951481745&4294967295,j.g[0]=j.g[0]+I&4294967295,j.g[1]=j.g[1]+(V+(O<<21&4294967295|O>>>11))&4294967295,j.g[2]=j.g[2]+V&4294967295,j.g[3]=j.g[3]+F&4294967295}s.prototype.u=function(j,I){I===void 0&&(I=j.length);for(var R=I-this.blockSize,D=this.B,V=this.h,F=0;F<I;){if(V==0)for(;F<=R;)o(this,j,F),F+=this.blockSize;if(typeof j=="string"){for(;F<I;)if(D[V++]=j.charCodeAt(F++),V==this.blockSize){o(this,D),V=0;break}}else for(;F<I;)if(D[V++]=j[F++],V==this.blockSize){o(this,D),V=0;break}}this.h=V,this.o+=I},s.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var I=1;I<j.length-8;++I)j[I]=0;var R=8*this.o;for(I=j.length-8;I<j.length;++I)j[I]=R&255,R/=256;for(this.u(j),j=Array(16),I=R=0;4>I;++I)for(var D=0;32>D;D+=8)j[R++]=this.g[I]>>>D&255;return j};function u(j,I){var R=d;return Object.prototype.hasOwnProperty.call(R,j)?R[j]:R[j]=I(j)}function h(j,I){this.h=I;for(var R=[],D=!0,V=j.length-1;0<=V;V--){var F=j[V]|0;D&&F==I||(R[V]=F,D=!1)}this.g=R}var d={};function m(j){return-128<=j&&128>j?u(j,function(I){return new h([I|0],0>I?-1:0)}):new h([j|0],0>j?-1:0)}function g(j){if(isNaN(j)||!isFinite(j))return S;if(0>j)return U(g(-j));for(var I=[],R=1,D=0;j>=R;D++)I[D]=j/R|0,R*=4294967296;return new h(I,0)}function E(j,I){if(j.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(j.charAt(0)=="-")return U(E(j.substring(1),I));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(I,8)),D=S,V=0;V<j.length;V+=8){var F=Math.min(8,j.length-V),O=parseInt(j.substring(V,V+F),I);8>F?(F=g(Math.pow(I,F)),D=D.j(F).add(g(O))):(D=D.j(R),D=D.add(g(O)))}return D}var S=m(0),A=m(1),C=m(16777216);i=h.prototype,i.m=function(){if($(this))return-U(this).m();for(var j=0,I=1,R=0;R<this.g.length;R++){var D=this.i(R);j+=(0<=D?D:4294967296+D)*I,I*=4294967296}return j},i.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(k(this))return"0";if($(this))return"-"+U(this).toString(j);for(var I=g(Math.pow(j,6)),R=this,D="";;){var V=he(R,I).g;R=Q(R,V.j(I));var F=((0<R.g.length?R.g[0]:R.h)>>>0).toString(j);if(R=V,k(R))return F+D;for(;6>F.length;)F="0"+F;D=F+D}},i.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function k(j){if(j.h!=0)return!1;for(var I=0;I<j.g.length;I++)if(j.g[I]!=0)return!1;return!0}function $(j){return j.h==-1}i.l=function(j){return j=Q(this,j),$(j)?-1:k(j)?0:1};function U(j){for(var I=j.g.length,R=[],D=0;D<I;D++)R[D]=~j.g[D];return new h(R,~j.h).add(A)}i.abs=function(){return $(this)?U(this):this},i.add=function(j){for(var I=Math.max(this.g.length,j.g.length),R=[],D=0,V=0;V<=I;V++){var F=D+(this.i(V)&65535)+(j.i(V)&65535),O=(F>>>16)+(this.i(V)>>>16)+(j.i(V)>>>16);D=O>>>16,F&=65535,O&=65535,R[V]=O<<16|F}return new h(R,R[R.length-1]&-2147483648?-1:0)};function Q(j,I){return j.add(U(I))}i.j=function(j){if(k(this)||k(j))return S;if($(this))return $(j)?U(this).j(U(j)):U(U(this).j(j));if($(j))return U(this.j(U(j)));if(0>this.l(C)&&0>j.l(C))return g(this.m()*j.m());for(var I=this.g.length+j.g.length,R=[],D=0;D<2*I;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<j.g.length;V++){var F=this.i(D)>>>16,O=this.i(D)&65535,wt=j.i(V)>>>16,pt=j.i(V)&65535;R[2*D+2*V]+=O*pt,ee(R,2*D+2*V),R[2*D+2*V+1]+=F*pt,ee(R,2*D+2*V+1),R[2*D+2*V+1]+=O*wt,ee(R,2*D+2*V+1),R[2*D+2*V+2]+=F*wt,ee(R,2*D+2*V+2)}for(D=0;D<I;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=I;D<2*I;D++)R[D]=0;return new h(R,0)};function ee(j,I){for(;(j[I]&65535)!=j[I];)j[I+1]+=j[I]>>>16,j[I]&=65535,I++}function J(j,I){this.g=j,this.h=I}function he(j,I){if(k(I))throw Error("division by zero");if(k(j))return new J(S,S);if($(j))return I=he(U(j),I),new J(U(I.g),U(I.h));if($(I))return I=he(j,U(I)),new J(U(I.g),I.h);if(30<j.g.length){if($(j)||$(I))throw Error("slowDivide_ only works with positive integers.");for(var R=A,D=I;0>=D.l(j);)R=ue(R),D=ue(D);var V=Te(R,1),F=Te(D,1);for(D=Te(D,2),R=Te(R,2);!k(D);){var O=F.add(D);0>=O.l(j)&&(V=V.add(R),F=O),D=Te(D,1),R=Te(R,1)}return I=Q(j,V.j(I)),new J(V,I)}for(V=S;0<=j.l(I);){for(R=Math.max(1,Math.floor(j.m()/I.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),F=g(R),O=F.j(I);$(O)||0<O.l(j);)R-=D,F=g(R),O=F.j(I);k(F)&&(F=A),V=V.add(F),j=Q(j,O)}return new J(V,j)}i.A=function(j){return he(this,j).h},i.and=function(j){for(var I=Math.max(this.g.length,j.g.length),R=[],D=0;D<I;D++)R[D]=this.i(D)&j.i(D);return new h(R,this.h&j.h)},i.or=function(j){for(var I=Math.max(this.g.length,j.g.length),R=[],D=0;D<I;D++)R[D]=this.i(D)|j.i(D);return new h(R,this.h|j.h)},i.xor=function(j){for(var I=Math.max(this.g.length,j.g.length),R=[],D=0;D<I;D++)R[D]=this.i(D)^j.i(D);return new h(R,this.h^j.h)};function ue(j){for(var I=j.g.length+1,R=[],D=0;D<I;D++)R[D]=j.i(D)<<1|j.i(D-1)>>>31;return new h(R,j.h)}function Te(j,I){var R=I>>5;I%=32;for(var D=j.g.length-R,V=[],F=0;F<D;F++)V[F]=0<I?j.i(F+R)>>>I|j.i(F+R+1)<<32-I:j.i(F+R);return new h(V,j.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,UT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,us=h}).apply(typeof x0<"u"?x0:typeof self<"u"?self:typeof window<"u"?window:{});var mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zT,iu,BT,Ah,hp,FT,qT,HT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,_,v){return c==Array.prototype||c==Object.prototype||(c[_]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof mh=="object"&&mh];for(var _=0;_<c.length;++_){var v=c[_];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,_){if(_)e:{var v=s;c=c.split(".");for(var x=0;x<c.length-1;x++){var B=c[x];if(!(B in v))break e;v=v[B]}c=c[c.length-1],x=v[c],_=_(x),_!=x&&_!=null&&e(v,c,{configurable:!0,writable:!0,value:_})}}function u(c,_){c instanceof String&&(c+="");var v=0,x=!1,B={next:function(){if(!x&&v<c.length){var G=v++;return{value:_(G,c[G]),done:!1}}return x=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(_,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function m(c){var _=typeof c;return _=_!="object"?_:c?Array.isArray(c)?"array":_:"null",_=="array"||_=="object"&&typeof c.length=="number"}function g(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function E(c,_,v){return c.call.apply(c.bind,arguments)}function S(c,_,v){if(!c)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,x),c.apply(_,B)}}return function(){return c.apply(_,arguments)}}function A(c,_,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,A.apply(null,arguments)}function C(c,_){var v=Array.prototype.slice.call(arguments,1);return function(){var x=v.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function k(c,_){function v(){}v.prototype=_.prototype,c.aa=_.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(x,B,G){for(var ie=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ie[Pe-2]=arguments[Pe];return _.prototype[B].apply(x,ie)}}function $(c){const _=c.length;if(0<_){const v=Array(_);for(let x=0;x<_;x++)v[x]=c[x];return v}return[]}function U(c,_){for(let v=1;v<arguments.length;v++){const x=arguments[v];if(m(x)){const B=c.length||0,G=x.length||0;c.length=B+G;for(let ie=0;ie<G;ie++)c[B+ie]=x[ie]}else c.push(x)}}class Q{constructor(_,v){this.i=_,this.j=v,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function ee(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var ue=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function Te(c,_,v){for(const x in c)_.call(v,c[x],x,c)}function j(c,_){for(const v in c)_.call(void 0,c[v],v,c)}function I(c){const _={};for(const v in c)_[v]=c[v];return _}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,_){let v,x;for(let B=1;B<arguments.length;B++){x=arguments[B];for(v in x)c[v]=x[v];for(let G=0;G<R.length;G++)v=R[G],Object.prototype.hasOwnProperty.call(x,v)&&(c[v]=x[v])}}function V(c){var _=1;c=c.split(":");const v=[];for(;0<_&&c.length;)v.push(c.shift()),_--;return c.length&&v.push(c.join(":")),v}function F(c){d.setTimeout(()=>{throw c},0)}function O(){var c=He;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class wt{constructor(){this.h=this.g=null}add(_,v){const x=pt.get();x.set(_,v),this.h?this.h.next=x:this.g=x,this.h=x}}var pt=new Q(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(_,v){this.h=_,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,pe=!1,He=new wt,M=()=>{const c=d.Promise.resolve(void 0);_e=()=>{c.then(ne)}};var ne=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(v){F(v)}var _=pt;_.j(c),100>_.h&&(_.h++,c.next=_.g,_.g=c)}pe=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,_),d.removeEventListener("test",v,_)}catch{}return c}();function Re(c,_){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget){if(ue){e:{try{he(_.nodeName);var B=!0;break e}catch{}B=!1}B||(_=null)}}else v=="mouseover"?_=c.fromElement:v=="mouseout"&&(_=c.toElement);this.relatedTarget=_,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Se[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Re.aa.h.call(this)}}k(Re,ae);var Se={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),ze=0;function ot(c,_,v,x,B){this.listener=c,this.proxy=null,this.src=_,this.type=v,this.capture=!!x,this.ha=B,this.key=++ze,this.da=this.fa=!1}function Ke(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function nn(c){this.src=c,this.g={},this.h=0}nn.prototype.add=function(c,_,v,x,B){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ie=Cn(c,_,x,B);return-1<ie?(_=c[ie],v||(_.fa=!1)):(_=new ot(_,this.src,G,!!x,B),_.fa=v,c.push(_)),_};function Mi(c,_){var v=_.type;if(v in c.g){var x=c.g[v],B=Array.prototype.indexOf.call(x,_,void 0),G;(G=0<=B)&&Array.prototype.splice.call(x,B,1),G&&(Ke(_),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Cn(c,_,v,x){for(var B=0;B<c.length;++B){var G=c[B];if(!G.da&&G.listener==_&&G.capture==!!v&&G.ha==x)return B}return-1}var vr="closure_lm_"+(1e6*Math.random()|0),Er={};function ji(c,_,v,x,B){if(Array.isArray(_)){for(var G=0;G<_.length;G++)ji(c,_[G],v,x,B);return null}return v=Gu(v),c&&c[gt]?c.K(_,v,g(x)?!!x.capture:!1,B):Go(c,_,v,!1,x,B)}function Go(c,_,v,x,B,G){if(!_)throw Error("Invalid event type");var ie=g(B)?!!B.capture:!!B,Pe=$o(c);if(Pe||(c[vr]=Pe=new nn(c)),v=Pe.add(_,v,x,ie,G),v.proxy)return v;if(x=wa(),v.proxy=x,x.src=c,x.listener=v,c.addEventListener)oe||(B=ie),B===void 0&&(B=!1),c.addEventListener(_.toString(),x,B);else if(c.attachEvent)c.attachEvent(Aa(_.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return v}function wa(){function c(v){return _.call(c.src,c.listener,v)}const _=Vf;return c}function ba(c,_,v,x,B){if(Array.isArray(_))for(var G=0;G<_.length;G++)ba(c,_[G],v,x,B);else x=g(x)?!!x.capture:!!x,v=Gu(v),c&&c[gt]?(c=c.i,_=String(_).toString(),_ in c.g&&(G=c.g[_],v=Cn(G,v,x,B),-1<v&&(Ke(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete c.g[_],c.h--)))):c&&(c=$o(c))&&(_=c.g[_.toString()],c=-1,_&&(c=Cn(_,v,x,B)),(v=-1<c?_[c]:null)&&Is(v))}function Is(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[gt])Mi(_.i,c);else{var v=c.type,x=c.proxy;_.removeEventListener?_.removeEventListener(v,x,c.capture):_.detachEvent?_.detachEvent(Aa(v),x):_.addListener&&_.removeListener&&_.removeListener(x),(v=$o(_))?(Mi(v,c),v.h==0&&(v.src=null,_[vr]=null)):Ke(c)}}}function Aa(c){return c in Er?Er[c]:Er[c]="on"+c}function Vf(c,_){if(c.da)c=!0;else{_=new Re(_,this);var v=c.listener,x=c.ha||c.src;c.fa&&Is(c),c=v.call(x,_)}return c}function $o(c){return c=c[vr],c instanceof nn?c:null}var cn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gu(c){return typeof c=="function"?c:(c[cn]||(c[cn]=function(_){return c.handleEvent(_)}),c[cn])}function bt(){de.call(this),this.i=new nn(this),this.M=this,this.F=null}k(bt,de),bt.prototype[gt]=!0,bt.prototype.removeEventListener=function(c,_,v,x){ba(this,c,_,v,x)};function kt(c,_){var v,x=c.F;if(x)for(v=[];x;x=x.F)v.push(x);if(c=c.M,x=_.type||_,typeof _=="string")_=new ae(_,c);else if(_ instanceof ae)_.target=_.target||c;else{var B=_;_=new ae(x,c),D(_,B)}if(B=!0,v)for(var G=v.length-1;0<=G;G--){var ie=_.g=v[G];B=Pi(ie,x,!0,_)&&B}if(ie=_.g=c,B=Pi(ie,x,!0,_)&&B,B=Pi(ie,x,!1,_)&&B,v)for(G=0;G<v.length;G++)ie=_.g=v[G],B=Pi(ie,x,!1,_)&&B}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var c=this.i,_;for(_ in c.g){for(var v=c.g[_],x=0;x<v.length;x++)Ke(v[x]);delete c.g[_],c.h--}}this.F=null},bt.prototype.K=function(c,_,v,x){return this.i.add(String(c),_,!1,v,x)},bt.prototype.L=function(c,_,v,x){return this.i.add(String(c),_,!0,v,x)};function Pi(c,_,v,x){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();for(var B=!0,G=0;G<_.length;++G){var ie=_[G];if(ie&&!ie.da&&ie.capture==v){var Pe=ie.listener,St=ie.ha||ie.src;ie.fa&&Mi(c.i,ie),B=Pe.call(St,x)!==!1&&B}}return B&&!x.defaultPrevented}function $u(c,_,v){if(typeof c=="function")v&&(c=A(c,v));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:d.setTimeout(c,_||0)}function Ko(c){c.g=$u(()=>{c.g=null,c.i&&(c.i=!1,Ko(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class Lf extends de{constructor(_,v){super(),this.m=_,this.l=v,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ko(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ns(c){de.call(this),this.h=c,this.g={}}k(Ns,de);var Tr=[];function Yt(c){Te(c.g,function(_,v){this.g.hasOwnProperty(v)&&Is(_)},c),c.g={}}Ns.prototype.N=function(){Ns.aa.N.call(this),Yt(this)},Ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qo=d.JSON.stringify,ri=d.JSON.parse,rn=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Yo(){}Yo.prototype.h=null;function Ku(c){return c.h||(c.h=c.i())}function Qu(){}var si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wr(){ae.call(this,"d")}k(wr,ae);function Kn(){ae.call(this,"c")}k(Kn,ae);var In={},br=null;function Sa(){return br=br||new bt}In.La="serverreachability";function Xo(c){ae.call(this,In.La,c)}k(Xo,ae);function Ar(c){const _=Sa();kt(_,new Xo(_))}In.STAT_EVENT="statevent";function xa(c,_){ae.call(this,In.STAT_EVENT,c),this.stat=_}k(xa,ae);function ft(c){const _=Sa();kt(_,new xa(_,c))}In.Ma="timingevent";function Yu(c,_){ae.call(this,In.Ma,c),this.size=_}k(Yu,ae);function Sr(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},_)}function xr(){this.g=!0}xr.prototype.xa=function(){this.g=!1};function Xu(c,_,v,x,B,G){c.info(function(){if(c.g)if(G)for(var ie="",Pe=G.split("&"),St=0;St<Pe.length;St++){var Ve=Pe[St].split("=");if(1<Ve.length){var Pt=Ve[0];Ve=Ve[1];var xt=Pt.split("_");ie=2<=xt.length&&xt[1]=="type"?ie+(Pt+"="+Ve+"&"):ie+(Pt+"=redacted&")}}else ie=null;else ie=G;return"XMLHTTP REQ ("+x+") [attempt "+B+"]: "+_+`
`+v+`
`+ie})}function Wu(c,_,v,x,B,G,ie){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+B+"]: "+_+`
`+v+`
`+G+" "+ie})}function Rr(c,_,v,x){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+Mt(c,v)+(x?" "+x:"")})}function ai(c,_){c.info(function(){return"TIMEOUT: "+_})}xr.prototype.info=function(){};function Mt(c,_){if(!c.g)return _;if(!_)return null;try{var v=JSON.parse(_);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var x=v[c];if(!(2>x.length)){var B=x[1];if(Array.isArray(B)&&!(1>B.length)){var G=B[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ie=1;ie<B.length;ie++)B[ie]=""}}}}return Qo(v)}catch{return _}}var At={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ds;function Ra(){}k(Ra,Yo),Ra.prototype.g=function(){return new XMLHttpRequest},Ra.prototype.i=function(){return{}},Ds=new Ra;function oi(c,_,v,x){this.j=c,this.i=_,this.l=v,this.R=x||1,this.U=new Ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wo}function Wo(){this.i=null,this.g="",this.h=!1}var Cr={},Os={};function Qn(c,_,v){c.L=1,c.v=js(lt(_)),c.m=v,c.P=!0,Li(c,null)}function Li(c,_){c.F=Date.now(),it(c),c.A=lt(c.v);var v=c.A,x=c.R;Array.isArray(x)||(x=[String(x)]),Bi(v.i,"t",x),c.C=0,v=c.j.J,c.h=new Wo,c.g=hc(c.j,v?_:null,!c.m),0<c.O&&(c.M=new Lf(A(c.Y,c,c.g),c.O)),_=c.U,v=c.g,x=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(Tr[0]=B.toString()),B=Tr);for(var G=0;G<B.length;G++){var ie=ji(v,B[G],x||_.handleEvent,!1,_.h||_);if(!ie)break;_.g[ie.key]=ie}_=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,_)):(c.u="GET",c.g.ea(c.A,c.u,null,_)),Ar(),Xu(c.i,c.u,c.A,c.l,c.R,c.m)}oi.prototype.ca=function(c){c=c.target;const _=this.M;_&&Mn(c)==3?_.j():this.Y(c)},oi.prototype.Y=function(c){try{if(c==this.g)e:{const xt=Mn(this.g);var _=this.g.Ba();const Gi=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||ic(this.g)))){this.J||xt!=4||_==7||(_==8||0>=Gi?Ar(3):Ar(2)),Ca(this);var v=this.g.Z();this.X=v;t:if(Ir(this)){var x=ic(this.g);c="";var B=x.length,G=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),_n(this);var ie="";break t}this.h.i=new d.TextDecoder}for(_=0;_<B;_++)this.h.h=!0,c+=this.h.i.decode(x[_],{stream:!(G&&_==B-1)});x.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=v==200,Wu(this.i,this.u,this.A,this.l,this.R,xt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,St=this.g;if((Pe=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(Pe)){var Ve=Pe;break t}}Ve=null}if(v=Ve)Rr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vn(this,v);else{this.o=!1,this.s=3,ft(12),hn(this),_n(this);break e}}if(this.P){v=!0;let Bt;for(;!this.J&&this.C<ie.length;)if(Bt=Nr(this,ie),Bt==Os){xt==4&&(this.s=4,ft(14),v=!1),Rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==Cr){this.s=4,ft(15),Rr(this.i,this.l,ie,"[Invalid Chunk]"),v=!1;break}else Rr(this.i,this.l,Bt,null),vn(this,Bt);if(Ir(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||ie.length!=0||this.h.h||(this.s=1,ft(16),v=!1),this.o=this.o&&v,!v)Rr(this.i,this.l,ie,"[Invalid Chunked Response]"),hn(this),_n(this);else if(0<ie.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Fs(Pt),Pt.M=!0,ft(11))}}else Rr(this.i,this.l,ie,null),vn(this,ie);xt==4&&hn(this),this.o&&!this.J&&(xt==4?lc(this.j,this):(this.o=!1,it(this)))}else Hf(this.g),v==400&&0<ie.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),hn(this),_n(this)}}}catch{}finally{}};function Ir(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Nr(c,_){var v=c.C,x=_.indexOf(`
`,v);return x==-1?Os:(v=Number(_.substring(v,x)),isNaN(v)?Cr:(x+=1,x+v>_.length?Os:(_=_.slice(x,x+v),c.C=x+v,_)))}oi.prototype.cancel=function(){this.J=!0,hn(this)};function it(c){c.S=Date.now()+c.I,Zo(c,c.I)}function Zo(c,_){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Sr(A(c.ba,c),_)}function Ca(c){c.B&&(d.clearTimeout(c.B),c.B=null)}oi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ai(this.i,this.A),this.L!=2&&(Ar(),ft(17)),hn(this),this.s=2,_n(this)):Zo(this,this.S-c)};function _n(c){c.j.G==0||c.J||lc(c.j,c)}function hn(c){Ca(c);var _=c.M;_&&typeof _.ma=="function"&&_.ma(),c.M=null,Yt(c.U),c.g&&(_=c.g,c.g=null,_.abort(),_.ma())}function vn(c,_){try{var v=c.j;if(v.G!=0&&(v.g==c||Dr(v.h,c))){if(!c.K&&Dr(v.h,c)&&v.G==3){try{var x=v.Da.g.parse(_)}catch{x=null}if(Array.isArray(x)&&x.length==3){var B=x;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)La(v),Pa(v);else break e;ul(v),ft(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=Sr(A(v.Za,v),6e3));if(1>=Zu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Hi(v,11)}else if((c.K||v.g==c)&&La(v),!ee(_))for(B=v.Da.g.parse(_),_=0;_<B.length;_++){let Ve=B[_];if(v.T=Ve[0],Ve=Ve[1],v.G==2)if(Ve[0]=="c"){v.K=Ve[1],v.ia=Ve[2];const Pt=Ve[3];Pt!=null&&(v.la=Pt,v.j.info("VER="+v.la));const xt=Ve[4];xt!=null&&(v.Aa=xt,v.j.info("SVER="+v.Aa));const Gi=Ve[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(x=1.5*Gi,v.L=x,v.j.info("backChannelRequestTimeoutMs_="+x)),x=v;const Bt=c.g;if(Bt){const mi=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mi){var G=x.h;G.g||mi.indexOf("spdy")==-1&&mi.indexOf("quic")==-1&&mi.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Or(G,G.h),G.h=null))}if(x.D){const hl=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;hl&&(x.ya=hl,Be(x.I,x.D,hl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),x=v;var ie=c;if(x.qa=cc(x,x.J?x.ia:null,x.W),ie.K){Nn(x.h,ie);var Pe=ie,St=x.L;St&&(Pe.I=St),Pe.B&&(Ca(Pe),it(Pe)),x.g=ie}else ac(x);0<v.i.length&&Va(v)}else Ve[0]!="stop"&&Ve[0]!="close"||Hi(v,7);else v.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Hi(v,7):ol(v):Ve[0]!="noop"&&v.l&&v.l.ta(Ve),v.v=0)}}Ar(4)}catch{}}var Uf=class{constructor(c,_){this.g=c,this.map=_}};function Jo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function el(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Zu(c){return c.h?1:c.g?c.g.size:0}function Dr(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function Or(c,_){c.g?c.g.add(_):c.h=_}function Nn(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}Jo.prototype.cancel=function(){if(this.i=sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function sn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const v of c.g.values())_=_.concat(v.D);return _}return $(c.i)}function Ju(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var _=[],v=c.length,x=0;x<v;x++)_.push(c[x]);return _}_=[],v=0;for(x in c)_[v++]=c[x];return _}function zf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var _=[];c=c.length;for(var v=0;v<c;v++)_.push(v);return _}_=[],v=0;for(const x in c)_[v++]=x;return _}}}function ks(c,_){if(c.forEach&&typeof c.forEach=="function")c.forEach(_,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,_,void 0);else for(var v=zf(c),x=Ju(c),B=x.length,G=0;G<B;G++)_.call(void 0,x[G],v&&v[G],c)}var tl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ia(c,_){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var x=c[v].indexOf("="),B=null;if(0<=x){var G=c[v].substring(0,x);B=c[v].substring(x+1)}else G=c[v];_(G,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Ui(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ui){this.h=c.h,kr(this,c.j),this.o=c.o,this.g=c.g,Ms(this,c.s),this.l=c.l;var _=c.i,v=new li;v.i=_.i,_.g&&(v.g=new Map(_.g),v.h=_.h),Na(this,v),this.m=c.m}else c&&(_=String(c).match(tl))?(this.h=!1,kr(this,_[1]||"",!0),this.o=Mr(_[2]||""),this.g=Mr(_[3]||"",!0),Ms(this,_[4]),this.l=Mr(_[5]||"",!0),Na(this,_[6]||"",!0),this.m=Mr(_[7]||"")):(this.h=!1,this.i=new li(null,this.h))}Ui.prototype.toString=function(){var c=[],_=this.j;_&&c.push(Dn(_,nl,!0),":");var v=this.g;return(v||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Dn(_,nl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Dn(v,v.charAt(0)=="/"?il:ec,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Dn(v,qf)),c.join("")};function lt(c){return new Ui(c)}function kr(c,_,v){c.j=v?Mr(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function Ms(c,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);c.s=_}else c.s=null}function Na(c,_,v){_ instanceof li?(c.i=_,rl(c.i,c.h)):(v||(_=Dn(_,Ff)),c.i=new li(_,c.h))}function Be(c,_,v){c.i.set(_,v)}function js(c){return Be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Mr(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Dn(c,_,v){return typeof c=="string"?(c=encodeURI(c).replace(_,Bf),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Bf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var nl=/[#\/\?@]/g,ec=/[#\?:]/g,il=/[#\?]/g,Ff=/[#\?@]/g,qf=/#/g;function li(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function On(c){c.g||(c.g=new Map,c.h=0,c.i&&Ia(c.i,function(_,v){c.add(decodeURIComponent(_.replace(/\+/g," ")),v)}))}i=li.prototype,i.add=function(c,_){On(this),this.i=null,c=Fi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(_),this.h+=1,this};function Da(c,_){On(c),_=Fi(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function zi(c,_){return On(c),_=Fi(c,_),c.g.has(_)}i.forEach=function(c,_){On(this),this.g.forEach(function(v,x){v.forEach(function(B){c.call(_,B,x,this)},this)},this)},i.na=function(){On(this);const c=Array.from(this.g.values()),_=Array.from(this.g.keys()),v=[];for(let x=0;x<_.length;x++){const B=c[x];for(let G=0;G<B.length;G++)v.push(_[x])}return v},i.V=function(c){On(this);let _=[];if(typeof c=="string")zi(this,c)&&(_=_.concat(this.g.get(Fi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)_=_.concat(c[v])}return _},i.set=function(c,_){return On(this),this.i=null,c=Fi(this,c),zi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},i.get=function(c,_){return c?(c=this.V(c),0<c.length?String(c[0]):_):_};function Bi(c,_,v){Da(c,_),0<v.length&&(c.i=null,c.g.set(Fi(c,_),$(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(var v=0;v<_.length;v++){var x=_[v];const G=encodeURIComponent(String(x)),ie=this.V(x);for(x=0;x<ie.length;x++){var B=G;ie[x]!==""&&(B+="="+encodeURIComponent(String(ie[x]))),c.push(B)}}return this.i=c.join("&")};function Fi(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function rl(c,_){_&&!c.j&&(On(c),c.i=null,c.g.forEach(function(v,x){var B=x.toLowerCase();x!=B&&(Da(this,x),Bi(this,B,v))},c)),c.j=_}function tc(c,_){const v=new xr;if(d.Image){const x=new Image;x.onload=C(kn,v,"TestLoadImage: loaded",!0,_,x),x.onerror=C(kn,v,"TestLoadImage: error",!1,_,x),x.onabort=C(kn,v,"TestLoadImage: abort",!1,_,x),x.ontimeout=C(kn,v,"TestLoadImage: timeout",!1,_,x),d.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else _(!1)}function Ps(c,_){const v=new xr,x=new AbortController,B=setTimeout(()=>{x.abort(),kn(v,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:x.signal}).then(G=>{clearTimeout(B),G.ok?kn(v,"TestPingServer: ok",!0,_):kn(v,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(B),kn(v,"TestPingServer: error",!1,_)})}function kn(c,_,v,x,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),x(v)}catch{}}function Vs(){this.g=new rn}function ui(c,_,v){const x=v||"";try{ks(c,function(B,G){let ie=B;g(B)&&(ie=Qo(B)),_.push(x+G+"="+encodeURIComponent(ie))})}catch(B){throw _.push(x+"type="+encodeURIComponent("_badmap")),B}}function jr(c){this.l=c.Ub||null,this.j=c.eb||!1}k(jr,Yo),jr.prototype.g=function(){return new qi(this.l,this.j)},jr.prototype.i=function(c){return function(){return c}}({});function qi(c,_){bt.call(this),this.D=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(qi,bt),i=qi.prototype,i.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=_,this.readyState=1,hi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(_.body=c),(this.D||d).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ci(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function sl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?ci(this):hi(this),this.readyState==3&&sl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ci(this))},i.Qa=function(c){this.g&&(this.response=c,ci(this))},i.ga=function(){this.g&&ci(this)};function ci(c){c.readyState=4,c.l=null,c.j=null,c.v=null,hi(c)}i.setRequestHeader=function(c,_){this.u.append(c,_)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var v=_.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=_.next();return c.join(`\r
`)};function hi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function al(c){let _="";return Te(c,function(v,x){_+=x,_+=":",_+=v,_+=`\r
`}),_}function jt(c,_,v){e:{for(x in v){var x=!1;break e}x=!0}x||(v=al(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Be(c,_,v))}function Ge(c){bt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Ge,bt);var Oa=/^https?$/i,Ls=["POST","PUT"];i=Ge.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,_,v,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ds.g(),this.v=this.o?Ku(this.o):Ku(Ds),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(G){nc(this,G);return}if(c=v||"",v=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var B in x)v.set(B,x[B]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const G of x.keys())v.set(G,x.get(G));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),B=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ls,_,void 0))||x||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ie]of v)this.g.setRequestHeader(G,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Us(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){nc(this,G)}};function nc(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.m=5,ka(c),fi(c)}function ka(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,kt(this,"complete"),kt(this,"abort"),fi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fi(this,!0)),Ge.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ma(this):this.bb())},i.bb=function(){Ma(this)};function Ma(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Mn(c)!=4||c.Z()!=2)){if(c.u&&Mn(c)==4)$u(c.Ea,0,c);else if(kt(c,"readystatechange"),Mn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var v;if(!(v=_)){var x;if(x=ie===0){var B=String(c.D).match(tl)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),x=!Oa.test(B?B.toLowerCase():"")}v=x}if(v)kt(c,"complete"),kt(c,"success");else{c.m=6;try{var G=2<Mn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",ka(c)}}finally{fi(c)}}}}function fi(c,_){if(c.g){Us(c);const v=c.g,x=c.v[0]?()=>{}:null;c.g=null,c.v=null,_||kt(c,"ready");try{v.onreadystatechange=x}catch{}}}function Us(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Mn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),ri(_)}};function ic(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Hf(c){const _={};c=(c.g&&2<=Mn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(ee(c[x]))continue;var v=V(c[x]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=_[B]||[];_[B]=G,G.push(v)}j(_,function(x){return x.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zs(c,_,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||_}function ja(c){this.Aa=0,this.i=[],this.j=new xr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zs("baseRetryDelayMs",5e3,c),this.cb=zs("retryDelaySeedMs",1e4,c),this.Wa=zs("forwardChannelMaxRetries",2,c),this.wa=zs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Jo(c&&c.concurrentRequestLimit),this.Da=new Vs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ja.prototype,i.la=8,i.G=1,i.connect=function(c,_,v,x){ft(0),this.W=c,this.H=_||{},v&&x!==void 0&&(this.H.OSID=v,this.H.OAID=x),this.F=this.X,this.I=cc(this,null,this.W),Va(this)};function ol(c){if(rc(c),c.G==3){var _=c.U++,v=lt(c.I);if(Be(v,"SID",c.K),Be(v,"RID",_),Be(v,"TYPE","terminate"),Bs(c,v),_=new oi(c,c.j,_),_.L=2,_.v=js(lt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(_.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=_.v,v=!0),v||(_.g=hc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),it(_)}uc(c)}function Pa(c){c.g&&(Fs(c),c.g.cancel(),c.g=null)}function rc(c){Pa(c),c.u&&(d.clearTimeout(c.u),c.u=null),La(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Va(c){if(!el(c.h)&&!c.s){c.s=!0;var _=c.Ga;_e||M(),pe||(_e(),pe=!0),He.add(_,c),c.B=0}}function Gf(c,_){return Zu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=_.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Sr(A(c.Ga,c,_),cl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new oi(this,this.j,c);let G=this.o;if(this.S&&(G?(G=I(G),D(G,this.S)):G=this.S),this.m!==null||this.O||(B.H=G,G=null),this.P)e:{for(var _=0,v=0;v<this.i.length;v++){t:{var x=this.i[v];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(_+=x,4096<_){_=v;break e}if(_===4096||v===this.i.length-1){_=v+1;break e}}_=1e3}else _=1e3;_=sc(this,B,_),v=lt(this.I),Be(v,"RID",c),Be(v,"CVER",22),this.D&&Be(v,"X-HTTP-Session-Id",this.D),Bs(this,v),G&&(this.O?_="headers="+encodeURIComponent(String(al(G)))+"&"+_:this.m&&jt(v,this.m,G)),Or(this.h,B),this.Ua&&Be(v,"TYPE","init"),this.P?(Be(v,"$req",_),Be(v,"SID","null"),B.T=!0,Qn(B,v,null)):Qn(B,v,_),this.G=2}}else this.G==3&&(c?ll(this,c):this.i.length==0||el(this.h)||ll(this))};function ll(c,_){var v;_?v=_.l:v=c.U++;const x=lt(c.I);Be(x,"SID",c.K),Be(x,"RID",v),Be(x,"AID",c.T),Bs(c,x),c.m&&c.o&&jt(x,c.m,c.o),v=new oi(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),_&&(c.i=_.D.concat(c.i)),_=sc(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Or(c.h,v),Qn(v,x,_)}function Bs(c,_){c.H&&Te(c.H,function(v,x){Be(_,x,v)}),c.l&&ks({},function(v,x){Be(_,x,v)})}function sc(c,_,v){v=Math.min(c.i.length,v);var x=c.l?A(c.l.Na,c.l,c):null;e:{var B=c.i;let G=-1;for(;;){const ie=["count="+v];G==-1?0<v?(G=B[0].g,ie.push("ofs="+G)):G=0:ie.push("ofs="+G);let Pe=!0;for(let St=0;St<v;St++){let Ve=B[St].g;const Pt=B[St].map;if(Ve-=G,0>Ve)G=Math.max(0,B[St].g-100),Pe=!1;else try{ui(Pt,ie,"req"+Ve+"_")}catch{x&&x(Pt)}}if(Pe){x=ie.join("&");break e}}}return c=c.i.splice(0,v),_.D=c,x}function ac(c){if(!c.g&&!c.u){c.Y=1;var _=c.Fa;_e||M(),pe||(_e(),pe=!0),He.add(_,c),c.v=0}}function ul(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Sr(A(c.Fa,c),cl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,oc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Sr(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Pa(this),oc(this))};function Fs(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function oc(c){c.g=new oi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var _=lt(c.qa);Be(_,"RID","rpc"),Be(_,"SID",c.K),Be(_,"AID",c.T),Be(_,"CI",c.F?"0":"1"),!c.F&&c.ja&&Be(_,"TO",c.ja),Be(_,"TYPE","xmlhttp"),Bs(c,_),c.m&&c.o&&jt(_,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=js(lt(_)),v.m=null,v.P=!0,Li(v,c)}i.Za=function(){this.C!=null&&(this.C=null,Pa(this),ul(this),ft(19))};function La(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function lc(c,_){var v=null;if(c.g==_){La(c),Fs(c),c.g=null;var x=2}else if(Dr(c.h,_))v=_.D,Nn(c.h,_),x=1;else return;if(c.G!=0){if(_.o)if(x==1){v=_.m?_.m.length:0,_=Date.now()-_.F;var B=c.B;x=Sa(),kt(x,new Yu(x,v)),Va(c)}else ac(c);else if(B=_.s,B==3||B==0&&0<_.X||!(x==1&&Gf(c,_)||x==2&&ul(c)))switch(v&&0<v.length&&(_=c.h,_.i=_.i.concat(v)),B){case 1:Hi(c,5);break;case 4:Hi(c,10);break;case 3:Hi(c,6);break;default:Hi(c,2)}}}function cl(c,_){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*_}function Hi(c,_){if(c.j.info("Error code "+_),_==2){var v=A(c.fb,c),x=c.Xa;const B=!x;x=new Ui(x||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||kr(x,"https"),js(x),B?tc(x.toString(),v):Ps(x.toString(),v)}else ft(2);c.G=0,c.l&&c.l.sa(_),uc(c),rc(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function uc(c){if(c.G=0,c.ka=[],c.l){const _=sn(c.h);(_.length!=0||c.i.length!=0)&&(U(c.ka,_),U(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function cc(c,_,v){var x=v instanceof Ui?lt(v):new Ui(v);if(x.g!="")_&&(x.g=_+"."+x.g),Ms(x,x.s);else{var B=d.location;x=B.protocol,_=_?_+"."+B.hostname:B.hostname,B=+B.port;var G=new Ui(null);x&&kr(G,x),_&&(G.g=_),B&&Ms(G,B),v&&(G.l=v),x=G}return v=c.D,_=c.ya,v&&_&&Be(x,v,_),Be(x,"VER",c.la),Bs(c,x),x}function hc(c,_,v){if(_&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Ca&&!c.pa?new Ge(new jr({eb:v})):new Ge(c.pa),_.Ha(c.J),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function fc(){}i=fc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ua(){}Ua.prototype.g=function(c,_){return new an(c,_)};function an(c,_){bt.call(this),this.g=new ja(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(c?c["X-WebChannel-Client-Profile"]=_.va:c={"X-WebChannel-Client-Profile":_.va}),this.g.S=c,(c=_&&_.Sb)&&!ee(c)&&(this.g.m=c),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!ee(_)&&(this.g.D=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new di(this)}k(an,bt),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){ol(this.g)},an.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Qo(c),c=v);_.i.push(new Uf(_.Ya++,c)),_.G==3&&Va(_)},an.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,an.aa.N.call(this)};function dc(c){wr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const v in _){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}k(dc,wr);function mc(){Kn.call(this),this.status=1}k(mc,Kn);function di(c){this.g=c}k(di,fc),di.prototype.ua=function(){kt(this.g,"a")},di.prototype.ta=function(c){kt(this.g,new dc(c))},di.prototype.sa=function(c){kt(this.g,new mc)},di.prototype.ra=function(){kt(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,HT=function(){return new Ua},qT=function(){return Sa()},FT=In,hp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},At.NO_ERROR=0,At.TIMEOUT=8,At.HTTP_ERROR=6,Ah=At,Vi.COMPLETE="complete",BT=Vi,Qu.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",bt.prototype.listen=bt.prototype.K,iu=Qu,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,zT=Ge}).apply(typeof mh<"u"?mh:typeof self<"u"?self:typeof window<"u"?window:{});const R0="@firebase/firestore",C0="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new Hp("@firebase/firestore");function fo(){return ca.logLevel}function le(i,...e){if(ca.logLevel<=Oe.DEBUG){const t=e.map(Kp);ca.debug(`Firestore (${Mo}): ${i}`,...t)}}function pr(i,...e){if(ca.logLevel<=Oe.ERROR){const t=e.map(Kp);ca.error(`Firestore (${Mo}): ${i}`,...t)}}function wo(i,...e){if(ca.logLevel<=Oe.WARN){const t=e.map(Kp);ca.warn(`Firestore (${Mo}): ${i}`,...t)}}function Kp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i="Unexpected state"){const e=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: `+i;throw pr(e),new Error(e)}function $e(i,e){i||Ee()}function Ae(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Oi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jt.UNAUTHENTICATED))}shutdown(){}}class JC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class eI{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0);let s=this.i;const o=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let u=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new fr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new fr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string"),new GT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Jt(e)}}class tI{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class nI{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new tI(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class I0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iI{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Sn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new I0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string"),this.R=t.token,new I0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=rI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function je(i,e){return i<e?-1:i>e?1:0}function bo(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=-62135596800,D0=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*D0);return new It(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new se(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new se(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<N0)throw new se(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D0}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-N0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new It(0,0))}static max(){return new we(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="__name__";class Ei{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ee(),s===void 0?s=e.length-t:s>e.length-t&&Ee(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ei.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ei?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Ei.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=Ei.isNumericId(e),o=Ei.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Ei.extractNumericId(e).compare(Ei.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class tt extends Ei{construct(e,t,s){return new tt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new se(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new tt(t)}static emptyPath(){return new tt([])}}const sI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ei{construct(e,t,s){return new Kt(e,t,s)}static isValidIdentifier(e){return sI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O0}static keyField(){return new Kt([O0])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new se(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new se(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new se(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(u(),o++)}if(u(),h)throw new se(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=-1;function aI(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new It(t+1,0):new It(t,s));return new ds(o,ge.empty(),e)}function oI(i){return new ds(i.readTime,i.key,pu)}class ds{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ds(we.min(),ge.empty(),pu)}static max(){return new ds(we.max(),ge.empty(),pu)}}function lI(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(i.documentKey,e.documentKey),t!==0?t:je(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(i){if(i.code!==X.FAILED_PRECONDITION||i.message!==uI)throw i;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,s)=>{t(e)})}static reject(e){return new Z((t,s)=>{s(e)})}static waitFor(e){return new Z((t,s)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&t()},m=>s(m))}),h=!0,u===o&&t()})}static or(e){let t=Z.resolve(!1);for(const s of e)t=t.next(o=>o?Z.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new Z((s,o)=>{const u=e.length,h=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;t(e[g]).next(E=>{h[g]=E,++d,d===u&&s(h)},E=>o(E))}})}static doWhile(e,t){return new Z((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function hI(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Po(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}uf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp=-1;function cf(i){return i==null}function zh(i){return i===0&&1/i==-1/0}function fI(i){return typeof i=="number"&&Number.isInteger(i)&&!zh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="";function dI(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=k0(e)),e=mI(i.get(t),e);return k0(e)}function mI(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case KT:t+="";break;default:t+=u}}return t}function k0(i){return i+KT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function bs(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function QT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){this.comparator=e,this.root=t||$t.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ph(this.root,e,this.comparator,!0)}}class ph{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new $t(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,t,s,o,u){return this}insert(e,t,s){return new $t(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new j0(this.data.getIterator())}getIteratorFrom(e){return new j0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nt(this.comparator);return t.data=e,t}}class j0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new xn([])}unionWith(e){let t=new Nt(Kt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new xn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new YT("Invalid base64 string: "+u):u}}(e);return new Qt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const pI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(i){if($e(!!i),typeof i=="string"){let e=0;const t=pI.exec(i);if($e(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:mt(i.seconds),nanos:mt(i.nanos)}}function mt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ps(i){return typeof i=="string"?Qt.fromBase64String(i):Qt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="server_timestamp",WT="__type__",ZT="__previous_value__",JT="__local_write_time__";function Yp(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[WT])===null||t===void 0?void 0:t.stringValue)===XT}function hf(i){const e=i.mapValue.fields[ZT];return Yp(e)?hf(e):e}function gu(i){const e=ms(i.mapValue.fields[JT].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,t,s,o,u,h,d,m,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g}}const Bh="(default)";class yu{constructor(e,t){this.projectId=e,this.database=t||Bh}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database===Bh}isEqual(e){return e instanceof yu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="__type__",yI="__max__",gh={mapValue:{}},tw="__vector__",Fh="value";function gs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Yp(i)?4:vI(i)?9007199254740991:_I(i)?10:11:Ee()}function Ri(i,e){if(i===e)return!0;const t=gs(i);if(t!==gs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return gu(i).isEqual(gu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ms(o.timestampValue),d=ms(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ps(o.bytesValue).isEqual(ps(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return mt(o.geoPointValue.latitude)===mt(u.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return mt(o.integerValue)===mt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=mt(o.doubleValue),d=mt(u.doubleValue);return h===d?zh(h)===zh(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return bo(i.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(M0(h)!==M0(d))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(d[m]===void 0||!Ri(h[m],d[m])))return!1;return!0}(i,e);default:return Ee()}}function _u(i,e){return(i.values||[]).find(t=>Ri(t,e))!==void 0}function Ao(i,e){if(i===e)return 0;const t=gs(i),s=gs(e);if(t!==s)return je(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(i.booleanValue,e.booleanValue);case 2:return function(u,h){const d=mt(u.integerValue||u.doubleValue),m=mt(h.integerValue||h.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(i,e);case 3:return P0(i.timestampValue,e.timestampValue);case 4:return P0(gu(i),gu(e));case 5:return je(i.stringValue,e.stringValue);case 6:return function(u,h){const d=ps(u),m=ps(h);return d.compareTo(m)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),m=h.split("/");for(let g=0;g<d.length&&g<m.length;g++){const E=je(d[g],m[g]);if(E!==0)return E}return je(d.length,m.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const d=je(mt(u.latitude),mt(h.latitude));return d!==0?d:je(mt(u.longitude),mt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return V0(i.arrayValue,e.arrayValue);case 10:return function(u,h){var d,m,g,E;const S=u.fields||{},A=h.fields||{},C=(d=S[Fh])===null||d===void 0?void 0:d.arrayValue,k=(m=A[Fh])===null||m===void 0?void 0:m.arrayValue,$=je(((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0,((E=k==null?void 0:k.values)===null||E===void 0?void 0:E.length)||0);return $!==0?$:V0(C,k)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===gh.mapValue&&h===gh.mapValue)return 0;if(u===gh.mapValue)return 1;if(h===gh.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=h.fields||{},E=Object.keys(g);m.sort(),E.sort();for(let S=0;S<m.length&&S<E.length;++S){const A=je(m[S],E[S]);if(A!==0)return A;const C=Ao(d[m[S]],g[E[S]]);if(C!==0)return C}return je(m.length,E.length)}(i.mapValue,e.mapValue);default:throw Ee()}}function P0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return je(i,e);const t=ms(i),s=ms(e),o=je(t.seconds,s.seconds);return o!==0?o:je(t.nanos,s.nanos)}function V0(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Ao(t[o],s[o]);if(u)return u}return je(t.length,s.length)}function So(i){return fp(i)}function fp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=ms(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return ps(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ge.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=fp(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${fp(t.fields[h])}`;return o+"}"}(i.mapValue):Ee()}function Sh(i){switch(gs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hf(i);return e?16+Sh(e):16;case 5:return 2*i.stringValue.length;case 6:return ps(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Sh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return bs(s.fields,(u,h)=>{o+=u.length+Sh(h)}),o}(i.mapValue);default:throw Ee()}}function L0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function dp(i){return!!i&&"integerValue"in i}function Xp(i){return!!i&&"arrayValue"in i}function U0(i){return!!i&&"nullValue"in i}function z0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function xh(i){return!!i&&"mapValue"in i}function _I(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[ew])===null||t===void 0?void 0:t.stringValue)===tw}function ou(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return bs(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=ou(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ou(i.arrayValue.values[t]);return e}return Object.assign({},i)}function vI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===yI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!xh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ou(t)}setAll(e){let t=Kt.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=ou(h):o.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());xh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];xh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){bs(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new mn(ou(this.value))}}function nw(i){const e=[];return bs(i.fields,(t,s)=>{const o=new Kt([t]);if(xh(s)){const u=nw(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t,s,o,u,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new en(e,0,we.min(),we.min(),we.min(),mn.empty(),0)}static newFoundDocument(e,t,s,o){return new en(e,1,t,we.min(),s,o,0)}static newNoDocument(e,t){return new en(e,2,t,we.min(),we.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,we.min(),we.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t){this.position=e,this.inclusive=t}}function B0(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),t.key):s=Ao(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function F0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ri(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,t="asc"){this.field=e,this.dir=t}}function EI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{}class Tt extends iw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new wI(e,t,s):t==="array-contains"?new SI(e,s):t==="in"?new xI(e,s):t==="not-in"?new RI(e,s):t==="array-contains-any"?new CI(e,s):new Tt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new bI(e,s):new AI(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ao(t,this.value)):t!==null&&gs(this.value)===gs(t)&&this.matchesComparison(Ao(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends iw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ei(e,t)}matches(e){return rw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function rw(i){return i.op==="and"}function sw(i){return TI(i)&&rw(i)}function TI(i){for(const e of i.filters)if(e instanceof ei)return!1;return!0}function mp(i){if(i instanceof Tt)return i.field.canonicalString()+i.op.toString()+So(i.value);if(sw(i))return i.filters.map(e=>mp(e)).join(",");{const e=i.filters.map(t=>mp(t)).join(",");return`${i.op}(${e})`}}function aw(i,e){return i instanceof Tt?function(s,o){return o instanceof Tt&&s.op===o.op&&s.field.isEqual(o.field)&&Ri(s.value,o.value)}(i,e):i instanceof ei?function(s,o){return o instanceof ei&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,d)=>u&&aw(h,o.filters[d]),!0):!1}(i,e):void Ee()}function ow(i){return i instanceof Tt?function(t){return`${t.field.canonicalString()} ${t.op} ${So(t.value)}`}(i):i instanceof ei?function(t){return t.op.toString()+" {"+t.getFilters().map(ow).join(" ,")+"}"}(i):"Filter"}class wI extends Tt{constructor(e,t,s){super(e,t,s),this.key=ge.fromName(s.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class bI extends Tt{constructor(e,t){super(e,"in",t),this.keys=lw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class AI extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=lw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function lw(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ge.fromName(s.referenceValue))}class SI extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xp(t)&&_u(t.arrayValue,this.value)}}class xI extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_u(this.value.arrayValue,t)}}class RI extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(_u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!_u(this.value.arrayValue,t)}}class CI extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>_u(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,t=null,s=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.le=null}}function q0(i,e=null,t=[],s=[],o=null,u=null,h=null){return new II(i,e,t,s,o,u,h)}function Wp(i){const e=Ae(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>mp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),cf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>So(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>So(s)).join(",")),e.le=t}return e.le}function Zp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!EI(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!aw(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!F0(i.startAt,e.startAt)&&F0(i.endAt,e.endAt)}function pp(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,t=null,s=[],o=[],u=null,h="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function NI(i,e,t,s,o,u,h,d){return new Vo(i,e,t,s,o,u,h,d)}function Jp(i){return new Vo(i)}function H0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function uw(i){return i.collectionGroup!==null}function lu(i){const e=Ae(i);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Nt(Kt.comparator);return h.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new vu(u,s))}),t.has(Kt.keyField().canonicalString())||e.he.push(new vu(Kt.keyField(),s))}return e.he}function bi(i){const e=Ae(i);return e.Pe||(e.Pe=DI(e,lu(i))),e.Pe}function DI(i,e){if(i.limitType==="F")return q0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new vu(o.field,u)});const t=i.endAt?new qh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new qh(i.startAt.position,i.startAt.inclusive):null;return q0(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function gp(i,e){const t=i.filters.concat([e]);return new Vo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Hh(i,e,t){return new Vo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function ff(i,e){return Zp(bi(i),bi(e))&&i.limitType===e.limitType}function cw(i){return`${Wp(bi(i))}|lt:${i.limitType}`}function mo(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>ow(o)).join(", ")}]`),cf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>So(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>So(o)).join(",")),`Target(${s})`}(bi(i))}; limitType=${i.limitType})`}function df(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of lu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,d,m){const g=B0(h,d,m);return h.inclusive?g<=0:g<0}(s.startAt,lu(s),o)||s.endAt&&!function(h,d,m){const g=B0(h,d,m);return h.inclusive?g>=0:g>0}(s.endAt,lu(s),o))}(i,e)}function OI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function hw(i){return(e,t)=>{let s=!1;for(const o of lu(i)){const u=kI(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function kI(i,e,t){const s=i.field.isKeyField()?ge.comparator(e.key,t.key):function(u,h,d){const m=h.data.field(u),g=d.data.field(u);return m!==null&&g!==null?Ao(m,g):Ee()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return QT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new at(ge.comparator);function gr(){return MI}const fw=new at(ge.comparator);function ru(...i){let e=fw;for(const t of i)e=e.insert(t.key,t);return e}function dw(i){let e=fw;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function la(){return uu()}function mw(){return uu()}function uu(){return new _a(i=>i.toString(),(i,e)=>i.isEqual(e))}const jI=new at(ge.comparator),PI=new Nt(ge.comparator);function ke(...i){let e=PI;for(const t of i)e=e.add(t);return e}const VI=new Nt(je);function LI(){return VI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function pw(i){return{integerValue:""+i}}function gw(i,e){return fI(e)?pw(e):eg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(){this._=void 0}}function UI(i,e,t){return i instanceof Eu?function(o,u){const h={fields:{[WT]:{stringValue:XT},[JT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Yp(u)&&(u=hf(u)),u&&(h.fields[ZT]=u),{mapValue:h}}(t,e):i instanceof Tu?_w(i,e):i instanceof wu?vw(i,e):function(o,u){const h=yw(o,u),d=G0(h)+G0(o.Ie);return dp(h)&&dp(o.Ie)?pw(d):eg(o.serializer,d)}(i,e)}function zI(i,e,t){return i instanceof Tu?_w(i,e):i instanceof wu?vw(i,e):t}function yw(i,e){return i instanceof bu?function(s){return dp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Eu extends mf{}class Tu extends mf{constructor(e){super(),this.elements=e}}function _w(i,e){const t=Ew(e);for(const s of i.elements)t.some(o=>Ri(o,s))||t.push(s);return{arrayValue:{values:t}}}class wu extends mf{constructor(e){super(),this.elements=e}}function vw(i,e){let t=Ew(e);for(const s of i.elements)t=t.filter(o=>!Ri(o,s));return{arrayValue:{values:t}}}class bu extends mf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function G0(i){return mt(i.integerValue||i.doubleValue)}function Ew(i){return Xp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,t){this.field=e,this.transform=t}}function BI(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Tu&&o instanceof Tu||s instanceof wu&&o instanceof wu?bo(s.elements,o.elements,Ri):s instanceof bu&&o instanceof bu?Ri(s.Ie,o.Ie):s instanceof Eu&&o instanceof Eu}(i.transform,e.transform)}class FI{constructor(e,t){this.version=e,this.transformResults=t}}class gn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gn}static exists(e){return new gn(void 0,e)}static updateTime(e){return new gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class pf{}function ww(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new gf(i.key,gn.none()):new Ou(i.key,i.data,gn.none());{const t=i.data,s=mn.empty();let o=new Nt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new As(i.key,s,new xn(o.toArray()),gn.none())}}function qI(i,e,t){i instanceof Ou?function(o,u,h){const d=o.value.clone(),m=K0(o.fieldTransforms,u,h.transformResults);d.setAll(m),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,t):i instanceof As?function(o,u,h){if(!Rh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=K0(o.fieldTransforms,u,h.transformResults),m=u.data;m.setAll(bw(o)),m.setAll(d),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function cu(i,e,t,s){return i instanceof Ou?function(u,h,d,m){if(!Rh(u.precondition,h))return d;const g=u.value.clone(),E=Q0(u.fieldTransforms,m,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof As?function(u,h,d,m){if(!Rh(u.precondition,h))return d;const g=Q0(u.fieldTransforms,m,h),E=h.data;return E.setAll(bw(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(i,e,t,s):function(u,h,d){return Rh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,t)}function HI(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=yw(s.transform,o||null);u!=null&&(t===null&&(t=mn.empty()),t.set(s.field,u))}return t||null}function $0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&bo(s,o,(u,h)=>BI(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ou extends pf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class As extends pf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function bw(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function K0(i,e,t){const s=new Map;$e(i.length===t.length);for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,d=e.data.field(u.field);s.set(u.field,zI(h,d,t[o]))}return s}function Q0(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,UI(u,h,e))}return s}class gf extends pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GI extends pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&qI(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=cu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=cu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=mw();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(o.key)?null:d;const m=ww(h,d);m!==null&&s.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,(t,s)=>$0(t,s))&&bo(this.baseMutations,e.baseMutations,(t,s)=>$0(t,s))}}class tg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){$e(e.mutations.length===s.length);let o=function(){return jI}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new tg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Ue;function YI(i){switch(i){case X.OK:return Ee();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Ee()}}function Aw(i){if(i===void 0)return pr("GRPC error has no .code"),X.UNKNOWN;switch(i){case Et.OK:return X.OK;case Et.CANCELLED:return X.CANCELLED;case Et.UNKNOWN:return X.UNKNOWN;case Et.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Et.INTERNAL:return X.INTERNAL;case Et.UNAVAILABLE:return X.UNAVAILABLE;case Et.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Et.NOT_FOUND:return X.NOT_FOUND;case Et.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Et.ABORTED:return X.ABORTED;case Et.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Et.DATA_LOSS:return X.DATA_LOSS;default:return Ee()}}(Ue=Et||(Et={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=new us([4294967295,4294967295],0);function Y0(i){const e=XI().encode(i),t=new UT;return t.update(e),new Uint8Array(t.digest())}function X0(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new us([t,s],0),new us([o,u],0)]}class ng{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new su(`Invalid padding: ${t}`);if(s<0)throw new su(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new su(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=us.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(us.fromNumber(s)));return o.compare(WI)===1&&(o=new us([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Y0(e),[s,o]=X0(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new ng(u,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Ee===0)return;const t=Y0(e),[s,o]=X0(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,ku.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new yf(we.min(),o,new at(je),gr(),ke())}}class ku{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new ku(s,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class Sw{constructor(e,t){this.targetId=e,this.ge=t}}class xw{constructor(e,t,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class W0{constructor(){this.pe=0,this.ye=Z0(),this.we=Qt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ke(),t=ke(),s=ke();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ee()}}),new ku(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=Z0()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,$e(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class ZI{constructor(e){this.ke=e,this.qe=new Map,this.Qe=gr(),this.$e=yh(),this.Ke=yh(),this.Ue=new at(je)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(pp(u))if(s===0){const h=new ge(u.path);this.ze(t,h,en.newNoDocument(h,we.min()))}else $e(s===1);else{const h=this.et(t);if(h!==s){const d=this.tt(e),m=d?this.nt(d,e,h):1;if(m!==0){this.Ye(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,d;try{h=ps(s).toUint8Array()}catch(m){if(m instanceof YT)return wo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new ng(h,o,u)}catch(m){return wo(m instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.Ee===0?null:d}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,h)=>{const d=this.Xe(h);if(d){if(u.current&&pp(d.target)){const m=new ge(d.target.path);this._t(m).has(h)||this.ut(h,m)||this.ze(h,m,en.newNoDocument(m,e))}u.ve&&(t.set(h,u.Fe()),u.Me())}});let s=ke();this.Ke.forEach((u,h)=>{let d=!0;h.forEachWhile(m=>{const g=this.Xe(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new yf(e,t,this.Ue,this.Qe,s);return this.Qe=gr(),this.$e=yh(),this.Ke=yh(),this.Ue=new at(je),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new W0,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Nt(je),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Nt(je),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new W0),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function yh(){return new at(ge.comparator)}function Z0(){return new at(ge.comparator)}const JI={asc:"ASCENDING",desc:"DESCENDING"},e2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t2={and:"AND",or:"OR"};class n2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yp(i,e){return i.useProto3Json||cf(e)?e:{value:e}}function Gh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function i2(i,e){return Gh(i,e.toTimestamp())}function Ai(i){return $e(!!i),we.fromTimestamp(function(t){const s=ms(t);return new It(s.seconds,s.nanos)}(i))}function ig(i,e){return _p(i,e).canonicalString()}function _p(i,e){const t=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function Cw(i){const e=tt.fromString(i);return $e(kw(e)),e}function vp(i,e){return ig(i.databaseId,e.path)}function Qm(i,e){const t=Cw(e);if(t.get(1)!==i.databaseId.projectId)throw new se(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new se(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ge(Nw(t))}function Iw(i,e){return ig(i.databaseId,e)}function r2(i){const e=Cw(i);return e.length===4?tt.emptyPath():Nw(e)}function Ep(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Nw(i){return $e(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function J0(i,e,t){return{name:vp(i,e),fields:t.value.mapValue.fields}}function s2(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?($e(E===void 0||typeof E=="string"),Qt.fromBase64String(E||"")):($e(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Qt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const E=g.code===void 0?X.UNKNOWN:Aw(g.code);return new se(E,g.message||"")}(h);t=new xw(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Qm(i,s.document.name),u=Ai(s.document.updateTime),h=s.document.createTime?Ai(s.document.createTime):we.min(),d=new mn({mapValue:{fields:s.document.fields}}),m=en.newFoundDocument(o,u,h,d),g=s.targetIds||[],E=s.removedTargetIds||[];t=new Ch(g,E,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Qm(i,s.document),u=s.readTime?Ai(s.readTime):we.min(),h=en.newNoDocument(o,u),d=s.removedTargetIds||[];t=new Ch([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Qm(i,s.document),u=s.removedTargetIds||[];t=new Ch([],u,o,null)}else{if(!("filter"in e))return Ee();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new QI(o,u),d=s.targetId;t=new Sw(d,h)}}return t}function a2(i,e){let t;if(e instanceof Ou)t={update:J0(i,e.key,e.value)};else if(e instanceof gf)t={delete:vp(i,e.key)};else if(e instanceof As)t={update:J0(i,e.key,e.data),updateMask:p2(e.fieldMask)};else{if(!(e instanceof GI))return Ee();t={verify:vp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const d=h.transform;if(d instanceof Eu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Tu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof wu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof bu)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw Ee()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:i2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee()}(i,e.precondition)),t}function o2(i,e){return i&&i.length>0?($e(e!==void 0),i.map(t=>function(o,u){let h=o.updateTime?Ai(o.updateTime):Ai(u);return h.isEqual(we.min())&&(h=Ai(u)),new FI(h,o.transformResults||[])}(t,e))):[]}function l2(i,e){return{documents:[Iw(i,e.path)]}}function u2(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Iw(i,o);const u=function(g){if(g.length!==0)return Ow(ei.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(A){return{field:po(A.field),direction:f2(A.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=yp(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function c2(i){let e=r2(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){$e(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(S){const A=Dw(S);return A instanceof ei&&sw(A)?A.getFilters():[A]}(t.where));let h=[];t.orderBy&&(h=function(S){return S.map(A=>function(k){return new vu(go(k.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(A))}(t.orderBy));let d=null;t.limit&&(d=function(S){let A;return A=typeof S=="object"?S.value:S,cf(A)?null:A}(t.limit));let m=null;t.startAt&&(m=function(S){const A=!!S.before,C=S.values||[];return new qh(C,A)}(t.startAt));let g=null;return t.endAt&&(g=function(S){const A=!S.before,C=S.values||[];return new qh(C,A)}(t.endAt)),NI(e,o,h,u,d,"F",m,g)}function h2(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Dw(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=go(t.unaryFilter.field);return Tt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=go(t.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=go(t.unaryFilter.field);return Tt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=go(t.unaryFilter.field);return Tt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(i):i.fieldFilter!==void 0?function(t){return Tt.create(go(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return ei.create(t.compositeFilter.filters.map(s=>Dw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee()}}(t.compositeFilter.op))}(i):Ee()}function f2(i){return JI[i]}function d2(i){return e2[i]}function m2(i){return t2[i]}function po(i){return{fieldPath:i.canonicalString()}}function go(i){return Kt.fromServerFormat(i.fieldPath)}function Ow(i){return i instanceof Tt?function(t){if(t.op==="=="){if(z0(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NAN"}};if(U0(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(z0(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NOT_NAN"}};if(U0(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(t.field),op:d2(t.op),value:t.value}}}(i):i instanceof ei?function(t){const s=t.getFilters().map(o=>Ow(o));return s.length===1?s[0]:{compositeFilter:{op:m2(t.op),filters:s}}}(i):Ee()}function p2(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,t,s,o,u=we.min(),h=we.min(),d=Qt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.Tt=e}}function y2(i){const e=c2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Hh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.Tn=new v2}addToCollectionParentIndex(e,t){return this.Tn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(ds.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(ds.min())}updateCollectionGroup(e,t,s){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class v2{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Nt(tt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Nt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mw=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(Mw,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new xo(0)}static Un(){return new xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="LruGarbageCollector",E2=1048576;function nE([i,e],[t,s]){const o=je(i,t);return o===0?je(e,s):o}class T2{constructor(e){this.Hn=e,this.buffer=new Nt(nE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();nE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class w2{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){le(tE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Po(t)?le(tE,"Ignoring IndexedDB error during garbage collection: ",t):await jo(t)}await this.er(3e5)})}}class b2{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(uf.ae);const s=new T2(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(eE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,u,h,d,m,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,d=Date.now(),this.removeTargets(e,s,t))).next(S=>(u=S,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(g=Date.now(),fo()<=Oe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${S} documents in `+(g-m)+`ms
Total Duration: ${g-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function A2(i,e){return new b2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this.changes=new _a(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Z.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&cu(s.mutation,o,xn.empty(),It.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ke()){const o=la();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=ru();return u.forEach((d,m)=>{h=h.insert(d,m.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=la();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ke()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let u=gr();const h=uu(),d=function(){return uu()}();return t.forEach((m,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof As)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),cu(E.mutation,g,E.mutation.getFieldMask(),It.now())):h.set(g.key,xn.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((g,E)=>h.set(g,E)),t.forEach((g,E)=>{var S;return d.set(g,new x2(E,(S=h.get(g))!==null&&S!==void 0?S:null))}),d))}recalculateAndSaveOverlays(e,t){const s=uu();let o=new at((h,d)=>h-d),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let E=s.get(m)||xn.empty();E=d.applyToLocalView(g,E),s.set(m,E);const S=(o.get(d.batchId)||ke()).add(m);o=o.insert(d.batchId,S)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,E=m.value,S=mw();E.forEach(A=>{if(!u.has(A)){const C=ww(t.get(A),s.get(A));C!==null&&S.set(A,C),u=u.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,S))}return Z.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):uw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):Z.resolve(la());let d=pu,m=u;return h.next(g=>Z.forEach(g,(E,S)=>(d<S.largestBatchId&&(d=S.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{m=m.insert(E,A)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,m,g,ke())).next(E=>({batchId:d,changes:dw(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(s=>{let o=ru();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=ru();return this.indexManager.getCollectionParents(e,u).next(d=>Z.forEach(d,m=>{const g=function(S,A){return new Vo(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((S,A)=>{h=h.insert(S,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((m,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,en.newInvalidDocument(E)))});let d=ru();return h.forEach((m,g)=>{const E=u.get(m);E!==void 0&&cu(E.mutation,g,xn.empty(),It.now()),df(t,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Z.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ai(o.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:y2(o.bundledQuery),readTime:Ai(o.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.overlays=new at(ge.comparator),this.Rr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const s=la();return Z.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Et(e,t,u)}),Z.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),Z.resolve()}getOverlaysForCollection(e,t,s){const o=la(),u=t.length+1,h=new ge(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new at((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=la(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const d=la(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,E)=>d.set(g,E)),!(d.size()>=o)););return Z.resolve(d)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new KI(t,s));let u=this.Rr.get(t);u===void 0&&(u=ke(),this.Rr.set(t,u)),this.Rr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.Vr=new Nt(zt.mr),this.gr=new Nt(zt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new zt(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new zt(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new ge(new tt([])),s=new zt(t,e),o=new zt(t,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ge(new tt([])),s=new zt(t,e),o=new zt(t,e+1);let u=ke();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new zt(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ge.comparator(e.key,t.key)||je(e.Cr,t.Cr)}static pr(e,t){return je(e.Cr,t.Cr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Nt(zt.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new $I(u,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new zt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(h)}lookupMutationBatch(e,t){return Z.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Qp:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new zt(t,0),o=new zt(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const d=this.Or(h.Cr);u.push(d)}),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Nt(je);return t.forEach(o=>{const u=new zt(o,0),h=new zt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],d=>{s=s.add(d.Cr)})}),Z.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const h=new zt(new ge(u),0);let d=new Nt(je);return this.Mr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Cr)),!0)},h),Z.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){$e(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Z.forEach(t.mutations,o=>{const u=new zt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new zt(t,0),o=this.Mr.firstAfterOrEqual(s);return Z.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.kr=e,this.docs=function(){return new at(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Z.resolve(s?s.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let s=gr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=gr();const h=t.path,d=new ge(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:E}}=m.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||lI(oI(E),s)<=0||(o.has(E.key)||df(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ee()}qr(e,t){return Z.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new k2(this)}getSize(e){return Z.resolve(this.size)}}class k2 extends S2{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),Z.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.persistence=e,this.Qr=new _a(t=>Wp(t),Zp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Kr=new rg,this.targetCount=0,this.Ur=xo.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),Z.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new xo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.zn(t),Z.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),Z.waitFor(u).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return Z.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),Z.resolve()}removeMatchingKeys(e,t,s){this.Kr.Sr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),Z.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return Z.resolve(s)}containsKey(e,t){return Z.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new uf(0),this.zr=!1,this.zr=!0,this.jr=new N2,this.referenceDelegate=e(this),this.Hr=new M2(this),this.indexManager=new _2,this.remoteDocumentCache=function(o){return new O2(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new g2(t),this.Yr=new C2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new I2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new D2(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){le("MemoryPersistence","Starting transaction:",e);const o=new j2(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return Z.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class j2 extends cI{constructor(e){super(),this.currentSequenceNumber=e}}class sg{constructor(e){this.persistence=e,this.ti=new rg,this.ni=null}static ri(e){return new sg(e)}get ii(){if(this.ni)return this.ni;throw Ee()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),Z.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Z.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,s=>{const o=ge.fromPath(s);return this.si(e,o).next(u=>{u||t.removeEntry(o,we.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Z.or([()=>Z.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class $h{constructor(e,t){this.persistence=e,this.oi=new _a(s=>dI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=A2(this,t)}static ri(e,t){return new $h(e,t)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return Z.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?Z.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(d=>{d||(s++,u.removeEntry(h,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Z.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Sh(e.data.value)),t}ar(e,t,s){return Z.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=ke(),o=ke();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ag(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return MR()?8:hI(tn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.rs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new P2;return this._s(e,t,h).next(d=>{if(u.result=d,this.Xi)return this.us(e,t,h,d.size)})}).next(()=>u.result)}us(e,t,s,o){return s.documentReadCount<this.es?(fo()<=Oe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",mo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(fo()<=Oe.DEBUG&&le("QueryEngine","Query:",mo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(fo()<=Oe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",mo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(t))):Z.resolve())}rs(e,t){if(H0(t))return Z.resolve(null);let s=bi(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Hh(t,null,"F"),s=bi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=ke(...u);return this.ns.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(m=>{const g=this.cs(t,d);return this.ls(t,g,h,m.readTime)?this.rs(e,Hh(t,null,"F")):this.hs(e,g,t,m)}))})))}ss(e,t,s,o){return H0(t)||o.isEqual(we.min())?Z.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(t,u);return this.ls(t,h,s,o)?Z.resolve(null):(fo()<=Oe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),mo(t)),this.hs(e,h,t,aI(o,pu)).next(d=>d))})}cs(e,t){let s=new Nt(hw(e));return t.forEach((o,u)=>{df(e,u)&&(s=s.add(u))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,s){return fo()<=Oe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",mo(t)),this.ns.getDocumentsMatchingQuery(e,t,ds.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="LocalStore",L2=3e8;class U2{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new at(je),this.Is=new _a(u=>Wp(u),Zp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function z2(i,e,t,s){return new U2(i,e,t,s)}async function Pw(i,e){const t=Ae(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],d=[];let m=ke();for(const g of o){h.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}for(const g of u){d.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}return t.localDocuments.getDocuments(s,m).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:d}))})})}function B2(i,e){const t=Ae(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,m,g,E){const S=g.batch,A=S.keys();let C=Z.resolve();return A.forEach(k=>{C=C.next(()=>E.getEntry(m,k)).next($=>{const U=g.docVersions.get(k);$e(U!==null),$.version.compareTo(U)<0&&(S.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),E.addEntry($)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(m,S))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=ke();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Vw(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function F2(i,e){const t=Ae(i),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((E,S)=>{const A=o.get(S);if(!A)return;d.push(t.Hr.removeMatchingKeys(u,E.removedDocuments,S).next(()=>t.Hr.addMatchingKeys(u,E.addedDocuments,S)));let C=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?C=C.withResumeToken(Qt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(E.resumeToken,s)),o=o.insert(S,C),function($,U,Q){return $.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=L2?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(A,C,E)&&d.push(t.Hr.updateTargetData(u,C))});let m=gr(),g=ke();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),d.push(q2(u,h,e.documentUpdates).next(E=>{m=E.Vs,g=E.fs})),!s.isEqual(we.min())){const E=t.Hr.getLastRemoteSnapshotVersion(u).next(S=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(E)}return Z.waitFor(d).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(t.Ts=o,u))}function q2(i,e,t){let s=ke(),o=ke();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=gr();return t.forEach((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(we.min())?(e.removeEntry(d,m.readTime),h=h.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),h=h.insert(d,m)):le(og,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{Vs:h,fs:o}})}function H2(i,e){const t=Ae(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Qp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function G2(i,e){const t=Ae(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(u=>u?(o=u,Z.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new as(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function Tp(i,e,t){const s=Ae(i),o=s.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Po(h))throw h;le(og,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function iE(i,e,t){const s=Ae(i);let o=we.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",h=>function(m,g,E){const S=Ae(m),A=S.Is.get(E);return A!==void 0?Z.resolve(S.Ts.get(A)):S.Hr.getTargetData(g,E)}(s,h,bi(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,d.targetId).next(m=>{u=m})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:we.min(),t?u:ke())).next(d=>($2(s,OI(e),d),{documents:d,gs:u})))}function $2(i,e,t){let s=i.Es.get(e)||we.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class rE{constructor(){this.activeTargetIds=LI()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class K2{constructor(){this.ho=new rE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new rE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="ConnectivityMonitor";class aE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){le(sE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){le(sE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h=null;function wp(){return _h===null?_h=function(){return 268435456+Math.round(2147483648*Math.random())}():_h++,"0x"+_h.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="RestConnection",Y2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class X2{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Bh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,u){const h=wp(),d=this.bo(e,t.toUriEncodedString());le(Ym,`Sending RPC '${e}' ${h}:`,d,s);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,o,u),this.vo(e,d,m,s).then(g=>(le(Ym,`Received RPC '${e}' ${h}: `,g),g),g=>{throw wo(Ym,`RPC '${e}' ${h} failed with error: `,g,"url: ",d,"request:",s),g})}Co(e,t,s,o,u,h){return this.So(e,t,s,o,u)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,t){const s=Y2[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class Z2 extends X2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const u=wp();return new Promise((h,d)=>{const m=new zT;m.setWithCredentials(!0),m.listenOnce(BT.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Ah.NO_ERROR:const E=m.getResponseJson();le(Zt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case Ah.TIMEOUT:le(Zt,`RPC '${e}' ${u} timed out`),d(new se(X.DEADLINE_EXCEEDED,"Request time out"));break;case Ah.HTTP_ERROR:const S=m.getStatus();if(le(Zt,`RPC '${e}' ${u} failed with status:`,S,"response text:",m.getResponseText()),S>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const C=A==null?void 0:A.error;if(C&&C.status&&C.message){const k=function(U){const Q=U.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Q)>=0?Q:X.UNKNOWN}(C.status);d(new se(k,C.message))}else d(new se(X.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new se(X.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{le(Zt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);le(Zt,`RPC '${e}' ${u} sending request:`,o),m.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=wp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=HT(),d=qT(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const E=u.join("");le(Zt,`Creating RPC '${e}' stream ${o}: ${E}`,m);const S=h.createWebChannel(E,m);let A=!1,C=!1;const k=new W2({Fo:U=>{C?le(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(A||(le(Zt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),A=!0),le(Zt,`RPC '${e}' stream ${o} sending:`,U),S.send(U))},Mo:()=>S.close()}),$=(U,Q,ee)=>{U.listen(Q,J=>{try{ee(J)}catch(he){setTimeout(()=>{throw he},0)}})};return $(S,iu.EventType.OPEN,()=>{C||(le(Zt,`RPC '${e}' stream ${o} transport opened.`),k.Qo())}),$(S,iu.EventType.CLOSE,()=>{C||(C=!0,le(Zt,`RPC '${e}' stream ${o} transport closed`),k.Ko())}),$(S,iu.EventType.ERROR,U=>{C||(C=!0,wo(Zt,`RPC '${e}' stream ${o} transport errored:`,U),k.Ko(new se(X.UNAVAILABLE,"The operation could not be completed")))}),$(S,iu.EventType.MESSAGE,U=>{var Q;if(!C){const ee=U.data[0];$e(!!ee);const J=ee,he=(J==null?void 0:J.error)||((Q=J[0])===null||Q===void 0?void 0:Q.error);if(he){le(Zt,`RPC '${e}' stream ${o} received error:`,he);const ue=he.status;let Te=function(R){const D=Et[R];if(D!==void 0)return Aw(D)}(ue),j=he.message;Te===void 0&&(Te=X.INTERNAL,j="Unknown error status: "+ue+" with message "+he.message),C=!0,k.Ko(new se(Te,j)),S.close()}else le(Zt,`RPC '${e}' stream ${o} received:`,ee),k.Uo(ee)}}),$(d,FT.STAT_EVENT,U=>{U.stat===hp.PROXY?le(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===hp.NOPROXY&&le(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function Xm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(i){return new n2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="PersistentStream";class Uw{constructor(e,t,s,o,u,h,d,m){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Lw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(pr(t.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new se(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return le(oE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(le(oE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class J2 extends Uw{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=s2(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?Ai(h.readTime):we.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=Ep(this.serializer),t.addTarget=function(u,h){let d;const m=h.target;if(d=pp(m)?{documents:l2(u,m)}:{query:u2(u,m).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=Rw(u,h.resumeToken);const g=yp(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(we.min())>0){d.readTime=Gh(u,h.snapshotVersion.toTimestamp());const g=yp(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=h2(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=Ep(this.serializer),t.removeTarget=e,this.I_(t)}}class eN extends Uw{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=o2(e.writeResults,e.commitTime),s=Ai(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=Ep(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>a2(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{}class nN extends tN{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new se(X.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(e,_p(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new se(X.UNKNOWN,u.toString())})}Co(e,t,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(e,_p(t,s),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new se(X.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class iN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(pr(t),this.N_=!1):le("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="RemoteStore";class rN{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{va(this)&&(le(ha,"Restarting streams for network reachability change."),await async function(m){const g=Ae(m);g.W_.add(4),await Mu(g),g.j_.set("Unknown"),g.W_.delete(4),await vf(g)}(this))})}),this.j_=new iN(s,o)}}async function vf(i){if(va(i))for(const e of i.G_)await e(!0)}async function Mu(i){for(const e of i.G_)await e(!1)}function zw(i,e){const t=Ae(i);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),hg(t)?cg(t):Lo(t).c_()&&ug(t,e))}function lg(i,e){const t=Ae(i),s=Lo(t);t.U_.delete(e),s.c_()&&Bw(t,e),t.U_.size===0&&(s.c_()?s.P_():va(t)&&t.j_.set("Unknown"))}function ug(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Lo(i).y_(e)}function Bw(i,e){i.H_.Ne(e),Lo(i).w_(e)}function cg(i){i.H_=new ZI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Lo(i).start(),i.j_.B_()}function hg(i){return va(i)&&!Lo(i).u_()&&i.U_.size>0}function va(i){return Ae(i).W_.size===0}function Fw(i){i.H_=void 0}async function sN(i){i.j_.set("Online")}async function aN(i){i.U_.forEach((e,t)=>{ug(i,e)})}async function oN(i,e){Fw(i),hg(i)?(i.j_.q_(e),cg(i)):i.j_.set("Unknown")}async function lN(i,e,t){if(i.j_.set("Online"),e instanceof xw&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.U_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.U_.delete(d),o.H_.removeTarget(d))}(i,e)}catch(s){le(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Kh(i,s)}else if(e instanceof Ch?i.H_.We(e):e instanceof Sw?i.H_.Ze(e):i.H_.je(e),!t.isEqual(we.min()))try{const s=await Vw(i.localStore);t.compareTo(s)>=0&&await function(u,h){const d=u.H_.ot(h);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const E=u.U_.get(g);E&&u.U_.set(g,E.withResumeToken(m.resumeToken,h))}}),d.targetMismatches.forEach((m,g)=>{const E=u.U_.get(m);if(!E)return;u.U_.set(m,E.withResumeToken(Qt.EMPTY_BYTE_STRING,E.snapshotVersion)),Bw(u,m);const S=new as(E.target,m,g,E.sequenceNumber);ug(u,S)}),u.remoteSyncer.applyRemoteEvent(d)}(i,t)}catch(s){le(ha,"Failed to raise snapshot:",s),await Kh(i,s)}}async function Kh(i,e,t){if(!Po(e))throw e;i.W_.add(1),await Mu(i),i.j_.set("Offline"),t||(t=()=>Vw(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{le(ha,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await vf(i)})}function qw(i,e){return e().catch(t=>Kh(i,t,e))}async function Ef(i){const e=Ae(i),t=ys(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:Qp;for(;uN(e);)try{const o=await H2(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,cN(e,o)}catch(o){await Kh(e,o)}Hw(e)&&Gw(e)}function uN(i){return va(i)&&i.K_.length<10}function cN(i,e){i.K_.push(e);const t=ys(i);t.c_()&&t.S_&&t.b_(e.mutations)}function Hw(i){return va(i)&&!ys(i).u_()&&i.K_.length>0}function Gw(i){ys(i).start()}async function hN(i){ys(i).C_()}async function fN(i){const e=ys(i);for(const t of i.K_)e.b_(t.mutations)}async function dN(i,e,t){const s=i.K_.shift(),o=tg.from(s,e,t);await qw(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Ef(i)}async function mN(i,e){e&&ys(i).S_&&await async function(s,o){if(function(h){return YI(h)&&h!==X.ABORTED}(o.code)){const u=s.K_.shift();ys(s).h_(),await qw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Ef(s)}}(i,e),Hw(i)&&Gw(i)}async function lE(i,e){const t=Ae(i);t.asyncQueue.verifyOperationInProgress(),le(ha,"RemoteStore received new credentials");const s=va(t);t.W_.add(3),await Mu(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await vf(t)}async function pN(i,e){const t=Ae(i);e?(t.W_.delete(2),await vf(t)):e||(t.W_.add(2),await Mu(t),t.j_.set("Unknown"))}function Lo(i){return i.J_||(i.J_=function(t,s,o){const u=Ae(t);return u.M_(),new J2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:sN.bind(null,i),No:aN.bind(null,i),Lo:oN.bind(null,i),p_:lN.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),hg(i)?cg(i):i.j_.set("Unknown")):(await i.J_.stop(),Fw(i))})),i.J_}function ys(i){return i.Y_||(i.Y_=function(t,s,o){const u=Ae(t);return u.M_(),new eN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:hN.bind(null,i),Lo:mN.bind(null,i),D_:fN.bind(null,i),v_:dN.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await Ef(i)):(await i.Y_.stop(),i.K_.length>0&&(le(ha,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,d=new fg(e,t,h,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dg(i,e){if(pr("AsyncQueue",`${e}: ${i}`),Po(i))return new se(X.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{static emptySet(e){return new _o(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ge.comparator(t.key,s.key):(t,s)=>ge.comparator(t.key,s.key),this.keyedMap=ru(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _o)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new _o;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this.Z_=new at(ge.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ee():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class Ro{constructor(e,t,s,o,u,h,d,m,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Ro(e,t,_o.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class yN{constructor(){this.queries=cE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Ae(t),u=o.queries;o.queries=cE(),u.forEach((h,d)=>{for(const m of d.ta)m.onError(s)})})(this,new se(X.ABORTED,"Firestore shutting down"))}}function cE(){return new _a(i=>cw(i),ff)}async function $w(i,e){const t=Ae(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new gN,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=dg(h,`Initialization of query '${mo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&mg(t)}async function Kw(i,e){const t=Ae(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function _N(i,e){const t=Ae(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const d of h.ta)d.oa(o)&&(s=!0);h.ea=o}}s&&mg(t)}function vN(i,e,t){const s=Ae(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(t);s.queries.delete(e)}function mg(i){i.ia.forEach(e=>{e.next()})}var bp,hE;(hE=bp||(bp={}))._a="default",hE.Cache="cache";class Qw{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==bp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e){this.key=e}}class Xw{constructor(e){this.key=e}}class EN{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ke(),this.mutatedKeys=ke(),this.ya=hw(e),this.wa=new _o(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new uE,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const A=o.get(E),C=df(this.query,S)?S:null,k=!!A&&this.mutatedKeys.has(A.key),$=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let U=!1;A&&C?A.data.isEqual(C.data)?k!==$&&(s.track({type:3,doc:C}),U=!0):this.va(A,C)||(s.track({type:2,doc:C}),U=!0,(m&&this.ya(C,m)>0||g&&this.ya(C,g)<0)&&(d=!0)):!A&&C?(s.track({type:0,doc:C}),U=!0):A&&!C&&(s.track({type:1,doc:A}),U=!0,(m||g)&&(d=!0)),U&&(C?(h=h.add(C),u=$?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:h,Da:s,ls:d,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,S)=>function(C,k){const $=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return $(C)-$(k)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(s),o=o!=null&&o;const d=t&&!o?this.Fa():[],m=this.pa.size===0&&this.current&&!o?1:0,g=m!==this.ga;return this.ga=m,h.length!==0||g?{snapshot:new Ro(this.query,e.wa,u,h,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new uE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ke(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new Xw(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new Yw(s))}),t}Oa(e){this.fa=e.gs,this.pa=ke();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Ro.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const pg="SyncEngine";class TN{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class wN{constructor(e){this.key=e,this.Ba=!1}}class bN{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new _a(d=>cw(d),ff),this.qa=new Map,this.Qa=new Set,this.$a=new at(ge.comparator),this.Ka=new Map,this.Ua=new rg,this.Wa={},this.Ga=new Map,this.za=xo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function AN(i,e,t=!0){const s=nb(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await Ww(s,e,t,!0),o}async function SN(i,e){const t=nb(i);await Ww(t,e,!0,!1)}async function Ww(i,e,t,s){const o=await G2(i.localStore,bi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let d;return s&&(d=await xN(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&zw(i.remoteStore,o),d}async function xN(i,e,t,s,o){i.Ha=(S,A,C)=>async function($,U,Q,ee){let J=U.view.ba(Q);J.ls&&(J=await iE($.localStore,U.query,!1).then(({documents:j})=>U.view.ba(j,J)));const he=ee&&ee.targetChanges.get(U.targetId),ue=ee&&ee.targetMismatches.get(U.targetId)!=null,Te=U.view.applyChanges(J,$.isPrimaryClient,he,ue);return dE($,U.targetId,Te.Ma),Te.snapshot}(i,S,A,C);const u=await iE(i.localStore,e,!0),h=new EN(e,u.gs),d=h.ba(u.documents),m=ku.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(d,i.isPrimaryClient,m);dE(i,t,g.Ma);const E=new TN(e,t,h);return i.ka.set(e,E),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),g.snapshot}async function RN(i,e,t){const s=Ae(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!ff(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Tp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&lg(s.remoteStore,o.targetId),Ap(s,o.targetId)}).catch(jo)):(Ap(s,o.targetId),await Tp(s.localStore,o.targetId,!0))}async function CN(i,e){const t=Ae(i),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),lg(t.remoteStore,s.targetId))}async function IN(i,e,t){const s=PN(i);try{const o=await function(h,d){const m=Ae(h),g=It.now(),E=d.reduce((C,k)=>C.add(k.key),ke());let S,A;return m.persistence.runTransaction("Locally write mutations","readwrite",C=>{let k=gr(),$=ke();return m.ds.getEntries(C,E).next(U=>{k=U,k.forEach((Q,ee)=>{ee.isValidDocument()||($=$.add(Q))})}).next(()=>m.localDocuments.getOverlayedDocuments(C,k)).next(U=>{S=U;const Q=[];for(const ee of d){const J=HI(ee,S.get(ee.key).overlayedDocument);J!=null&&Q.push(new As(ee.key,J,nw(J.value.mapValue),gn.exists(!0)))}return m.mutationQueue.addMutationBatch(C,g,Q,d)}).next(U=>{A=U;const Q=U.applyToLocalDocumentSet(S,$);return m.documentOverlayCache.saveOverlays(C,U.batchId,Q)})}).then(()=>({batchId:A.batchId,changes:dw(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,m){let g=h.Wa[h.currentUser.toKey()];g||(g=new at(je)),g=g.insert(d,m),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,t),await ju(s,o.changes),await Ef(s.remoteStore)}catch(o){const u=dg(o,"Failed to persist write");t.reject(u)}}async function Zw(i,e){const t=Ae(i);try{const s=await F2(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Ka.get(u);h&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?$e(h.Ba):o.removedDocuments.size>0&&($e(h.Ba),h.Ba=!1))}),await ju(t,s,e)}catch(s){await jo(s)}}function fE(i,e,t){const s=Ae(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((u,h)=>{const d=h.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const m=Ae(h);m.onlineState=d;let g=!1;m.queries.forEach((E,S)=>{for(const A of S.ta)A.sa(d)&&(g=!0)}),g&&mg(m)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function NN(i,e,t){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),u=o&&o.key;if(u){let h=new at(ge.comparator);h=h.insert(u,en.newNoDocument(u,we.min()));const d=ke().add(u),m=new yf(we.min(),new Map,new at(je),h,d);await Zw(s,m),s.$a=s.$a.remove(u),s.Ka.delete(e),gg(s)}else await Tp(s.localStore,e,!1).then(()=>Ap(s,e,t)).catch(jo)}async function DN(i,e){const t=Ae(i),s=e.batch.batchId;try{const o=await B2(t.localStore,e);eb(t,s,null),Jw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await ju(t,o)}catch(o){await jo(o)}}async function ON(i,e,t){const s=Ae(i);try{const o=await function(h,d){const m=Ae(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return m.mutationQueue.lookupMutationBatch(g,d).next(S=>($e(S!==null),E=S.keys(),m.mutationQueue.removeMutationBatch(g,S))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,E,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>m.localDocuments.getDocuments(g,E))})}(s.localStore,e);eb(s,e,t),Jw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await ju(s,o)}catch(o){await jo(o)}}function Jw(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function eb(i,e,t){const s=Ae(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Ap(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),t&&i.La.Ja(s,t);i.qa.delete(e),i.isPrimaryClient&&i.Ua.br(e).forEach(s=>{i.Ua.containsKey(s)||tb(i,s)})}function tb(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(lg(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ka.delete(t),gg(i))}function dE(i,e,t){for(const s of t)s instanceof Yw?(i.Ua.addReference(s.key,e),kN(i,s)):s instanceof Xw?(le(pg,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,e),i.Ua.containsKey(s.key)||tb(i,s.key)):Ee()}function kN(i,e){const t=e.key,s=t.path.canonicalString();i.$a.get(t)||i.Qa.has(s)||(le(pg,"New document in limbo: "+t),i.Qa.add(s),gg(i))}function gg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new ge(tt.fromString(e)),s=i.za.next();i.Ka.set(s,new wN(t)),i.$a=i.$a.insert(t,s),zw(i.remoteStore,new as(bi(Jp(t.path)),s,"TargetPurposeLimboResolution",uf.ae))}}async function ju(i,e,t){const s=Ae(i),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((d,m)=>{h.push(s.Ha(m,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const S=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(m.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(m.targetId,S?"current":"not-current")}if(g){o.push(g);const S=ag.Yi(m.targetId,g);u.push(S)}}))}),await Promise.all(h),s.La.p_(o),await async function(m,g){const E=Ae(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Z.forEach(g,A=>Z.forEach(A.Hi,C=>E.persistence.referenceDelegate.addReference(S,A.targetId,C)).next(()=>Z.forEach(A.Ji,C=>E.persistence.referenceDelegate.removeReference(S,A.targetId,C)))))}catch(S){if(!Po(S))throw S;le(og,"Failed to update sequence numbers: "+S)}for(const S of g){const A=S.targetId;if(!S.fromCache){const C=E.Ts.get(A),k=C.snapshotVersion,$=C.withLastLimboFreeSnapshotVersion(k);E.Ts=E.Ts.insert(A,$)}}}(s.localStore,u))}async function MN(i,e){const t=Ae(i);if(!t.currentUser.isEqual(e)){le(pg,"User change. New user:",e.toKey());const s=await Pw(t.localStore,e);t.currentUser=e,function(u,h){u.Ga.forEach(d=>{d.forEach(m=>{m.reject(new se(X.CANCELLED,h))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ju(t,s.Rs)}}function jN(i,e){const t=Ae(i),s=t.Ka.get(e);if(s&&s.Ba)return ke().add(s.key);{let o=ke();const u=t.qa.get(e);if(!u)return o;for(const h of u){const d=t.ka.get(h);o=o.unionWith(d.view.Sa)}return o}}function nb(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NN.bind(null,e),e.La.p_=_N.bind(null,e.eventManager),e.La.Ja=vN.bind(null,e.eventManager),e}function PN(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ON.bind(null,e),e}class Qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_f(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return z2(this.persistence,new V2,e.initialUser,this.serializer)}Xa(e){return new jw(sg.ri,this.serializer)}Za(e){return new K2}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qh.provider={build:()=>new Qh};class VN extends Qh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){$e(this.persistence.referenceDelegate instanceof $h);const s=this.persistence.referenceDelegate.garbageCollector;return new w2(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new jw(s=>$h.ri(s,t),this.serializer)}}class Sp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=MN.bind(null,this.syncEngine),await pN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yN}()}createDatastore(e){const t=_f(e.databaseInfo.databaseId),s=function(u){return new Z2(u)}(e.databaseInfo);return function(u,h,d,m){return new nN(u,h,d,m)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,d){return new rN(s,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>fE(this.syncEngine,t,0),function(){return aE.D()?new aE:new Q2}())}createSyncEngine(e,t){return function(o,u,h,d,m,g,E){const S=new bN(o,u,h,d,m,g);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Ae(o);le(ha,"RemoteStore shutting down."),u.W_.add(5),await Mu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Sp.provider={build:()=>new Sp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="FirestoreClient";class LN{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=$T.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{le(_s,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(le(_s,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=dg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Wm(i,e){i.asyncQueue.verifyOperationInProgress(),le(_s,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Pw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function mE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await UN(i);le(_s,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>lE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>lE(e.remoteStore,o)),i._onlineComponents=e}async function UN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){le(_s,"Using user provided OfflineComponentProvider");try{await Wm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;wo("Error using user provided cache. Falling back to memory cache: "+t),await Wm(i,new Qh)}}else le(_s,"Using default OfflineComponentProvider"),await Wm(i,new VN(void 0));return i._offlineComponents}async function rb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(le(_s,"Using user provided OnlineComponentProvider"),await mE(i,i._uninitializedComponentsProvider._online)):(le(_s,"Using default OnlineComponentProvider"),await mE(i,new Sp))),i._onlineComponents}function zN(i){return rb(i).then(e=>e.syncEngine)}async function sb(i){const e=await rb(i),t=e.eventManager;return t.onListen=AN.bind(null,e.syncEngine),t.onUnlisten=RN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=SN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=CN.bind(null,e.syncEngine),t}function BN(i,e,t={}){const s=new fr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,m,g){const E=new ib({next:A=>{E.su(),h.enqueueAndForget(()=>Kw(u,S));const C=A.docs.has(d);!C&&A.fromCache?g.reject(new se(X.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&A.fromCache&&m&&m.source==="server"?g.reject(new se(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),S=new Qw(Jp(d.path),E,{includeMetadataChanges:!0,Ta:!0});return $w(u,S)}(await sb(i),i.asyncQueue,e,t,s)),s.promise}function FN(i,e,t={}){const s=new fr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,m,g){const E=new ib({next:A=>{E.su(),h.enqueueAndForget(()=>Kw(u,S)),A.fromCache&&m.source==="server"?g.reject(new se(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),S=new Qw(d,E,{includeMetadataChanges:!0,Ta:!0});return $w(u,S)}(await sb(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(i,e,t){if(!t)throw new se(X.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function qN(i,e,t,s){if(e===!0&&s===!0)throw new se(X.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function gE(i){if(!ge.isDocumentKey(i))throw new se(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function yE(i){if(ge.isDocumentKey(i))throw new se(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Tf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee()}function Ci(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new se(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Tf(i);throw new se(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="firestore.googleapis.com",_E=!0;class vE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new se(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lb,this.ssl=_E}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:_E;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Mw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<E2)throw new se(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ab((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vE(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new ZC;switch(s.type){case"firstParty":return new nI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new se(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=pE.get(t);s&&(le("ComponentProvider","Removing Datastore"),pE.delete(t),s.terminate())}(this),Promise.resolve()}}function HN(i,e,t,s={}){var o;const u=(i=Ci(i,wf))._getSettings(),h=`${e}:${t}`;if(u.host!==lb&&u.host!==h&&wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let d,m;if(typeof s.mockUserToken=="string")d=s.mockUserToken,m=Jt.MOCK_USER;else{d=kT(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new se(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Jt(g)}i._authCredentials=new JC(new GT(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ss(this.firestore,e,this._query)}}class yn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class cs extends Ss{constructor(e,t,s){super(e,t,Jp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new ge(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function Uo(i,e,...t){if(i=Dt(i),ob("collection","path",e),i instanceof wf){const s=tt.fromString(e,...t);return yE(s),new cs(i,null,s)}{if(!(i instanceof yn||i instanceof cs))throw new se(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...t));return yE(s),new cs(i.firestore,null,s)}}function fa(i,e,...t){if(i=Dt(i),arguments.length===1&&(e=$T.newId()),ob("doc","path",e),i instanceof wf){const s=tt.fromString(e,...t);return gE(s),new yn(i,null,new ge(s))}{if(!(i instanceof yn||i instanceof cs))throw new se(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...t));return gE(s),new yn(i.firestore,i instanceof cs?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="AsyncQueue";class TE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Lw(this,"async_queue_retry"),this.Su=()=>{const s=Xm();s&&le(EE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=Xm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Xm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new fr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Po(e))throw e;le(EE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw pr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=fg.createAndSchedule(this,e,t,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Ea extends wf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new TE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TE(e),this._firestoreClient=void 0,await e}}}function GN(i,e){const t=typeof i=="object"?i:$p(),s=typeof i=="string"?i:Bh,o=lf(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=NT("firestore");u&&HN(o,...u)}return o}function bf(i){if(i._terminated)throw new se(X.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||$N(i),i._firestoreClient}function $N(i){var e,t,s;const o=i._freezeSettings(),u=function(d,m,g,E){return new gI(d,m,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,ab(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new LN(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Co(Qt.fromBase64String(e))}catch(t){throw new se(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Co(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new se(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new se(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new se(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=/^__.*__$/;class QN{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ou(e,this.data,t,this.fieldTransforms)}}class ub{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new As(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class vg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new vg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Yh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(cb(this.Lu)&&KN.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class YN{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||_f(e)}ju(e,t,s,o=!1){return new vg({Lu:e,methodName:t,zu:s,path:Kt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sf(i){const e=i._freezeSettings(),t=_f(i._databaseId);return new YN(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Eg(i,e,t,s,o,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,e,t,o);bg("Data must be an object, but it was:",h,s);const d=hb(s,h);let m,g;if(u.merge)m=new xn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const A=xp(e,S,t);if(!h.contains(A))throw new se(X.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);db(E,A)||E.push(A)}m=new xn(E),g=h.fieldTransforms.filter(S=>m.covers(S.field))}else m=null,g=h.fieldTransforms;return new QN(new mn(d),m,g)}class xf extends Pu{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xf}}class Tg extends Pu{_toFieldTransform(e){return new Tw(e.path,new Eu)}isEqual(e){return e instanceof Tg}}class wg extends Pu{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new bu(e.serializer,gw(e.serializer,this.Ju));return new Tw(e.path,t)}isEqual(e){return e instanceof wg&&this.Ju===e.Ju}}function XN(i,e,t,s){const o=i.ju(1,e,t);bg("Data must be an object, but it was:",o,s);const u=[],h=mn.empty();bs(s,(m,g)=>{const E=Ag(e,m,t);g=Dt(g);const S=o.Ku(E);if(g instanceof xf)u.push(E);else{const A=Vu(g,S);A!=null&&(u.push(E),h.set(E,A))}});const d=new xn(u);return new ub(h,d,o.fieldTransforms)}function WN(i,e,t,s,o,u){const h=i.ju(1,e,t),d=[xp(e,s,t)],m=[o];if(u.length%2!=0)throw new se(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)d.push(xp(e,u[A])),m.push(u[A+1]);const g=[],E=mn.empty();for(let A=d.length-1;A>=0;--A)if(!db(g,d[A])){const C=d[A];let k=m[A];k=Dt(k);const $=h.Ku(C);if(k instanceof xf)g.push(C);else{const U=Vu(k,$);U!=null&&(g.push(C),E.set(C,U))}}const S=new xn(g);return new ub(E,S,h.fieldTransforms)}function ZN(i,e,t,s=!1){return Vu(t,i.ju(s?4:3,e))}function Vu(i,e){if(fb(i=Dt(i)))return bg("Unsupported field value:",e,i),hb(i,e);if(i instanceof Pu)return function(s,o){if(!cb(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const d of s){let m=Vu(d,o.Uu(h));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Dt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return gw(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=It.fromDate(s);return{timestampValue:Gh(o.serializer,u)}}if(s instanceof It){const u=new It(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Gh(o.serializer,u)}}if(s instanceof yg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Co)return{bytesValue:Rw(o.serializer,s._byteString)};if(s instanceof yn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ig(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof _g)return function(h,d){return{mapValue:{fields:{[ew]:{stringValue:tw},[Fh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return eg(d.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Tf(s)}`)}(i,e)}function hb(i,e){const t={};return QT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(i,(s,o)=>{const u=Vu(o,e.qu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function fb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof It||i instanceof yg||i instanceof Co||i instanceof yn||i instanceof Pu||i instanceof _g)}function bg(i,e,t){if(!fb(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Tf(t);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function xp(i,e,t){if((e=Dt(e))instanceof Af)return e._internalPath;if(typeof e=="string")return Ag(i,e);throw Yh("Field path arguments must be of type string or ",i,!1,void 0,t)}const JN=new RegExp("[~\\*/\\[\\]]");function Ag(i,e,t){if(e.search(JN)>=0)throw Yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Af(...e.split("."))._internalPath}catch{throw Yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Yh(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${s}`),h&&(m+=` in document ${o}`),m+=")"),new se(X.INVALID_ARGUMENT,d+i+m)}function db(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Rf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class eD extends mb{data(){return super.data()}}function Rf(i,e){return typeof e=="string"?Ag(i,e):e instanceof Af?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new se(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sg{}class xg extends Sg{}function zo(i,e,...t){let s=[];e instanceof Sg&&s.push(e),s=s.concat(t),function(u){const h=u.filter(m=>m instanceof Rg).length,d=u.filter(m=>m instanceof Cf).length;if(h>1||h>0&&d>0)throw new se(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Cf extends xg{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Cf(e,t,s)}_apply(e){const t=this._parse(e);return gb(e._query,t),new Ss(e.firestore,e.converter,gp(e._query,t))}_parse(e){const t=Sf(e.firestore);return function(u,h,d,m,g,E,S){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new se(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){bE(S,E);const k=[];for(const $ of S)k.push(wE(m,u,$));A={arrayValue:{values:k}}}else A=wE(m,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||bE(S,E),A=ZN(d,h,S,E==="in"||E==="not-in");return Tt.create(g,E,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Bo(i,e,t){const s=e,o=Rf("where",i);return Cf._create(o,s,t)}class Rg extends Sg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Rg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:ei.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const d=u.getFlattenedFilters();for(const m of d)gb(h,m),h=gp(h,m)}(e._query,t),new Ss(e.firestore,e.converter,gp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cg extends xg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Cg(e,t)}_apply(e){const t=function(o,u,h){if(o.startAt!==null)throw new se(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new se(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vu(u,h)}(e._query,this._field,this._direction);return new Ss(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Vo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function If(i,e="asc"){const t=e,s=Rf("orderBy",i);return Cg._create(s,t)}class Ig extends xg{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Ig(e,t,s)}_apply(e){return new Ss(e.firestore,e.converter,Hh(e._query,this._limit,this._limitType))}}function pb(i){return Ig._create("limit",i,"F")}function wE(i,e,t){if(typeof(t=Dt(t))=="string"){if(t==="")throw new se(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uw(e)&&t.indexOf("/")!==-1)throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(tt.fromString(t));if(!ge.isDocumentKey(s))throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return L0(i,new ge(s))}if(t instanceof yn)return L0(i,t._key);throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tf(t)}.`)}function bE(i,e){if(!Array.isArray(i)||i.length===0)throw new se(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gb(i,e){const t=function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new se(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class nD{convertValue(e,t="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return bs(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Fh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>mt(h.doubleValue));return new _g(u)}convertGeoPoint(e){return new yg(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=hf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(gu(e));default:return null}}convertTimestamp(e){const t=ms(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=tt.fromString(e);$e(kw(s));const o=new yu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(t)||pr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yb extends mb{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Rf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Ih extends yb{data(e={}){return super.data(e)}}class iD{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new au(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Ih(this._firestore,this._userDataWriter,s.key,s,new au(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new se(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const m=new Ih(o._firestore,o._userDataWriter,d.doc.key,d.doc,new au(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const m=new Ih(o._firestore,o._userDataWriter,d.doc.key,d.doc,new au(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:rD(d.type),doc:m,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(i){i=Ci(i,yn);const e=Ci(i.firestore,Ea);return BN(bf(e),i._key).then(t=>lD(e,i,t))}class _b extends nD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Co(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,t)}}function Fo(i){i=Ci(i,Ss);const e=Ci(i.firestore,Ea),t=bf(e),s=new _b(e);return tD(i._query),FN(t,i._query).then(o=>new iD(e,s,i,o))}function vb(i,e,t){i=Ci(i,yn);const s=Ci(i.firestore,Ea),o=Ng(i.converter,e,t);return Nf(s,[Eg(Sf(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,gn.none())])}function aD(i){return Nf(Ci(i.firestore,Ea),[new gf(i._key,gn.none())])}function oD(i,e){const t=Ci(i.firestore,Ea),s=fa(i),o=Ng(i.converter,e);return Nf(t,[Eg(Sf(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,gn.exists(!1))]).then(()=>s)}function Nf(i,e){return function(s,o){const u=new fr;return s.asyncQueue.enqueueAndForget(async()=>IN(await zN(s),o,u)),u.promise}(bf(i),e)}function lD(i,e,t){const s=t.docs.get(e._key),o=new _b(i);return new yb(i,o,e._key,s,new au(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Sf(e)}set(e,t,s){this._verifyNotCommitted();const o=Zm(e,this._firestore),u=Ng(o.converter,t,s),h=Eg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(h.toMutation(o._key,gn.none())),this}update(e,t,s,...o){this._verifyNotCommitted();const u=Zm(e,this._firestore);let h;return h=typeof(t=Dt(t))=="string"||t instanceof Af?WN(this._dataReader,"WriteBatch.update",u._key,t,s,o):XN(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(h.toMutation(u._key,gn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Zm(e,this._firestore);return this._mutations=this._mutations.concat(new gf(t._key,gn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new se(X.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zm(i,e){if((i=Dt(i)).firestore!==e)throw new se(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function Lu(){return new Tg("serverTimestamp")}function Nh(i){return new wg("increment",i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(i){return bf(i=Ci(i,Ea)),new uD(i,e=>Nf(i,e))}(function(e,t=!0){(function(o){Mo=o})(ya),ua(new fs("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new Ea(new eI(s.getProvider("auth-internal")),new iI(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new se(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),wi(R0,C0,e),wi(R0,C0,"esm2017")})();function hD(){const{user:i}=Di(),{customer:e,ableToSubmit:t,payMethod:s,setInvoice:o}=ws(),{cartItems:u}=ga(),h=_r();return{checkout:async()=>{if(!t||!e||!i)return;const m=[];u.forEach(A=>{const C=A.units.filter(Q=>Q.quantity>0),k=C.sort((Q,ee)=>Q.conversion_quantity>ee.conversion_quantity?1:-1);let $=k[0].price;s==="no"?$=A.debt_price:C.length>1&&($=k[k.length-1].price/k[k.length-1].conversion_quantity);const U={product_name:A.product_name,product_image_url:A.image_url,product_id:A.id,unit_name:A.units[0].unit_name,quantity:A.total_quantity,price:_T($),stock_price:A.stock_price};m.push(U)});const g=m.reduce((A,C)=>A+C.price*C.quantity,0),E=m.reduce((A,C)=>A+C.stock_price*C.quantity,0),S={customer_id:e.id,customer_name:e.customer_name,user_email:i.email,items:m,payment:s,total_price:+g.toFixed(1),revenue:+(g-E).toFixed(1),created_at:Lu()};o(S),h("/checkout")}}}function fD({title:i,titleId:e,...t},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?b.createElement("title",{id:e},i):null,b.createElement("path",{fillRule:"evenodd",d:"M2 8a.75.75 0 0 1 .75-.75h8.69L8.22 4.03a.75.75 0 0 1 1.06-1.06l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 0 1-1.06-1.06l3.22-3.22H2.75A.75.75 0 0 1 2 8Z",clipRule:"evenodd"}))}const Dg=b.forwardRef(fD);function dD({title:i,titleId:e,...t},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?b.createElement("title",{id:e},i):null,b.createElement("path",{fillRule:"evenodd",d:"M12.416 3.376a.75.75 0 0 1 .208 1.04l-5 7.5a.75.75 0 0 1-1.154.114l-3-3a.75.75 0 0 1 1.06-1.06l2.353 2.353 4.493-6.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"}))}const Df=b.forwardRef(dD);function mD({title:i,titleId:e,...t},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?b.createElement("title",{id:e},i):null,b.createElement("path",{fillRule:"evenodd",d:"M9.78 4.22a.75.75 0 0 1 0 1.06L7.06 8l2.72 2.72a.75.75 0 1 1-1.06 1.06L5.47 8.53a.75.75 0 0 1 0-1.06l3.25-3.25a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const Of=b.forwardRef(mD);function pD({title:i,titleId:e,...t},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?b.createElement("title",{id:e},i):null,b.createElement("path",{fillRule:"evenodd",d:"M6.22 4.22a.75.75 0 0 1 1.06 0l3.25 3.25a.75.75 0 0 1 0 1.06l-3.25 3.25a.75.75 0 0 1-1.06-1.06L8.94 8 6.22 5.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const Eb=b.forwardRef(pD);function gD({title:i,titleId:e,...t},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?b.createElement("title",{id:e},i):null,b.createElement("path",{d:"M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"}))}const yD=b.forwardRef(gD);function _D({title:i,titleId:e,...t},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?b.createElement("title",{id:e},i):null,b.createElement("path",{d:"M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"}))}const Uu=b.forwardRef(_D);function vD({title:i,titleId:e,...t},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),i?b.createElement("title",{id:e},i):null,b.createElement("path",{d:"M5.28 4.22a.75.75 0 0 0-1.06 1.06L6.94 8l-2.72 2.72a.75.75 0 1 0 1.06 1.06L8 9.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L9.06 8l2.72-2.72a.75.75 0 0 0-1.06-1.06L8 6.94 5.28 4.22Z"}))}const Tb=b.forwardRef(vD);function ED({cartItemUnit:i,index:e,productIndex:t}){const{action:s,updateUnit:o}=ga(),u={quantityBox:"flex flex-shrink-0 ml-auto border-[#e1e1e1] border justify-between overflow-hidden items-center rounded-[99px] bg-[#fff]",button:"border-[#e1e1e1] p-1 justify-center"};return y.jsxs("div",{className:"flex gap-2 items-center",children:[y.jsxs("p",{className:"text-[#333]",children:[i.unit_name," (x",i.conversion_quantity,"):"]}),y.jsxs("div",{className:u.quantityBox,children:[y.jsx("button",{onClick:()=>s({type:"decrease",productIndex:t,unitIndex:e}),className:`${u.button} border-r `,children:y.jsx(yD,{className:"w-6"})}),y.jsx("input",{value:i.quantity.toString(),onChange:h=>isNaN(+h.target.value)?{}:o({productIndex:t,unitIndex:e,unit:{quantity:+h.target.value}}),className:"outline-none w-[40px] text-center text-[#3f3f3f] font-bold"}),y.jsx("button",{onClick:()=>s({type:"increase",productIndex:t,unitIndex:e}),className:`${u.button} border-l`,children:y.jsx(Uu,{className:"w-6"})})]})]})}function TD({cartItem:i,index:e}){const{updateCartItem:t,remove:s}=ga(),{payMethod:o}=ws(),[u,h]=b.useState("");return b.useEffect(()=>{const d=i.units.reduce((g,E)=>g+E.quantity*(o==="tien-mat"?E.price:i.debt_price*E.conversion_quantity),0),m=i.units.reduce((g,E)=>g+E.quantity*E.conversion_quantity,0);m>i.stock?h("Out of stock"):h(""),t({index:e,product:{total:d,total_quantity:m}})},[i.units,o]),y.jsxs("div",{className:"flex",children:[y.jsx("img",{style:{height:70,width:70,marginBottom:"auto"},src:i.image_url?i.image_url:ko}),y.jsxs("div",{className:"pl-2 flex-grow",children:[y.jsxs("div",{className:"flex items-center justify-between flex-grow",children:[y.jsxs("p",{className:"text-lg",children:[i.product_name,y.jsxs("p",{className:"text-sm text-gray-500",children:["(stock: ",i.stock,")"]})]}),y.jsx(Ie,{onClick:()=>s(e),size:"clear",className:"ml-auto p-2",children:y.jsx(zp,{className:"w-6"})})]}),u&&y.jsx("p",{className:"text-[14px] mt-1 text-white p-2 bg-red-500 rounded-md",children:u}),y.jsx("div",{className:"mt-3 space-y-2",children:i.units.map((d,m)=>y.jsx(ED,{index:m,productIndex:e,cartItemUnit:d},m))}),y.jsxs("div",{className:"mt-3 ml-auto text-right",children:[y.jsxs("p",{className:" text-[#333]",children:["Total:",i.total_quantity]}),y.jsxs("p",{className:"",children:["Price:",y.jsxs("span",{className:"text-red-500",children:[" ",Xe(i.total)]})]})]})]})]})}function wb({customer:i,onClick:e,className:t=""}){return y.jsx(Ze,{onClick:e,className:`flex-row ${t}`,children:y.jsxs("div",{className:"ml-2",children:[y.jsx("p",{className:"text-lg",children:i.customer_name}),y.jsx("div",{className:"mt-1",children:!!i.phone_number&&y.jsx("p",{className:"text-[#3f3f3f]",children:i.phone_number})})]})})}function bb({value:i,setValue:e}){return y.jsxs(Ze,{colors:"second",className:"flex gap-2 justify-between items-center",children:[y.jsx(un,{value:i,onChange:t=>e(t.target.value),placeholder:"..."}),y.jsx(Ie,{onClick:()=>i?e(""):{},size:"clear",className:"p-2 flex-shrink-0",children:i?y.jsx(gT,{className:"w-6"}):y.jsx(dT,{className:"w-6"})})]})}var wD="firebase",bD="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi(wD,bD,"app");function Og(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function Ab(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AD=Ab,Sb=new Nu("auth","Firebase",Ab());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new Hp("@firebase/auth");function SD(i,...e){Xh.logLevel<=Oe.WARN&&Xh.warn(`Auth (${ya}): ${i}`,...e)}function Dh(i,...e){Xh.logLevel<=Oe.ERROR&&Xh.error(`Auth (${ya}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(i,...e){throw kg(i,...e)}function Si(i,...e){return kg(i,...e)}function xb(i,e,t){const s=Object.assign(Object.assign({},AD()),{[e]:t});return new Nu("auth","Firebase",s).create(e,{appName:i.name})}function dr(i){return xb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kg(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return Sb.create(i,...e)}function ve(i,e,...t){if(!i)throw kg(e,...t)}function lr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Dh(e),new Error(e)}function yr(i,e){i||lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function xD(){return AE()==="http:"||AE()==="https:"}function AE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xD()||DR()||"connection"in navigator)?navigator.onLine:!0}function CD(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,t){this.shortDelay=e,this.longDelay=t,yr(t>e,"Short delay should be less than long delay!"),this.isMobile=CR()||OR()}get(){return RD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(i,e){yr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=new zu(3e4,6e4);function xs(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Rs(i,e,t,s,o={}){return Cb(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const d=Du(Object.assign({key:i.config.apiKey},h)).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:m},u);return NR()||(g.referrerPolicy="no-referrer"),Rb.fetch()(Ib(i,i.config.apiHost,t,d),g)})}async function Cb(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},ID),e);try{const o=new OD(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw vh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw vh(i,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw vh(i,"email-already-in-use",h);if(m==="USER_DISABLED")throw vh(i,"user-disabled",h);const E=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw xb(i,E,g);ti(i,E)}}catch(o){if(o instanceof Oi)throw o;ti(i,"network-request-failed",{message:String(o)})}}async function Bu(i,e,t,s,o={}){const u=await Rs(i,e,t,s,o);return"mfaPendingCredential"in u&&ti(i,"multi-factor-auth-required",{_serverResponse:u}),u}function Ib(i,e,t,s){const o=`${e}${t}?${s}`;return i.config.emulator?Mg(i.config,o):`${i.config.apiScheme}://${o}`}function DD(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Si(this.auth,"network-request-failed")),ND.get())})}}function vh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Si(i,e,s);return o.customData._tokenResponse=t,o}function SE(i){return i!==void 0&&i.enterprise!==void 0}class kD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return DD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MD(i,e){return Rs(i,"GET","/v2/recaptchaConfig",xs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(i,e){return Rs(i,"POST","/v1/accounts:delete",e)}async function Nb(i,e){return Rs(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PD(i,e=!1){const t=Dt(i),s=await t.getIdToken(e),o=jg(s);ve(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:hu(Jm(o.auth_time)),issuedAtTime:hu(Jm(o.iat)),expirationTime:hu(Jm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Jm(i){return Number(i)*1e3}function jg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=CT(t);return o?JSON.parse(o):(Dh("Failed to decode base64 JWT payload"),null)}catch(o){return Dh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function xE(i){const e=jg(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Oi&&VD(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function VD({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wh(i){var e;const t=i.auth,s=await i.getIdToken(),o=await Au(i,Nb(t,{idToken:s}));ve(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?Db(u.providerUserInfo):[],d=zD(i.providerData,h),m=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(d!=null&&d.length),E=m?g:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new Cp(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,S)}async function UD(i){const e=Dt(i);await Wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zD(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Db(i){return i.map(e=>{var{providerId:t}=e,s=Og(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(i,e){const t=await Cb(i,{},async()=>{const s=Du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=Ib(i,o,"/v1/token",`key=${u}`),d=await i._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Rb.fetch()(h,{method:"POST",headers:d,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function FD(i,e){return Rs(i,"POST","/v2/accounts:revokeToken",xs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const t=xE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await BD(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new vo;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ur{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Og(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Cp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await Au(this,this.stsTokenManager.getToken(this.auth,e));return ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return PD(this,e)}reload(){return UD(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ur(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Wh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(dr(this.auth));const e=await this.getIdToken();return await Au(this,jD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,d,m,g,E;const S=(s=t.displayName)!==null&&s!==void 0?s:void 0,A=(o=t.email)!==null&&o!==void 0?o:void 0,C=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,k=(h=t.photoURL)!==null&&h!==void 0?h:void 0,$=(d=t.tenantId)!==null&&d!==void 0?d:void 0,U=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,Q=(g=t.createdAt)!==null&&g!==void 0?g:void 0,ee=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:J,emailVerified:he,isAnonymous:ue,providerData:Te,stsTokenManager:j}=t;ve(J&&j,e,"internal-error");const I=vo.fromJSON(this.name,j);ve(typeof J=="string",e,"internal-error"),ns(S,e.name),ns(A,e.name),ve(typeof he=="boolean",e,"internal-error"),ve(typeof ue=="boolean",e,"internal-error"),ns(C,e.name),ns(k,e.name),ns($,e.name),ns(U,e.name),ns(Q,e.name),ns(ee,e.name);const R=new ur({uid:J,auth:e,email:A,emailVerified:he,displayName:S,isAnonymous:ue,photoURL:k,phoneNumber:C,tenantId:$,stsTokenManager:I,createdAt:Q,lastLoginAt:ee});return Te&&Array.isArray(Te)&&(R.providerData=Te.map(D=>Object.assign({},D))),U&&(R._redirectEventId=U),R}static async _fromIdTokenResponse(e,t,s=!1){const o=new vo;o.updateFromServerResponse(t);const u=new ur({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Wh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Db(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new vo;d.updateFromIdToken(s);const m=new ur({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Cp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=new Map;function cr(i){yr(i instanceof Function,"Expected a class definition");let e=RE.get(i);return e?(yr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,RE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ob.type="NONE";const CE=Ob;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(i,e,t){return`firebase:${i}:${e}:${t}`}class Eo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Oh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Oh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ur._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Eo(cr(CE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||cr(CE);const h=Oh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const E=await g._get(h);if(E){const S=ur._fromJSON(e,E);g!==u&&(d=S),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Eo(u,e,s):(u=m[0],d&&await u._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Eo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Pb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Lb(e))return"Blackberry";if(Ub(e))return"Webos";if(Mb(e))return"Safari";if((e.includes("chrome/")||jb(e))&&!e.includes("edge/"))return"Chrome";if(Vb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function kb(i=tn()){return/firefox\//i.test(i)}function Mb(i=tn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jb(i=tn()){return/crios\//i.test(i)}function Pb(i=tn()){return/iemobile/i.test(i)}function Vb(i=tn()){return/android/i.test(i)}function Lb(i=tn()){return/blackberry/i.test(i)}function Ub(i=tn()){return/webos/i.test(i)}function Pg(i=tn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function qD(i=tn()){var e;return Pg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function HD(){return kR()&&document.documentMode===10}function zb(i=tn()){return Pg(i)||Vb(i)||Ub(i)||Lb(i)||/windows phone/i.test(i)||Pb(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(i,e=[]){let t;switch(i){case"Browser":t=IE(tn());break;case"Worker":t=`${IE(tn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ya}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,d)=>{try{const m=e(u);h(m)}catch(m){d(m)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(i,e={}){return Rs(i,"GET","/v2/passwordPolicy",xs(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=6;class QD{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:KD,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(h=m.containsNumericCharacter)!==null&&h!==void 0?h:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NE(this),this.idTokenSubscription=new NE(this),this.beforeStateQueue=new GD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=cr(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Nb(this,{idToken:e}),s=await ur._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Sn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!h||h===d)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Wh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(dr(this));const t=e?Dt(e):null;return t&&ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $D(this),t=new QD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await FD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&cr(e)||this._popupRedirectResolver;ve(t,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[cr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,o);return()=>{h=!0,m()}}else{const m=e.addObserver(t);return()=>{h=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&SD(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ta(i){return Dt(i)}class NE{constructor(e){this.auth=e,this.observer=null,this.addObserver=BR(t=>this.observer=t)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XD(i){kf=i}function Fb(i){return kf.loadJS(i)}function WD(){return kf.recaptchaEnterpriseScript}function ZD(){return kf.gapiScript}function JD(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class eO{constructor(){this.enterprise=new tO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class tO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const nO="recaptcha-enterprise",qb="NO_RECAPTCHA";class iO{constructor(e){this.type=nO,this.auth=Ta(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{MD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new kD(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(m=>{d(m)})})}function o(u,h,d){const m=window.grecaptcha;SE(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(qb)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eO().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(d=>{if(!t&&SE(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let m=WD();m.length!==0&&(m+=d),Fb(m).then(()=>{o(d,u,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function DE(i,e,t,s=!1,o=!1){const u=new iO(i);let h;if(o)h=qb;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ip(i,e,t,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await DE(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await DE(i,e,t,t==="getOobCode");return s(i,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(i,e){const t=lf(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Lh(u,e??{}))return o;ti(o,"already-initialized")}return t.initialize({options:e})}function sO(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(cr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function aO(i,e,t){const s=Ta(i);ve(s._canInitEmulator,s,"emulator-config-failed"),ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Hb(e),{host:h,port:d}=oO(e),m=d===null?"":`:${d}`;s.config.emulator={url:`${u}//${h}${m}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),lO()}function Hb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function oO(i){const e=Hb(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:OE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:OE(h)}}}function OE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function lO(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,t){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function uO(i,e){return Rs(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cO(i,e){return Bu(i,"POST","/v1/accounts:signInWithPassword",xs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(i,e){return Bu(i,"POST","/v1/accounts:signInWithEmailLink",xs(i,e))}async function fO(i,e){return Bu(i,"POST","/v1/accounts:signInWithEmailLink",xs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends Vg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Su(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Su(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ip(e,t,"signInWithPassword",cO);case"emailLink":return hO(e,{email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ip(e,s,"signUpPassword",uO);case"emailLink":return fO(e,{idToken:t,email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(i,e){return Bu(i,"POST","/v1/accounts:signInWithIdp",xs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO="http://localhost";class da extends Vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ti("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Og(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new da(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return To(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,To(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,To(e,t)}buildRequest(){const e={requestUri:dO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Du(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pO(i){const e=tu(nu(i)).link,t=e?tu(nu(e)).deep_link_id:null,s=tu(nu(i)).deep_link_id;return(s?tu(nu(s)).link:null)||s||t||e||i}class Lg{constructor(e){var t,s,o,u,h,d;const m=tu(nu(e)),g=(t=m.apiKey)!==null&&t!==void 0?t:null,E=(s=m.oobCode)!==null&&s!==void 0?s:null,S=mO((o=m.mode)!==null&&o!==void 0?o:null);ve(g&&E&&S,"argument-error"),this.apiKey=g,this.operation=S,this.code=E,this.continueUrl=(u=m.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=m.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=pO(e);try{return new Lg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.providerId=qo.PROVIDER_ID}static credential(e,t){return Su._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Lg.parseLink(t);return ve(s,"argument-error"),Su._fromEmailAndCode(e,s.code,s.tenantId)}}qo.PROVIDER_ID="password";qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends Gb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Fu{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends Fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return da._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return or.credential(t,s)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Fu{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Fu{constructor(){super("twitter.com")}static credential(e,t){return da._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ss.credential(t,s)}catch{return null}}}ss.TWITTER_SIGN_IN_METHOD="twitter.com";ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(i,e){return Bu(i,"POST","/v1/accounts:signUp",xs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await ur._fromIdTokenResponse(e,s,o),h=kE(s);return new ma({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=kE(s);return new ma({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function kE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh extends Oi{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Zh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Zh(e,t,s,o)}}function $b(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Zh._fromErrorAndOperation(i,u,e,s):u})}async function yO(i,e,t=!1){const s=await Au(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return ma._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(i,e,t=!1){const{auth:s}=i;if(Sn(s.app))return Promise.reject(dr(s));const o="reauthenticate";try{const u=await Au(i,$b(s,o,e,i),t);ve(u.idToken,s,"internal-error");const h=jg(u.idToken);ve(h,s,"internal-error");const{sub:d}=h;return ve(i.uid===d,s,"user-mismatch"),ma._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ti(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kb(i,e,t=!1){if(Sn(i.app))return Promise.reject(dr(i));const s="signIn",o=await $b(i,s,e),u=await ma._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function vO(i,e){return Kb(Ta(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qb(i){const e=Ta(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function EO(i,e,t){if(Sn(i.app))return Promise.reject(dr(i));const s=Ta(i),h=await Ip(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gO).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Qb(i),m}),d=await ma._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function TO(i,e,t){return Sn(i.app)?Promise.reject(dr(i)):vO(Dt(i),qo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Qb(i),s})}function wO(i,e,t,s){return Dt(i).onIdTokenChanged(e,t,s)}function bO(i,e,t){return Dt(i).beforeAuthStateChanged(e,t)}function AO(i){return Dt(i).signOut()}const Jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Jh,"1"),this.storage.removeItem(Jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=1e3,xO=10;class Xb extends Yb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,m)=>{this.notifyListeners(h,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);HD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,xO):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},SO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xb.type="LOCAL";const RO=Xb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb extends Yb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Wb.type="SESSION";const Zb=Wb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Mf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,u)),m=await CO(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,m)=>{const g=Ug("",20);o.port1.start();const E=setTimeout(()=>{m(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(S){const A=S;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(A.data.response);break;default:clearTimeout(E),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return window}function NO(i){xi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function DO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OO(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function kO(){return Jb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="firebaseLocalStorageDb",MO=1,ef="firebaseLocalStorage",t1="fbase_key";class qu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function jf(i,e){return i.transaction([ef],e?"readwrite":"readonly").objectStore(ef)}function jO(){const i=indexedDB.deleteDatabase(e1);return new qu(i).toPromise()}function Np(){const i=indexedDB.open(e1,MO);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(ef,{keyPath:t1})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(ef)?e(s):(s.close(),await jO(),e(await Np()))})})}async function ME(i,e,t){const s=jf(i,!0).put({[t1]:e,value:t});return new qu(s).toPromise()}async function PO(i,e){const t=jf(i,!1).get(e),s=await new qu(t).toPromise();return s===void 0?null:s.value}function jE(i,e){const t=jf(i,!0).delete(e);return new qu(t).toPromise()}const VO=800,LO=3;class n1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Np(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>LO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mf._getInstance(kO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await DO(),!this.activeServiceWorker)return;this.sender=new IO(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Np();return await ME(e,Jh,"1"),await jE(e,Jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>ME(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>PO(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>jE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=jf(o,!1).getAll();return new qu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}n1.type="LOCAL";const UO=n1;new zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(i,e){return e?cr(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg extends Vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,t){return To(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function BO(i){return Kb(i.auth,new zg(i),i.bypassAuthState)}function FO(i){const{auth:e,user:t}=i;return ve(t,e,"internal-error"),_O(t,new zg(i),i.bypassAuthState)}async function qO(i){const{auth:e,user:t}=i;return ve(t,e,"internal-error"),yO(t,new zg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BO;case"linkViaPopup":case"linkViaRedirect":return qO;case"reauthViaPopup":case"reauthViaRedirect":return FO;default:ti(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=new zu(2e3,1e4);class yo extends i1{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=Ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HO.get())};e()}}yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO="pendingRedirect",kh=new Map;class $O extends i1{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=kh.get(this.auth._key());if(!e){try{const s=await KO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}kh.set(this.auth._key(),e)}return this.bypassAuthState||kh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KO(i,e){const t=XO(e),s=YO(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function QO(i,e){kh.set(i._key(),e)}function YO(i){return cr(i._redirectPersistence)}function XO(i){return Oh(GO,i.config.apiKey,i.name)}async function WO(i,e,t=!1){if(Sn(i.app))return Promise.reject(dr(i));const s=Ta(i),o=zO(s,e),h=await new $O(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=10*60*1e3;class JO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ek(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!r1(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Si(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZO&&this.cachedEventUids.clear(),this.cachedEventUids.has(PE(e))}saveEventToCache(e){this.cachedEventUids.add(PE(e)),this.lastProcessedEventTime=Date.now()}}function PE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function r1({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ek(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r1(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tk(i,e={}){return Rs(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ik=/^https?/;async function rk(i){if(i.config.emulator)return;const{authorizedDomains:e}=await tk(i);for(const t of e)try{if(sk(t))return}catch{}ti(i,"unauthorized-domain")}function sk(i){const e=Rp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!ik.test(t))return!1;if(nk.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=new zu(3e4,6e4);function VE(){const i=xi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function ok(i){return new Promise((e,t)=>{var s,o,u;function h(){VE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VE(),t(Si(i,"network-request-failed"))},timeout:ak.get()})}if(!((o=(s=xi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=xi().gapi)===null||u===void 0)&&u.load)h();else{const d=JD("iframefcb");return xi()[d]=()=>{gapi.load?h():t(Si(i,"network-request-failed"))},Fb(`${ZD()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw Mh=null,e})}let Mh=null;function lk(i){return Mh=Mh||ok(i),Mh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=new zu(5e3,15e3),ck="__/auth/iframe",hk="emulator/auth/iframe",fk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mk(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Mg(e,hk):`https://${i.config.authDomain}/${ck}`,s={apiKey:e.apiKey,appName:i.name,v:ya},o=dk.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Du(s).slice(1)}`}async function pk(i){const e=await lk(i),t=xi().gapi;return ve(t,i,"internal-error"),e.open({where:document.body,url:mk(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fk,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Si(i,"network-request-failed"),d=xi().setTimeout(()=>{u(h)},uk.get());function m(){xi().clearTimeout(d),o(s)}s.ping(m).then(m,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yk=500,_k=600,vk="_blank",Ek="http://localhost";class LE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Tk(i,e,t,s=yk,o=_k){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m=Object.assign(Object.assign({},gk),{width:s.toString(),height:o.toString(),top:u,left:h}),g=tn().toLowerCase();t&&(d=jb(g)?vk:t),kb(g)&&(e=e||Ek,m.scrollbars="yes");const E=Object.entries(m).reduce((A,[C,k])=>`${A}${C}=${k},`,"");if(qD(g)&&d!=="_self")return wk(e||"",d),new LE(null);const S=window.open(e||"",d,E);ve(S,i,"popup-blocked");try{S.focus()}catch{}return new LE(S)}function wk(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk="__/auth/handler",Ak="emulator/auth/handler",Sk=encodeURIComponent("fac");async function UE(i,e,t,s,o,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:ya,eventId:o};if(e instanceof Gb){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",zR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))h[E]=S}if(e instanceof Fu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const d=h;for(const E of Object.keys(d))d[E]===void 0&&delete d[E];const m=await i._getAppCheckToken(),g=m?`#${Sk}=${encodeURIComponent(m)}`:"";return`${xk(i)}?${Du(d).slice(1)}${g}`}function xk({config:i}){return i.emulator?Mg(i,Ak):`https://${i.authDomain}/${bk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="webStorageSupport";class Rk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zb,this._completeRedirectFn=WO,this._overrideRedirectResult=QO}async _openPopup(e,t,s,o){var u;yr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await UE(e,t,s,Rp(),o);return Tk(e,h,Ug())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await UE(e,t,s,Rp(),o);return NO(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(yr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await pk(e),s=new JO(e);return t.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ep,{type:ep},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[ep];h!==void 0&&t(!!h),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=rk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zb()||Mb()||Pg()}}const Ck=Rk;var zE="@firebase/auth",BE="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Dk(i){ua(new fs("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:h,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bb(i)},g=new YD(s,o,u,m);return sO(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ua(new fs("auth-internal",e=>{const t=Ta(e.getProvider("auth").getImmediate());return(s=>new Ik(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),wi(zE,BE,Nk(i)),wi(zE,BE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=5*60,kk=OT("authIdTokenMaxAge")||Ok;let FE=null;const Mk=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>kk)return;const o=t==null?void 0:t.token;FE!==o&&(FE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function jk(i=$p()){const e=lf(i,"auth");if(e.isInitialized())return e.getImmediate();const t=rO(i,{popupRedirectResolver:Ck,persistence:[UO,RO,Zb]}),s=OT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=Mk(u.toString());bO(t,h,()=>h(t.currentUser)),wO(t,d=>h(d))}}const o=IT("auth");return o&&aO(t,`http://${o}`),t}function Pk(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}XD({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Si("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",Pk().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Dk("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="firebasestorage.googleapis.com",Vk="storageBucket",Lk=2*60*1e3,Uk=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Oi{constructor(e,t,s=0){super(tp(e),`Firebase Storage: ${t} (${tp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ki.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ii;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ii||(Ii={}));function tp(i){return"storage/"+i}function zk(){const i="An unknown error occurred, please check the error payload for server response.";return new ki(Ii.UNKNOWN,i)}function Bk(){return new ki(Ii.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Fk(){return new ki(Ii.CANCELED,"User canceled the upload/download.")}function qk(i){return new ki(Ii.INVALID_URL,"Invalid URL '"+i+"'.")}function Hk(i){return new ki(Ii.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function qE(i){return new ki(Ii.INVALID_ARGUMENT,i)}function a1(){return new ki(Ii.APP_DELETED,"The Firebase app was deleted.")}function Gk(i){return new ki(Ii.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Jn.makeFromUrl(e,t)}catch{return new Jn(e,"")}if(s.path==="")return s;throw Hk(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(he){he.path.charAt(he.path.length-1)==="/"&&(he.path_=he.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),m={bucket:1,path:3};function g(he){he.path_=decodeURIComponent(he.path)}const E="v[A-Za-z0-9_]+",S=t.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",C=new RegExp(`^https?://${S}/${E}/b/${o}/o${A}`,"i"),k={bucket:1,path:3},$=t===s1?"(?:storage.googleapis.com|storage.cloud.google.com)":t,U="([^?#]*)",Q=new RegExp(`^https?://${$}/${o}/${U}`,"i"),J=[{regex:d,indices:m,postModify:u},{regex:C,indices:k,postModify:g},{regex:Q,indices:{bucket:1,path:2},postModify:g}];for(let he=0;he<J.length;he++){const ue=J[he],Te=ue.regex.exec(e);if(Te){const j=Te[ue.indices.bucket];let I=Te[ue.indices.path];I||(I=""),s=new Jn(j,I),ue.postModify(s);break}}if(s==null)throw qk(e);return s}}class $k{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(i,e,t){let s=1,o=null,u=null,h=!1,d=0;function m(){return d===2}let g=!1;function E(...U){g||(g=!0,e.apply(null,U))}function S(U){o=setTimeout(()=>{o=null,i(C,m())},U)}function A(){u&&clearTimeout(u)}function C(U,...Q){if(g){A();return}if(U){A(),E.call(null,U,...Q);return}if(m()||h){A(),E.call(null,U,...Q);return}s<64&&(s*=2);let J;d===1?(d=2,J=0):J=(s+Math.random())*1e3,S(J)}let k=!1;function $(U){k||(k=!0,A(),!g&&(o!==null?(U||(d=2),clearTimeout(o),S(0)):U||(d=1)))}return S(0),u=setTimeout(()=>{h=!0,$(!0)},t),$}function Qk(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(i){return i!==void 0}function HE(i,e,t,s){if(s<e)throw qE(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw qE(`Invalid value for '${i}'. Expected ${t} or less.`)}function Xk(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var tf;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(tf||(tf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,t,s,o,u,h,d,m,g,E,S,A=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=S,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,k)=>{this.resolve_=C,this.reject_=k,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Eh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=d=>{const m=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const d=u.getErrorCode()===tf.NO_ERROR,m=u.getStatus();if(!d||Wk(m,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===tf.ABORT;s(!1,new Eh(!1,null,E));return}const g=this.successCodes_.indexOf(m)!==-1;s(!0,new Eh(g,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());Yk(m)?u(m):u()}catch(m){h(m)}else if(d!==null){const m=zk();m.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,m)):h(m)}else if(o.canceled){const m=this.appDelete_?a1():Fk();h(m)}else{const m=Bk();h(m)}};this.canceled_?t(!1,new Eh(!1,null,!0)):this.backoffId_=Kk(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Qk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Eh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function Jk(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function eM(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function tM(i,e){e&&(i["X-Firebase-GMPID"]=e)}function nM(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function iM(i,e,t,s,o,u,h=!0){const d=Xk(i.urlParams),m=i.url+d,g=Object.assign({},i.headers);return tM(g,e),Jk(g,t),eM(g,u),nM(g,s),new Zk(m,i.method,g,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function sM(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t){this._service=e,t instanceof Jn?this._location=t:this._location=Jn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new nf(e,t)}get root(){const e=new Jn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sM(this._location.path)}get storage(){return this._service}get parent(){const e=rM(this._location.path);if(e===null)return null;const t=new Jn(this._location.bucket,e);return new nf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Gk(e)}}function GE(i,e){const t=e==null?void 0:e[Vk];return t==null?null:Jn.makeFromBucketSpec(t,i)}function aM(i,e,t,s={}){i.host=`${e}:${t}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken=typeof o=="string"?o:kT(o,i.app.options.projectId))}class oM{constructor(e,t,s,o,u){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=s1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Lk,this._maxUploadRetryTime=Uk,this._requests=new Set,o!=null?this._bucket=Jn.makeFromBucketSpec(o,this._host):this._bucket=GE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jn.makeFromBucketSpec(this._url,e):this._bucket=GE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){HE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){HE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new nf(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new $k(a1());{const h=iM(e,this._appId,s,o,t,this._firebaseVersion,u);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const $E="@firebase/storage",KE="0.13.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="storage";function lM(i=$p(),e){i=Dt(i);const s=lf(i,o1).getImmediate({identifier:e}),o=NT("storage");return o&&uM(s,...o),s}function uM(i,e,t,s={}){aM(i,e,t,s)}function cM(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new oM(t,s,o,e,ya)}function hM(){ua(new fs(o1,cM,"PUBLIC").setMultipleInstances(!0)),wi($E,KE,""),wi($E,KE,"esm2017")}hM();const Bg=PT({apiKey:"AIzaSyCsfnrl6DfqB6SIKTzsbmmd3dB4Lxn410M",appId:"1:123255881070:web:8e0c5d947164b64350557",projectId:"argo-store-9d6a9",storageBucket:"argo-store-9d6a9.firebasestorage.app",authDomain:"argo-store-9d6a9.firebaseapp.com",messagingSenderId:"123255881070"}),Rn=GN(Bg),jh=jk(Bg);new or;lM(Bg);const l1=Uo(Rn,"Products");Uo(Rn,"Users");const Fg=Uo(Rn,"Invoices"),u1=Uo(Rn,"Customers"),fM=Uo(Rn,"Warehouse_Entries"),c1=Uo(Rn,"Receipts"),h1=async({collection:i,id:e,msg:t})=>{await aD(fa(Rn,i,e))},dM=async({collection:i,id:e,msg:t})=>sD(fa(Rn,i,e)),Pf=async({collection:i,data:e,msg:t})=>{const s=await oD(i,e);return s.firestore,s.id},xu=async({collection:i,id:e,data:t,msg:s})=>await vb(fa(Rn,i,e),{...t},{merge:!0});function mM(){const[i,e]=b.useState([]),[t,s]=b.useState(),o=b.useRef(!0);return{customers:i,setCustomers:e,currentCustomerData:t,shouldFetchCustomer:o,setCurrentCustomerData:s}}const f1=b.createContext(null);function pM({children:i}){return y.jsx(f1.Provider,{value:mM(),children:i})}const Cs=()=>{const i=b.useContext(f1);if(!i)throw new Error("Customer context is not provided");return i};function gM(){const[i,e]=b.useState(!1),{customers:t,setCustomers:s}=Cs();return{isFetching:i,action:async u=>{try{switch(e(!0),u.type){case"add":{const d={id:await Pf({collection:u1,data:u.data}),...u.data};return s(m=>[d,...m]),e(!1),d}case"edit":{await xu({collection:"Customers",data:u.data,id:t[u.index].id});const h=[...t];Object.assign(t[u.index],u.data),s(h),e(!1);break}case"delete":{await h1({collection:"Customers",id:t[u.index].id});const h=[...t];h.splice(u.index,1),s(h),e(!1);break}}}catch(h){throw e(!1),h}}}}const d1=i=>(t=>t.toLocaleLowerCase().replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ắ|ằ|ẳ|ẵ|ặ/g,"a").replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e").replace(/ì|í|ị|ỉ|ĩ/g,"i").replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ớ|ờ|ở|ỡ|ợ/g,"o").replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u").replace(/ỳ|ý|ý|ỷ|ỹ/g,"y").replace(/đ/g,"d"))(i).replaceAll(/[\W_]/g,"-"),QE=i=>({units:[],image_path:"",image_url:"",product_name:"",product_name_ascii:"",stock:0,debt_price:0,stock_price:0,barcode:"",created_at:Lu(),...i}),YE=i=>({address:"",customer_name:"",phone_number:"",total_buy:0,total_debt:0,created_at:Lu(),...i}),vs=i=>new Date(i.toDate().getTime()).toLocaleString();function Hu({closeModal:i,title:e}){return y.jsxs("div",{className:"flex justify-between mb-5",children:[y.jsx("p",{className:"text-xl font-[500]",children:e}),y.jsx(Ie,{color:"second",size:"clear",className:"p-1",onClick:i,children:y.jsx(Tb,{className:"w-6"})})]})}const yM=i=>{if(i.type==="edit"){const{id:e,...t}=i.customer;return YE(t)}return YE({user_email:i.userEmail})},_M=/(0[3|5|7|8|9])+([0-9]{8})\b/g;function vM({closeModal:i,afterSubmit:e,...t}){const[s,o]=b.useState(yM(t)),[u,h]=b.useState(!0),{action:d,isFetching:m}=gM(),g=s.customer_name&&u,E=(k,$)=>{o({...s,[k]:$.trim()})},S=async()=>{try{switch(t.type){case"add":const k=await d({type:"add",data:s});k&&e&&e(k);break;case"edit":await d({type:"edit",data:s,index:t.index});break}}catch(k){console.log(k)}finally{i()}},A={inputGroup:"gap-1",input:"p-2 bg-[#f1f1f1] border border-black/20 rounded-lg",label:"text-[#3f3f3f] text-lg"};b.useEffect(()=>{if(s.phone_number){const k=_M.test(s.phone_number);h(k)}else h(!0)},[s.phone_number]);const C=t.type==="edit"?`Edit '${t.customer.customer_name}'`:"Add customer";return y.jsxs(y.Fragment,{children:[y.jsx(Hu,{closeModal:i,title:C}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:A.inputGroup,children:[y.jsx("label",{className:A.label,children:"Customer name:"}),y.jsx(un,{value:s.customer_name,onChange:k=>E("customer_name",k.target.value),placeholder:"Enter name...",className:A.input})]}),y.jsxs("div",{className:A.inputGroup,children:[y.jsx("p",{className:`${A.label} ${u?"":"text-red-500"}`,children:"Phone number:"}),y.jsx(un,{value:s.phone_number,onChange:k=>E("phone_number",k.target.value),className:A.input})]}),y.jsxs("div",{className:A.inputGroup,children:[y.jsx("p",{className:A.label,children:"Address:"}),y.jsx(un,{value:s.address,onChange:k=>E("address",k.target.value),className:A.input})]})]}),y.jsx("div",{className:"text-center mt-5",children:y.jsxs(Ie,{disabled:!g,loading:m,onClick:()=>g&&S(),children:[y.jsx(Df,{className:"w-6"}),y.jsx("p",{className:"text-white",children:"Ok"})]})})]})}function m1(){const{customers:i,setCustomers:e,shouldFetchCustomer:t}=Cs(),{user:s}=Di(),[o,u]=b.useState(!0);return{api:async()=>{if(s)try{const d=zo(u1,Bo("user_email","==",s.email)),m=await Fo(d);if(m.docs){const g=m.docs.map(E=>({...E.data(),id:E.id}));e(g)}}catch(d){console.log(d)}finally{u(!1)}},isFetching:o,setIsFetching:u,customers:i,shouldFetchCustomer:t,user:s}}function p1(i,e){const[t,s]=b.useState(i);return b.useEffect(()=>{if(!i.trim()){s("");return}const o=setTimeout(()=>{s(i)},e);return()=>{clearTimeout(o)}},[i,e]),t}function g1(){const{customers:i,setCurrentCustomerData:e}=Cs(),[t,s]=b.useState(""),o=p1(t,800),u=b.useMemo(()=>o?i.filter(h=>h.customer_name.includes(o)):i,[o,i]);return{value:t,setValue:s,_customers:u,setCurrentCustomerData:e}}function EM({closeModal:i}){const{setCustomer:e}=ws(),t=b.useRef(null),s=()=>{var C;return(C=t.current)==null?void 0:C.close()},{_customers:o,...u}=g1(),{shouldFetchCustomer:h,api:d,isFetching:m,setIsFetching:g,user:E}=m1(),S=C=>{e(C),i()},A=C=>{S(C),s()};if(b.useEffect(()=>{h.current?(h.current=!1,d()):g(!1)},[]),!!E)return y.jsxs(y.Fragment,{children:[y.jsx(bb,{...u}),y.jsxs("div",{className:"h-[40vh] mt-3 space-y-1.5 overflow-auto",children:[m&&y.jsx(Ni,{}),!m&&y.jsx(y.Fragment,{children:o.length?o.map((C,k)=>y.jsx(wb,{onClick:()=>S(C),customer:C},k)):y.jsx(Ot,{})})]}),y.jsx("p",{className:"text-center",children:y.jsxs(Ie,{onClick:()=>{var C;return(C=t.current)==null?void 0:C.open()},children:[y.jsx(Uu,{className:"w-6"}),y.jsx("span",{children:"Add new customer"})]})}),y.jsx(Ts,{ref:t,children:y.jsx(vM,{type:"add",userEmail:E.email,afterSubmit:A,closeModal:s})})]})}function TM(){const{customer:i}=ws(),e=b.useRef(null),t=()=>{var s;return(s=e.current)==null?void 0:s.close()};return y.jsxs(y.Fragment,{children:[!i&&y.jsx(Ze,{onClick:()=>{var s;return(s=e.current)==null?void 0:s.open()},children:y.jsx("p",{className:"text-center w-full",children:y.jsx(Uu,{className:"w-6"})})}),i&&y.jsx(wb,{onClick:()=>{var s;return(s=e.current)==null?void 0:s.open()},customer:i}),y.jsx(Ts,{ref:e,children:y.jsx(EM,{closeModal:t})})]})}function $n({className:i="",title:e}){return y.jsx("div",{className:`text-3xl text-xanh-500 pb-2 ${i}`,children:e})}function wM(){const{cartItems:i}=ga(),{payMethod:e,setPayMethod:t,setAbleToSubmit:s,ableToSubmit:o,customer:u}=ws(),{checkout:h}=hD();return b.useEffect(()=>{const d=!i.find(m=>m.stock<m.total_quantity||m.total<=0);s(d&&!!u)},[i]),y.jsxs(y.Fragment,{children:[y.jsx($n,{title:"Cart"}),y.jsxs("div",{className:"space-y-4 flex-1 pb-[100px] overflow-auto",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx(pn,{title:"Products",icon:y.jsx(Oo,{className:"w-6"})}),y.jsx(Ze,{className:"space-y-4",children:i.length?i.map((d,m)=>y.jsx(TD,{index:m,cartItem:d},m)):y.jsx(Ot,{})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx(pn,{title:"Customer",icon:y.jsx(Bp,{className:"w-7"})}),y.jsx(TM,{})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx(pn,{title:"Payment",icon:y.jsx(Bx,{className:"w-6 text-xanh-500"})}),y.jsxs(Ze,{className:"space-x-2",children:[y.jsx(Ie,{color:"second",active:e==="no",onClick:()=>t("no"),children:"No"}),y.jsx(Ie,{color:"second",active:e==="tien-mat",onClick:()=>t("tien-mat"),children:"Tien mat"})]})]})]}),y.jsx("div",{className:"fixed bg-white bottom-0 left-0 right-0 border-t border-black/10 py-2 md:p-[16px]",children:y.jsxs("div",{className:"container max-w-[800px] flex justify-between",children:[y.jsxs(Ie,{href:"/",children:[y.jsx(Of,{className:"w-6"}),y.jsx("span",{children:"Home"})]}),y.jsxs(Ie,{disabled:!o,onClick:h,children:[y.jsx("span",{children:"Checkout"}),y.jsx(Eb,{className:"w-6"})]})]})})]})}function qg({invoiceItem:i}){return y.jsxs("div",{className:"border-b border-b-black/10 pb-1.5 last:border-none",children:[y.jsx("p",{className:"text-lg font-[500]",children:i.product_name}),y.jsxs("div",{className:"flex",children:[y.jsxs("p",{className:"text-[#888]",children:[i.quantity," x"," ",y.jsx("p",{className:"",children:Xe(i.price)})]}),y.jsx("p",{className:"ml-auto text-[#888]",children:Xe(i.quantity*i.price)})]})]})}function y1(){const[i,e]=b.useState(!1),{invoice:t,reset:s,totalInvoicePrice:o,newInvoiceId:u,customer:h}=ws(),{resetSelect:d}=ga(),{shouldFetchCustomer:m}=Cs(),g=_r();return{isFetching:i,placeOrder:async()=>{if(!(!t||!h))try{e(!0);const S=await Pf({collection:Fg,data:t});u.current=S;const A=cD(Rn),C=fa(Rn,"Customers",h.id);A.update(C,{total_buy:Nh(o)}),t.payment==="no"&&A.update(C,{total_debt:Nh(o)}),t.items.forEach(k=>{const $=fa(Rn,"Products",k.product_id);A.update($,{stock:Nh(-k.quantity)})}),await A.commit(),s(),d(),m.current=!0,g("/finished")}catch(S){console.log(S)}finally{e(!1)}}}}function bM(){const{invoice:i,customer:e,totalInvoicePrice:t}=ws(),{placeOrder:s,isFetching:o}=y1();if(!i||!e)return y.jsx(Ot,{children:"Something went wrong, ¯\\_(ツ)_/¯"});const u={label:"text-[#888] text-[16px]"};return y.jsxs(y.Fragment,{children:[y.jsx($n,{title:"Checkout"}),y.jsx("div",{className:"flex-1 pb-10 overflow-auto",children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx(pn,{title:"Info",icon:y.jsx(Do,{className:"w-6"})}),y.jsx(Ze,{children:y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"",children:[y.jsx("p",{className:u.label,children:"Customer:"}),y.jsx("p",{className:"text-3xl",children:e.customer_name})]}),y.jsxs("div",{className:"",children:[y.jsx("p",{className:u.label,children:"Payment"}),y.jsx("p",{className:"text-[18px]",children:i.payment==="no"?"No":"Tien mat"})]})]})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx(pn,{title:"Products",icon:y.jsx(Oo,{className:"w-6"})}),y.jsxs(Ze,{children:[y.jsx("div",{className:"gap-1",children:i.items.map((h,d)=>y.jsx(qg,{invoiceItem:h},d))}),y.jsxs("div",{className:"mt-5",children:[y.jsx("p",{children:"Total:"}),y.jsx("p",{children:Xe(t)})]})]})]})]})}),y.jsx("div",{className:"fixed bg-white bottom-0 left-0 right-0 border-t border-black/10 py-2 md:p-[16px]",children:y.jsxs("div",{className:"container max-w-[800px] flex justify-between",children:[y.jsxs(Ie,{href:"/cart",children:[y.jsx(Of,{className:"w-6"}),y.jsx("span",{children:"Cart"})]}),y.jsx(Ie,{loading:o,onClick:s,children:y.jsx("span",{children:"Place order"})})]})})]})}function AM(){const{newInvoiceId:i}=ws(),e=async()=>{window.print(),i.current};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"m-auto",children:[y.jsx("img",{className:"w-[140px] h-[140px] mx-auto",src:"https://zalo-api.zadn.vn/api/emoticon/sticker/webpc?eid=46985&size=130",alt:""}),y.jsx("p",{className:"text-center mt-3 text-xl font-[500]",children:"Xong rồi đó fen!"})]}),y.jsx("div",{className:"fixed bg-white bottom-0 left-0 right-0 border-t border-black/10 py-2 md:p-[16px]",children:y.jsxs("div",{className:"container max-w-[800px] flex justify-between",children:[y.jsxs(Ie,{href:"/",children:[y.jsx(fT,{className:"w-6"}),y.jsx("span",{children:"Cút"})]}),y.jsxs(Ie,{onClick:e,children:[y.jsx("span",{children:"Print"}),y.jsx(af,{className:"w-6"})]})]})})]})}function _1({count:i,href:e}){const t={bubble:`absolute text-center bg-[#cee9b6] 
      -top-[16px] -left-[16px] rounded-full w-[32px] h-[32px]`};if(i)return y.jsxs(Ie,{href:e,size:"clear",className:"p-2 !absolute right-[10px] !space-x-0  bottom-5",children:[y.jsx(Oo,{className:"w-6"}),y.jsx("div",{className:t.bubble,children:y.jsx("span",{className:"text-xl font-bold text-[#5a9e87] leading-[32px]",children:i})})]})}function v1({product:i,selected:e}){return y.jsxs("div",{className:"flex",children:[y.jsx("img",{className:"w-[70px] h-[70px]",src:i.image_url?i.image_url:ko}),y.jsxs("div",{className:"ml-2 max-w-[60%]",children:[y.jsx("p",{className:`text-[18px] break-all  ${e?"text-xanh-500":"text-[#1f1f1f]"}`,children:i.product_name}),y.jsxs("p",{className:"text-sm text-[#888]",children:["Stock: ",i.stock]})]}),y.jsx("div",{className:"ml-auto flex-shrink-0 gap-1",children:i.units.map((t,s)=>y.jsxs("div",{children:[y.jsxs("p",{className:"text-[#888]",children:[t.unit_name,":"]}),y.jsx("p",{className:"text-red-500",children:Xe(t.price)})]},s))})]})}function Hg({value:i,setValue:e}){return y.jsxs(Ze,{colors:"second",className:"flex gap-2 justify-between",children:[y.jsx(un,{value:i,onChange:t=>e(t.target.value),placeholder:"...",className:"flex-grow"}),y.jsx(Ie,{onClick:()=>i?e(""):{},size:"clear",className:"p-1.5",children:i?y.jsx(gT,{className:"w-6"}):y.jsx(dT,{className:"w-6"})})]})}function SM(){const[i,e]=b.useState([]),[t,s]=b.useState(),o=b.useRef(!0),[u,h]=b.useState([]);return{products:i,setProducts:e,currentProductData:t,setCurrentProductData:s,shouldFetchData:o,result:u,serResult:h,action:m=>{switch(m.type){case"edit":const g=[...i];Object.assign(g[m.index],m.product),e(g);break}}}}const E1=b.createContext(null);function xM({children:i}){return y.jsx(E1.Provider,{value:SM(),children:i})}const Ho=()=>{const i=b.useContext(E1);if(!i)throw new Error("ProductsProvider is not provided");return i};function Gg(){const{products:i,setProducts:e,shouldFetchData:t,setCurrentProductData:s}=Ho(),{user:o}=Di(),[u,h]=b.useState(!0);return{api:async()=>{if(o)try{const m=zo(l1,Bo("user_email","==",o.email)),g=await Fo(m);if(g.docs){const E=g.docs.map(S=>({...S.data(),id:S.id}));e(E)}}catch(m){console.log(m)}finally{h(!1)}},isFetching:u,setIsFetching:h,setCurrentProductData:s,products:i,shouldFetchData:t}}function $g(){const{products:i}=Ho(),[e,t]=b.useState(""),s=p1(e,800),o=b.useMemo(()=>s?i.filter(u=>u.product_name_ascii.includes(d1(s))):i,[s,i]);return{value:e,setValue:t,_products:o}}function RM(){const{select:i,cartItems:e}=ga(),{_products:t,...s}=$g(),{api:o,isFetching:u,setIsFetching:h,shouldFetchData:d}=Gg();return b.useEffect(()=>{d.current?(d.current=!1,o()):h(!1)},[]),y.jsxs(y.Fragment,{children:[y.jsx($n,{title:"Home"}),y.jsx(Hg,{...s}),u?y.jsx(Ni,{}):y.jsx(y.Fragment,{children:t.length?y.jsx("div",{className:"mt-5 overflow-auto space-y-2.5 pb-20",children:t.map((m,g)=>{const E=e.find(S=>S.id===m.id);return y.jsx(Ze,{onClick:()=>i(m),children:y.jsx(v1,{product:m,selected:!!E})},g)})}):y.jsx(Ot,{})}),y.jsx(_1,{count:e.length,href:"/cart"})]})}function T1(){const{user:i,justRegistered:e}=Di(),[t,s]=b.useState(!1);return{isFetching:t,action:async u=>{try{switch(s(!0),u.type){case"login":{await TO(jh,u.email,u.password);break}case"logout":{await AO(jh);break}case"register":{s(!0),e.current=!0,await EO(jh,u.email,u.password);break}}s(!1)}catch(h){throw h}finally{s(!1)}},user:i}}const Gt={container:"rounded-[24px] w-[90vw] md:flex-grow md:w-auto mx-auto my-auto md:mx-[100px] bg-white p-[20px] md:px-[30px] md:pt-[calc(40px+30px+10px)]",form:"flex flex-col md:flex-row justify-between",myChat:"text-xl leading-[40px] font-[500]",right:"space-y-[16px] mt-[20px] md:mt-0",inputGroup:"flex flex-col space-y-1",label:"text-[#333]",errorMessage:"bg-red-400 text-white font-[500] md:mr-[14px] p-1.5 mt-5 rounded-md inline-block"};function CM(){const{isFetching:i,action:e,user:t}=T1(),[s,o]=b.useState(""),[u,h]=b.useState(""),[d,m]=b.useState(""),g=b.useRef(null),E=u&&s,S=async A=>{try{A.preventDefault(),m(""),await e({type:"login",email:s,password:u})}catch(C){C?(C==null?void 0:C.code)==="auth/invalid-credential"?m("Email or password is incorrect !"):m("Sign in fail"):m("No server response"),console.log({error:C})}};return t?y.jsx(Vp,{to:"/"}):y.jsx("div",{className:Gt.container,children:y.jsxs("form",{onSubmit:S,className:`${Gt.form} ${i?"opacity-60 pointer-events-none":""}`,children:[y.jsxs("div",{className:"mt-0 md:mt-[-50px] text-center md:text-left",children:[y.jsxs("h1",{className:Gt.myChat,children:["Argo ",y.jsx("span",{className:"text-xanh-500",children:"Store"})]}),y.jsx("h1",{className:"text-[26px] mt-[10px] text-[#333]",children:"Sign in"}),d&&y.jsx("p",{className:Gt.errorMessage,children:d})]}),y.jsxs("div",{className:Gt.right,children:[y.jsxs("div",{className:`${Gt.inputGroup} pt-[8px]`,children:[y.jsx("label",{className:Gt.label,htmlFor:"email",children:"Email"}),y.jsx(un,{ref:g,value:s,onChange:A=>o(A.target.value),id:"email",type:"email"})]}),y.jsxs("div",{className:Gt.inputGroup,children:[y.jsx("label",{className:Gt.label,htmlFor:"password",children:"Password"}),y.jsx(un,{value:u,onChange:A=>h(A.target.value),type:"text",id:"password",autoComplete:"off",required:!0})]}),y.jsxs("div",{className:"md:text-right",children:[y.jsx(Ie,{loading:i,disabled:!E,className:"w-full md:w-auto mt-5",type:"submit",children:"Login"}),y.jsxs("p",{className:"mt-5 text-[#333]",children:["Don't have an account jet ?,",y.jsx(Ti,{className:"text-xanh-500 hover:underline ml-[4px]",to:"/signup",children:"Sign up"})]})]})]})]})})}function IM(){const{user:i}=Di(),{currentCustomerData:e}=Cs(),[t,s]=b.useState(!1),[o,u]=b.useState(0),h=_r();return{isFetching:t,price:o,addReceipt:async()=>{try{if(!i||!(e!=null&&e.customer))return;s(!0);const m={user_email:i.email,customer_id:e.customer.id,price:o,created_at:Lu()};await Pf({collection:c1,data:m}),await vb(fa(Rn,e.customer.id),{total_debt:Nh(-o)}),h(-1)}catch(m){console.log(m)}finally{s(!1)}},setPrice:u,currentCustomerData:e}}function NM(){const{addReceipt:i,isFetching:e,price:t,setPrice:s,currentCustomerData:o}=IM();if(!o)return y.jsx(Ot,{});const{customer:u}=o;return y.jsxs(y.Fragment,{children:[y.jsxs(Ze,{className:"space-y-2",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[#333]",children:"Customer:"}),y.jsx("p",{className:"text-3xl",children:u.customer_name})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-[#333]",children:"Totoal debt:"}),y.jsx("button",{className:"text-lg text-red-500",onClick:()=>s(u.total_debt),children:Xe(u.total_debt)})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-[#333]",children:"Price:"}),y.jsx(du,{value:t,setValue:h=>isNaN(+h)?{}:s(+h)})]})]}),y.jsxs(Ie,{onClick:i,loading:e,disabled:!t,children:[y.jsx(Df,{className:"w-6"}),y.jsx("span",{children:"Ok"})]})]})}function DM(){const{api:i,isFetching:e,setIsFetching:t,shouldFetchCustomer:s}=m1(),{_customers:o,setCurrentCustomerData:u,...h}=g1(),d=_r(),m=(g,E)=>{u({customer:g,index:E}),d(`/menu/customer/${g.id}`)};return b.useEffect(()=>{s.current?(s.current=!1,console.log("get customers"),i()):t(!1)},[]),y.jsxs(y.Fragment,{children:[y.jsx(bb,{...h}),e?y.jsx(Ni,{}):y.jsx(y.Fragment,{children:o.length?y.jsx("div",{className:"mt-3 space-y-2.5 pb-20 overflow-auto",children:o.map((g,E)=>y.jsxs(Ze,{className:"flex",onClick:()=>m(g,E),children:[y.jsx("p",{className:"text-2xl font-500",children:g.customer_name}),y.jsxs("div",{className:"space-y-1 text-right ml-auto text-[#888]",children:[y.jsxs("p",{children:["Total buy: ",y.jsx("br",{}),y.jsx("span",{className:"text-lg text-green-500",children:Xe(g.total_buy)})]}),y.jsxs("p",{children:["Total debt: ",y.jsx("br",{}),y.jsx("span",{className:"text-lg text-red-500",children:Xe(g.total_debt)})]})]})]},E))}):y.jsx(Ot,{})})]})}function OM(){const[i,e]=b.useState([]),[t,s]=b.useState(!0);return{getCustomerReceipts:async u=>{try{const h=zo(c1,Bo("customer_id","==",u),If("created_at","desc"),pb(20)),d=await Fo(h);if(d.docs){const m=d.docs.map(g=>({...g.data(),id:g.id}));e(m)}}catch(h){console.log(h)}finally{s(!1)}},isFetching:t,setIsFetching:s,receipts:i}}function kM(){var o;const{currentCustomerData:i}=Cs(),{getCustomerReceipts:e,receipts:t,isFetching:s}=OM();return b.useEffect(()=>{i&&e(i.customer.id)},[]),y.jsx(y.Fragment,{children:y.jsxs("div",{className:"space-y-1.5",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx(pn,{className:"",icon:y.jsx(Do,{className:"w-6"}),title:"Receipts"}),!!((o=i==null?void 0:i.customer)!=null&&o.total_debt)&&y.jsxs(Ie,{href:`/menu/customers/${i.customer.id}/create-receipt`,children:[y.jsx(pT,{className:"w-6"}),y.jsx("span",{children:"Add receipt"})]})]}),y.jsx(Ze,{className:"space-y-1.5",children:s?y.jsx(Ni,{}):y.jsx(y.Fragment,{children:t.length?t.map((u,h)=>y.jsxs("div",{className:"pb-1.5 border-b border-black/10 last:border-none",children:[y.jsx("p",{className:"text-[#333]",children:vs(u.created_at)}),y.jsx("p",{className:"text-xl text-xanh-500",children:Xe(u.price)})]},h)):y.jsx(Ot,{})})})]})})}function MM(){const[i,e]=b.useState(!0),[t,s]=b.useState([]);return{getCustomerInvoices:async u=>{try{const h=zo(Fg,Bo("customer_id","==",u),If("created_at","desc"),pb(20)),d=await Fo(h);if(d.docs){const m=d.docs.map(g=>({...g.data(),id:g.id}));s(m)}}catch(h){console.log(h)}finally{e(!1)}},isFetching:i,setIsFetching:e,invoices:t}}function Kg(){return async e=>{try{window.print(),console.log(e)}catch(t){console.log(t),alert("Error when printing")}}}function jM({invoice:i,closeModal:e}){const t=Kg(),s=async()=>{await t("asdfsdf")};return y.jsxs(y.Fragment,{children:[y.jsx(Hu,{title:"Invoice Detail",closeModal:e}),y.jsxs(Ze,{children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:"text-[#888]",children:"Date:"}),y.jsx("p",{className:"text-lg",children:vs(i.created_at)})]}),y.jsxs("div",{className:"space-y-1 mt-3",children:[y.jsx("p",{className:"text-[#888]",children:"Total:"}),y.jsx("p",{className:"text-3xl",children:Xe(i.total_price)})]})]}),y.jsx(Ze,{className:"space-y-1.5 mt-3 overflow-auto",children:i.items.map((o,u)=>y.jsx(qg,{invoiceItem:o},u))}),y.jsx("p",{className:"text-center mt-3",children:y.jsxs(Ie,{onClick:s,children:[y.jsx(af,{className:"w-6"}),y.jsx("span",{children:"Print"})]})})]})}function PM({invoice:i}){const e=b.useRef(null),t=()=>{var s;return(s=e.current)==null?void 0:s.close()};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{onClick:()=>{var s;return(s=e.current)==null?void 0:s.open()},className:"flex justify-between items-center pb-1.5 border-b border-black/10 last:border-none",children:[y.jsxs("div",{className:"",children:[y.jsx("p",{className:"text-[#333]",children:vs(i.created_at)}),y.jsx("p",{className:"text-xl text-xanh-500",children:Xe(i.total_price)})]}),y.jsx(Dg,{className:"w-6"})]}),y.jsx(Ts,{ref:e,children:y.jsx(jM,{closeModal:t,invoice:i})})]})}function VM(){const{currentCustomerData:i}=Cs(),{getCustomerInvoices:e,invoices:t,isFetching:s}=MM();return b.useEffect(()=>{i&&e(i.customer.id)},[]),y.jsxs("div",{className:"space-y-1.5",children:[y.jsx(pn,{className:"",icon:y.jsx(Do,{className:"w-6"}),title:"Invoices"}),y.jsx(Ze,{className:"space-y-1.5",children:s?y.jsx(Ni,{}):y.jsx(y.Fragment,{children:t.length?t.map((o,u)=>y.jsx(PM,{invoice:o},u)):y.jsx(Ot,{})})})]})}function LM(){const{currentCustomerData:i}=Cs();if(!i)return y.jsx(Ot,{});const{customer:e}=i,t={label:"text-[#888] text-[16px]"};return y.jsxs(y.Fragment,{children:[y.jsx($n,{title:"Customer detail"}),y.jsx("div",{className:"overflow-auto pb-20",children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx(pn,{className:"",icon:y.jsx(Bp,{className:"w-6"}),title:"User info"}),y.jsxs(Ze,{className:"space-y-2.5",children:[y.jsxs("div",{className:"",children:[y.jsx("p",{className:t.label,children:"Customer:"}),y.jsx("p",{className:"text-3xl font-[500]",children:e.customer_name})]}),y.jsxs("div",{className:"",children:[y.jsx("p",{className:t.label,children:"Phone number:"}),y.jsx("p",{className:"text-xl",children:e.phone_number})]}),y.jsxs("div",{className:"",children:[y.jsx("p",{className:t.label,children:"Total buy:"}),y.jsx("p",{className:"text-xl text-xanh-500",children:Xe(e.total_buy)})]}),y.jsxs("div",{className:"",children:[y.jsx("p",{className:t.label,children:"Total debt:"}),y.jsx("p",{className:"text-xl text-red-500",children:Xe(e.total_debt)})]})]})]}),y.jsx(kM,{}),y.jsx(VM,{})]})})]})}function UM(){const{user:i}=Di(),[e,t]=b.useState(!0),{setInvoices:s,invoices:o,...u}=ET();return{getInvoices:async()=>{try{if(!i)return;const d=zo(Fg,Bo("user_email","==",i.email),If("created_at","desc")),m=await Fo(d);if(m.docs){const g=m.docs.map(E=>({...E.data(),id:E.id}));s(g)}}catch(d){console.log(d)}finally{t(!1)}},isFetching:e,setIsFetching:t,invoices:o,...u}}function zM(){const{isFetching:i,invoices:e,setIsFetching:t,setCurrentInvoiceId:s,getInvoices:o,shouldFetchInvoice:u}=UM(),h=_r(),d=m=>{s(m.id),h(`/menu/invoice/${m.id}`)};return b.useEffect(()=>{u.current?(u.current=!1,console.log("get invoices"),o()):t(!1)},[]),y.jsxs(y.Fragment,{children:[y.jsx($n,{title:"Invoice"}),i?y.jsx(Ni,{}):y.jsx(y.Fragment,{children:e.length?y.jsx("div",{className:"space-y-2 overflow-auto pb-20",children:e.map((m,g)=>y.jsxs(Ze,{onClick:()=>d(m),className:"mb-2 flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[#333]",children:vs(m.created_at)}),y.jsx("p",{className:"text-xl",children:m.customer_name}),y.jsx("p",{className:`text-xl ${m.payment==="tien-mat"?"text-xanh-500":"text-red-500"} `,children:Xe(m.total_price)})]}),y.jsx(Dg,{className:"w-6"})]},g))}):y.jsx(Ot,{className:"flex-1"})})]})}function BM(i,e){return`
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
  </head>
  <body>
			<h3>Ngày mua: ${e}</h3>
      <h3>Khách hàng: ${i.customer_name}</h3>
      <table>
         <thead>
            <tr>
               <th>STT</th>
               <th>Sản phẩm</th>
               <th>Đơn vị</th>
               <th>SL</th>
               <th>Giá</th>
               <th>Thành tiền</th>
            </tr>
         </thead>

         <tbody>
         		${i.items.reduce((t,s,o)=>t+`
         				<tr>
		               <td style="text-align: center; font-weight: bold">${o+1}</td>
		               <td>${s.product_name}</td>
		               <td>${s.unit_name}</td>
		               <td>${s.quantity}</td>
		               <td>${Xe(s.price)}</td>
		               <td style="text-align: right">${Xe(s.price*s.quantity)}</td>
		            </tr>
         				`,"")}
            <tr>
               <td colspan="5">Tổng cộng:</td>
               <td style="text-align: right">${Xe(i.total_price)}</td>
            </tr>
         </tbody>
      </table>
  </bod>
  <style>

* {
  margin: 0;
  padding: 0;
}

body {
  padding: 3rem;
}
html {
  font-size: 62.5%;
}
table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 2rem;
}
table th,
table td {
  padding: 0.5rem;
  border: 1px solid #000;
  font-size: 1rem;
}
table th {
  text-transform: uppercase;
  background-color: #f1f1f1;
}

  </style>
</html>
	`}function FM(){const{currentInvoiceData:i}=ET(),e=Kg(),t=()=>{if(!i)return;const{invoice:o}=i,u=BM(o,vs(o.created_at));e(u)};if(!i)return y.jsx(Ot,{});const{invoice:s}=i;return y.jsxs(y.Fragment,{children:[y.jsx($n,{title:"Invoice detail"}),y.jsx("div",{className:"overflow-auto pb-20",children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"space-y-1.5",children:[y.jsx(pn,{icon:y.jsx(Do,{className:"w-6"}),title:"Invoice info"}),y.jsxs(Ze,{className:"space-y-2.5",children:[y.jsxs("div",{className:"",children:[y.jsx("p",{className:"text-[#333]",children:"Customer:"}),y.jsx("p",{className:"text-2xl",children:s.customer_name})]}),y.jsxs("div",{className:"",children:[y.jsx("p",{className:"text-[#333]",children:"Date:"}),y.jsx("p",{className:"",children:vs(s.created_at)})]}),y.jsxs("div",{className:"",children:[y.jsx("p",{className:"text-[#333]",children:"Payment:"}),y.jsx("p",{className:"",children:s.payment==="no"?"No":"Tien mat"})]}),y.jsxs("div",{className:"",children:[y.jsx("p",{className:"text-[#333]",children:"Total:"}),y.jsx("p",{className:"text-2xl",children:Xe(s.total_price)})]})]})]}),y.jsxs("div",{className:"space-y-1.5",children:[y.jsx(pn,{icon:y.jsx(Oo,{className:"w-6"}),title:"Products"}),y.jsx(Ze,{className:"space-y-1.5",children:s.items.map((o,u)=>y.jsx(qg,{invoiceItem:o},u))})]})]})}),y.jsx(Ie,{onClick:t,size:"clear",className:"p-2 !absolute bottom-7 right-5",children:y.jsx(af,{className:"w-6"})})]})}function qM(){const[i,e]=b.useState(!1),{setProducts:t,products:s,shouldFetchData:o}=Ho();return{isFetching:i,action:async h=>{try{switch(e(!0),h.type){case"add":{const d=await Pf({collection:l1,data:h.product});t(m=>[{id:d,...h.product},...m]);break}case"edit":{await xu({collection:"Products",data:h.product,id:h.id});const d=[...s];Object.assign(d[h.index],h.product),t(d),o.current=!0;break}}e(!1)}catch(d){throw d}finally{e(!1)}}}}const HM=i=>{switch(i.variant){case"add":return QE({user_email:i.email});case"edit":const{id:e,...t}=i.product;return QE(t)}};function w1({closeModal:i,...e}){const[t,s]=b.useState(()=>HM(e)),{action:o,isFetching:u}=qM(),h=!!t.product_name&&+t.stock_price>0&&+t.debt_price>0&&!!t.product_name_ascii,d=(E,S)=>{switch(E){case"stock_price":case"debt_price":return isNaN(+S)?S?void 0:s({...t,[E]:0}):s({...t,[E]:+S});case"product_name":return s({...t,product_name_ascii:d1(S),product_name:S})}s({...t,[E]:S})},m=async()=>{try{switch(e.variant){case"add":await o({type:"add",product:t});break;case"edit":if(e.variant!=="edit")return;await o({type:"edit",product:t,id:e.product.id,index:0});break}}catch(E){console.log({error:E})}},g={inputGroup:"gap-1",input:"p-2 bg-[#f1f1f1] border border-black/20 rounded-lg",label:"text-[#3f3f3f] text-lg"};return y.jsxs(y.Fragment,{children:[y.jsx(Hu,{title:"Add product",closeModal:i}),y.jsxs("div",{className:"space-y-3 flex-1 overflow-auto",children:[y.jsx("div",{className:"w-[160px] h-[160px] bg-[#f1f1f1] rounded-lg"}),y.jsxs("div",{className:g.inputGroup,children:[y.jsx("p",{className:g.label,children:"Name:"}),y.jsx(un,{value:t.product_name,onChange:E=>d("product_name",E.target.value),placeholder:"Enter name...",className:g.input})]}),y.jsxs("div",{className:g.inputGroup,children:[y.jsx("label",{htmlFor:"price",className:g.label,children:"Stock price:"}),y.jsx(du,{value:t.stock_price,setValue:E=>d("stock_price",E+"")})]}),y.jsxs("div",{className:g.inputGroup,children:[y.jsx("p",{className:g.label,children:"Debt price:"}),y.jsx(du,{value:t.debt_price,setValue:E=>d("debt_price",E.toString())})]})]}),y.jsx("div",{className:"mt-3 text-center",children:y.jsxs(Ie,{disabled:!h,loading:u,onClick:m,children:[y.jsx(jx,{className:"w-6"}),y.jsx("p",{className:"text-white",children:"Save"})]})})]})}function GM(){const{user:i}=Di(),e=b.useRef(null);return i?y.jsxs(y.Fragment,{children:[y.jsxs(Ie,{onClick:()=>{var t;return(t=e.current)==null?void 0:t.open()},size:"clear",className:"p-2 !absolute right-[10px]  bottom-5",children:[y.jsx(Uu,{className:"w-6"}),y.jsx("span",{children:"Add product"})]}),y.jsx(Ts,{ref:e,children:y.jsx(w1,{variant:"add",email:i.email,closeModal:()=>{var t;return(t=e.current)==null?void 0:t.close()}})})]}):y.jsx(y.Fragment,{})}function $M(){const{_products:i,...e}=$g(),{api:t,isFetching:s,setIsFetching:o,shouldFetchData:u,setCurrentProductData:h}=Gg(),d=_r(),m=(g,E)=>{h({product:g,index:E}),d(`/menu/product/${g.id}`)};return b.useEffect(()=>{u.current?(u.current=!1,t()):o(!1)},[]),y.jsxs(y.Fragment,{children:[y.jsx($n,{title:"Product"}),y.jsx(Hg,{...e}),s?y.jsx(Ni,{}):y.jsx(y.Fragment,{children:i.length?y.jsx("div",{className:"mt-5 overflow-auto space-y-2",children:i.map((g,E)=>y.jsxs("div",{className:"w-full flex cursor-pointer",onClick:()=>m(g,E),children:[y.jsx("img",{className:"w-[70px] h-[70px]",src:g.image_url?g.image_url:ko}),y.jsx("p",{className:"text-lg ml-2 font-[500]",children:g.product_name})]},E))}):y.jsx(Ot,{})}),y.jsx(GM,{})]})}function KM(){const{currentProductData:i}=Ho(),e=b.useRef(null),t=()=>{var o;return(o=e.current)==null?void 0:o.close()},s={inputGroup:"",value:"text-lg",label:"text-[#888]"};if(i)return y.jsxs("div",{className:"space-y-1",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx(pn,{icon:y.jsx(Do,{className:"w-6"}),title:"Info"}),y.jsxs(Ie,{onClick:()=>{var o;return(o=e.current)==null?void 0:o.open()},className:"p-1.5",size:"clear",children:[y.jsx(mT,{className:"w-6"}),y.jsx("p",{className:"text-white",children:"Edit"})]})]}),y.jsxs(Ze,{className:"space-y-2.5",children:[y.jsx("img",{style:{height:70,width:70},src:i.product.image_url?i.product.image_url:ko}),y.jsxs("div",{className:s.inputGroup,children:[y.jsx("p",{className:s.label,children:"Name:"}),y.jsx("p",{className:s.value,children:i.product.product_name})]}),y.jsxs("div",{className:s.inputGroup,children:[y.jsx("p",{className:s.label,children:"Bar Code:"}),y.jsx("p",{className:s.value,children:i.product.barcode})]}),y.jsxs("div",{className:s.inputGroup,children:[y.jsx("p",{className:s.label,children:"Debt price:"}),y.jsx("p",{className:s.value,children:Xe(i.product.debt_price)})]}),y.jsxs("div",{className:s.inputGroup,children:[y.jsx("p",{className:s.label,children:"Stock price:"}),y.jsx("p",{className:s.value,children:Xe(i.product.stock_price)})]}),y.jsxs("div",{className:s.inputGroup,children:[y.jsx("p",{className:s.label,children:"Stock:"}),y.jsx("p",{className:s.value,children:i.product.stock})]})]}),y.jsx(Ts,{ref:e,children:y.jsx(w1,{closeModal:t,variant:"edit",product:i.product})})]})}function b1(){const[i,e]=b.useState(!1),{resetSelect:t}=ga(),{currentProductData:s,action:o}=Ho();return{isFetching:i,actions:async({...h})=>{if(s)try{switch(e(!0),t(),h.type){case"Add":const{unit:d}=h,{id:m,...g}=s.product,E=[...g.units,d];Object.assign(g,{units:E}),await xu({collection:"Products",data:g,id:m}),o({type:"edit",product:{units:E},index:s.index});break;case"Edit":{const{unit:S,index:A}=h,C=[...s.product.units];Object.assign(C[A],S),await xu({collection:"Products",id:s.product.id,data:{units:C}}),o({type:"edit",index:s.index,product:{units:C}});break}case"Delete":{const{index:S}=h,A=[...s.product.units];A.splice(S,1),await h1({collection:"Products",id:s.product.id}),o({type:"edit",index:s.index,product:{units:A}})}}}catch(d){throw d}finally{e(!1)}},currentProductData:s}}const XE=i=>({...{conversion_quantity:0,price:0,unit_name:"",...i},...i});function A1({product:i,...e}){const[t,s]=b.useState(e.variant==="edit"?XE(e.productUnit):XE({})),o=(i==null?void 0:i.units.length)===0,u=!!t.unit_name&&t.price>0&&t.conversion_quantity>0,h=(m,g)=>{switch(m){case"unit_name":s({...t,[m]:g});break;default:s({...t,[m]:+g})}};b.useEffect(()=>{i&&o&&h("conversion_quantity","1")},[]);const d={inputGroup:"gap-1",label:"text-[#3f3f3f] text-lg"};if(i)return y.jsxs(y.Fragment,{children:[y.jsx(Hu,{title:"Add unit",closeModal:e.closeModal}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:d.inputGroup,children:[y.jsx("p",{className:d.label,children:"Name:"}),y.jsx(un,{value:t.unit_name,onChange:m=>h("unit_name",m.target.value),placeholder:"Enter name..."})]}),y.jsxs("div",{className:d.inputGroup,children:[y.jsx("p",{className:d.label,children:"Conversion:"}),y.jsx(un,{value:t.conversion_quantity?t.conversion_quantity.toString():"",readOnly:!!o,onChange:m=>isNaN(+m.target.value)?{}:h("conversion_quantity",m.target.value)})]}),y.jsxs("div",{className:d.inputGroup,children:[y.jsx("p",{className:d.label,children:"Price:"}),y.jsx(du,{setValue:m=>h("price",m+""),value:t.price})]})]}),y.jsx("div",{className:"text-center mt-5",children:y.jsxs(Ie,{disabled:!u,loading:e.isFetching,onClick:()=>u&&e.submit(t),children:[y.jsx(Df,{className:"w-6"}),y.jsx("p",{className:"text-white",children:"Ok"})]})})]})}function QM({loading:i,callback:e,title:t,close:s,desc:o="This action cannot be undone"}){return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"text-xl mb-3",children:y.jsx("p",{className:"text-xl font-semibold",children:t||"Wait a minute"})}),!!o&&y.jsx("p",{className:"font-semibold text-lg text-red-500",children:o}),y.jsxs("div",{className:"flex-row mt-5",children:[y.jsx(Ie,{onClick:s,color:"second",children:y.jsx("p",{className:"text-[#1f1f1f]",children:"Close"})}),y.jsx(Ie,{className:"ml-2",loading:i,onClick:e,children:y.jsx("p",{className:"text-white",children:"Yes, Please"})})]})]})}function YM({productUnit:i,index:e}){const[t,s]=b.useState(""),o=b.useRef(null),u=()=>{var A;return(A=o.current)==null?void 0:A.close()},h=A=>{var C;s(A),(C=o.current)==null||C.open()},{actions:d,isFetching:m,currentProductData:g}=b1(),E=async A=>{try{switch(A.type){case"edit":await d({type:"Edit",index:e,unit:A.unit});break;case"delete":await d({type:"Delete",index:e});break}s("")}catch(C){console.log(C)}},S=()=>{if(!g||!t)return y.jsx(Ot,{});switch(t){case"edit":return y.jsx(A1,{variant:"edit",closeModal:u,isFetching:m,product:g.product,productUnit:i,submit:A=>E({type:"edit",unit:A})});case"delete":return y.jsx(QM,{callback:()=>E({type:"delete"}),close:u,loading:m})}};return y.jsxs("div",{className:"bg-[#fff] shadow-lg border border-black/5 p-2 rounded-md",children:[y.jsx("p",{className:"text-center font-semibold text-xl line-clamp-1",children:i.unit_name}),y.jsxs("div",{className:"gap-2 mt-3",children:[y.jsxs("p",{className:"text-lg text-[#888] font-[500]",children:["x",i.conversion_quantity]}),y.jsx("p",{className:"text-xl text-red-500 font-[500]",children:Xe(i.price)})]}),y.jsxs("div",{className:"flex gap-2 justify-center mt-5",children:[y.jsx(Ie,{onClick:()=>h("delete"),size:"clear",className:"p-1.5",children:y.jsx(zp,{className:"w-6"})}),y.jsx(Ie,{onClick:()=>h("edit"),size:"clear",className:"p-1.5",children:y.jsx(mT,{className:"w-6"})})]}),y.jsx(Ts,{ref:o,children:S()})]})}function XM(){const{currentProductData:i,actions:e,isFetching:t}=b1(),s=b.useRef(null),o=()=>{var h;return(h=s.current)==null?void 0:h.close()},u=async h=>{await e({type:"Add",unit:h}),o()};if(i)return y.jsxs("div",{className:"space-y-1",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx(pn,{icon:y.jsx(Ux,{className:"w-6"}),title:"Unit"}),y.jsxs(Ie,{onClick:()=>{var h;return(h=s.current)==null?void 0:h.open()},size:"clear",className:"p-1.5",children:[y.jsx(Uu,{className:"w-6"}),y.jsx("span",{className:"text-white",children:"Add unit"})]})]}),y.jsx(Ze,{children:i.product.units.length?y.jsx("div",{className:"flex-row flex-wrap -mt-1 -mx-1",children:i.product.units.map((h,d)=>y.jsx("div",{className:"w-1/2 h-full px-1 mt-2",children:y.jsx(YM,{productUnit:h,index:d})},d))}):y.jsx("p",{className:"text-center",children:"¯\\_(ツ)_/¯"})}),y.jsx(Ts,{ref:s,children:y.jsx(A1,{variant:"add",product:i.product,submit:u,isFetching:t,closeModal:o})})]})}function WM(){const{currentProductData:i}=Ho();return i?y.jsxs(y.Fragment,{children:[y.jsx($n,{title:i.product.product_name}),y.jsxs("div",{className:"space-y-4 overflow-auto pb-20",children:[y.jsx(KM,{}),y.jsx(XM,{})]})]}):y.jsx(Ot,{})}function ZM(){const{select:i,cartItems:e}=Iu(),{_products:t,...s}=$g(),{api:o,isFetching:u,setIsFetching:h,shouldFetchData:d}=Gg();return b.useEffect(()=>{d.current?(d.current=!1,o()):h(!1)},[]),y.jsxs(y.Fragment,{children:[y.jsx($n,{title:"New receive"}),y.jsxs("div",{className:"overflow-auto pb-20",children:[y.jsx(Hg,{...s}),u?y.jsx(Ni,{}):y.jsx(y.Fragment,{children:t.length?y.jsx("div",{className:"mt-5 overflow-auto space-y-2",children:t.map((m,g)=>{const E=e.find(S=>S.id===m.id);return y.jsx(Ze,{onClick:()=>i(m),children:y.jsx(v1,{product:m,selected:!!E})},g)})}):y.jsx(Ot,{})}),y.jsx(_1,{count:e.length,href:"/menu/receive/cart"}),y.jsx(qp,{})]})]})}function JM({cartItem:i,index:e}){const{updateCartItem:t,remove:s}=Iu(),o={Label:" text-[#333]"};return y.jsxs("div",{className:"flex",children:[y.jsx("img",{style:{height:70,width:70,marginBottom:"auto"},src:i.image_url?i.image_url:ko}),y.jsxs("div",{className:"space-y-2.5 flex-grow px-2",children:[y.jsxs("div",{className:"flex items-center justify-between flex-grow",children:[y.jsxs("p",{className:"text-lg",children:[i.product_name,y.jsxs("p",{className:"text-sm text-gray-500",children:["(stock: ",i.stock,")"]})]}),y.jsx(Ie,{onClick:()=>s(e),size:"clear",className:"ml-auto p-2",children:y.jsx(zp,{className:"w-6"})})]}),y.jsxs("div",{className:"space-y-1 items-start",children:[y.jsx("p",{className:o.Label,children:"Quantity:"}),y.jsx(un,{value:i.quantity?i.quantity.toString():"",placeholder:"0",onChange:u=>isNaN(+u.target.value)?{}:t({index:e,product:{quantity:+u.target.value}})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:o.Label,children:"Price:"}),y.jsx(du,{value:i.price,setValue:u=>t({index:e,product:{price:+u}})})]}),y.jsxs("p",{className:"text-right mt-3 text-[#333]",children:["Total:",y.jsxs("span",{className:"text-[18px]",children:[" ",Xe(i.quantity*i.price)]})]})]})]})}function ej(){const{user:i}=Di(),{cartItems:e,setReceiving:t}=Iu(),s=_r();return{checkout:async()=>{if(!i)return;const u=[];e.forEach(m=>{const g=m.quantity*m.price,E={product_name:m.product_name,product_image_url:m.image_url,product_id:m.id,quantity:m.quantity,price:_T(g)};u.push(E)});const h=u.reduce((m,g)=>m+g.price*g.quantity,0),d={user_email:i.email,items:u,total_price:+h.toFixed(1),created_at:Lu()};t(d),s("/menu/receive/checkout")}}}function tj(){const{cartItems:i}=Iu(),{checkout:e}=ej(),t=!i.find(s=>s.quantity<=0||s.price<=0);return y.jsxs(y.Fragment,{children:[y.jsx($n,{title:"Receive cart"}),y.jsx("div",{className:"overflow-auto pb-[90px]",children:y.jsx("div",{className:"space-y-4",children:y.jsxs("div",{className:"space-y-1",children:[y.jsx(pn,{title:"Products",icon:y.jsx(Oo,{className:"w-6"})}),y.jsx(Ze,{children:i.length?y.jsx("div",{className:"space-y-3",children:i.map((s,o)=>y.jsx(JM,{index:o,cartItem:s},o))}):y.jsx(Ot,{less:!0})})]})})}),y.jsx("div",{className:"fixed bg-white bottom-0 left-0 right-0 border-t border-black/10 py-2 md:p-[16px]",children:y.jsxs("div",{className:"container max-w-[800px] flex justify-between",children:[y.jsxs(Ie,{href:"/menu/receive/add",children:[y.jsx(Of,{className:"w-6"}),y.jsx("span",{children:"Back"})]}),y.jsxs(Ie,{disabled:!t,onClick:e,children:[y.jsx("span",{children:"Checkout"}),y.jsx(Eb,{className:"w-6"})]})]})})]})}function S1({receivingItem:i}){return y.jsxs("div",{className:"border-b border-b-black/10 pb-1.5 last:border-none",children:[y.jsx("p",{className:"text-lg font-[500]",children:i.product_name}),y.jsxs("div",{className:"flex",children:[y.jsxs("p",{className:"text-[#888]",children:[i.quantity," x"," ",y.jsx("p",{className:"",children:Xe(i.price)})]}),y.jsx("p",{className:"ml-auto text-[#888]",children:Xe(i.quantity*i.price)})]})]})}function nj(){const{receiving:i}=Iu(),{placeOrder:e,isFetching:t}=y1();return i?y.jsxs(y.Fragment,{children:[y.jsx($n,{title:"Receive checkout"}),y.jsx("div",{className:"flex-1 pb-10 overflow-auto",children:y.jsxs("div",{className:"space-y-1",children:[y.jsx(pn,{title:"Products",icon:y.jsx(Oo,{className:"w-6"})}),y.jsxs(Ze,{children:[y.jsx("div",{className:"spacey-1.5",children:i.items.map((s,o)=>y.jsx(S1,{receivingItem:s},o))}),y.jsxs("div",{className:"mt-5",children:[y.jsx("p",{children:"Total:"}),y.jsx("p",{className:"text-2xl font-[500]",children:Xe(i.total_price)})]})]})]})}),y.jsx("div",{className:"fixed bg-white bottom-0 left-0 right-0 border-t border-black/10 py-2 md:p-[16px]",children:y.jsxs("div",{className:"container max-w-[800px] flex justify-between",children:[y.jsxs(Ie,{href:"/menu/receive/cart",children:[y.jsx(Of,{className:"w-6"}),y.jsx("span",{children:"Cart"})]}),y.jsx(Ie,{loading:t,onClick:e,children:y.jsx("span",{children:"Confirm"})})]})})]}):y.jsx(Ot,{})}function ij({receiving:i,closeModal:e}){const t=Kg(),s=async()=>{await t("asdfsdf")};return y.jsxs(y.Fragment,{children:[y.jsx(Hu,{title:"Receiving Detail",closeModal:e}),y.jsxs(Ze,{children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:"text-[#888]",children:"Date:"}),y.jsx("p",{className:"text-lg",children:vs(i.created_at)})]}),y.jsxs("div",{className:"space-y-1 mt-3",children:[y.jsx("p",{className:"text-[#888]",children:"Total:"}),y.jsx("p",{className:"text-3xl",children:Xe(i.total_price)})]})]}),y.jsx(Ze,{className:"space-y-1.5 mt-3 overflow-auto",children:i.items.map((o,u)=>y.jsx(S1,{receivingItem:o},u))}),y.jsx("p",{className:"text-center mt-3",children:y.jsxs(Ie,{onClick:s,children:[y.jsx(af,{className:"w-6"}),y.jsx("span",{children:"Print"})]})})]})}function rj({receiving:i}){const e=b.useRef(null),t=()=>{var s;return(s=e.current)==null?void 0:s.close()};return y.jsxs(y.Fragment,{children:[y.jsxs(Ze,{onClick:()=>{var s;return(s=e.current)==null?void 0:s.open()},className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{children:vs(i.created_at)}),y.jsx("p",{className:"text-lg text-xanh-500",children:Xe(i.total_price)})]}),y.jsx(Dg,{className:"w-6"})]}),y.jsx(Ts,{ref:e,children:y.jsx(ij,{closeModal:t,receiving:i})})]})}function sj(){const{user:i}=Di(),[e,t]=b.useState(!0),{setReceives:s,receives:o,...u}=hR();return{getWarehouseEntries:async()=>{try{if(!i)return;const d=zo(fM,Bo("user_email","==",i.email),If("created_at","desc")),m=await Fo(d);if(m.docs){const g=m.docs.map(E=>({...E.data(),id:E.id}));s(g)}}catch(d){console.log(d)}finally{t(!1)}},isFetching:e,setIsFetching:t,receives:o,...u}}function aj(){const{isFetching:i,receives:e,shouldFetchWarehouseEntries:t,setIsFetching:s,getWarehouseEntries:o}=sj();return b.useEffect(()=>{t.current?(t.current=!1,console.log("get receives"),o()):s(!1)},[]),y.jsxs(y.Fragment,{children:[y.jsx($n,{title:"Receive"}),i?y.jsx(Ni,{}):y.jsx(y.Fragment,{children:e.length?y.jsx("div",{className:"space-y-2",children:e.map((u,h)=>y.jsx(rj,{receiving:u},h))}):y.jsx(Ot,{className:"flex-1"})}),y.jsx(Ie,{href:"/menu/receive/add",size:"clear",className:"!absolute p-2 bottom-7 right-5",children:y.jsx(pT,{className:"w-6"})}),y.jsx(qp,{})]})}const oj=/^(?=.*[0-9])[a-zA-Z0-9!@#$%^&*]{6,16}$/;function np({label:i,valid:e,value:t,htmlFor:s}){return y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx("label",{htmlFor:s,className:"text-[#333] text-[16px]",children:i}),!!t&&y.jsx(y.Fragment,{children:e?y.jsx(Df,{className:"w-6 text-xanh-500"}):y.jsx(Tb,{className:"w-6 text-red-500"})})]})}function lj(){const{isFetching:i,action:e,user:t}=T1(),[s,o]=b.useState(""),[u,h]=b.useState(""),[d,m]=b.useState(!1),[g,E]=b.useState(""),[S,A]=b.useState(!1),[C,k]=b.useState(""),$=b.useRef(null),U=d&&S,Q=async ee=>{try{ee.preventDefault(),k(""),await e({type:"register",email:s,password:u})}catch(J){J.code==="auth/email-already-in-use"?k("This email already registed !"):k("Register fail"),console.log({error:J})}};return b.useEffect(()=>{const ee=oj.test(u);m(ee);let J=u===g;u||(J=!1),A(J)},[u,g]),t?y.jsx(Vp,{to:"/"}):y.jsx("div",{className:Gt.container,children:y.jsxs("form",{onSubmit:Q,className:`${Gt.form} ${i?"opacity-60 pointer-events-none":""}`,children:[y.jsxs("div",{className:"mt-0 md:mt-[-50px] text-center md:text-left",children:[y.jsxs("h1",{className:Gt.myChat,children:["Argo ",y.jsx("span",{className:"text-xanh-500",children:"Store"})]}),y.jsx("h1",{className:"text-[26px] mt-[10px] text-[#333]",children:"Sign in"}),C&&y.jsx("p",{className:Gt.errorMessage,children:C})]}),y.jsxs("div",{className:Gt.right,children:[y.jsxs("div",{className:`${Gt.inputGroup} pt-[8px]`,children:[y.jsx(np,{htmlFor:"email",value:s,label:"Email",valid:!0}),y.jsx(un,{ref:$,value:s,onChange:ee=>o(ee.target.value),id:"email",type:"email"})]}),y.jsxs("div",{className:Gt.inputGroup,children:[y.jsx(np,{valid:d,htmlFor:"password",value:u,label:"Password"}),y.jsx(un,{value:u,onChange:ee=>h(ee.target.value),type:"text",id:"password",autoComplete:"off",required:!0})]}),y.jsxs("div",{className:Gt.inputGroup,children:[y.jsx(np,{valid:S,htmlFor:"confirm-password",value:g,label:"Confirm password"}),y.jsx(un,{value:g,onChange:ee=>E(ee.target.value),type:"text",id:"confirm-password",autoComplete:"off",required:!0})]}),y.jsxs("div",{className:"md:text-right",children:[y.jsx(Ie,{disabled:!U,className:"w-full md:w-auto mt-5",type:"submit",children:"Signup"}),y.jsxs("p",{className:"mt-5 text-[#333]",children:["Already have an account ?,",y.jsx(Ti,{className:"text-xanh-500 hover:underline ml-[4px]",to:"/login",children:"Login"})]})]})]})]})})}const uj=[{path:"/login",component:CM,layout:h0},{path:"/signup",component:lj,layout:h0}],cj=[{path:"/",component:RM,layout:""},{path:"/cart",component:wM,layout:bh},{path:"/checkout",component:bM,layout:bh},{path:"/finished",component:AM,layout:bh},{path:"/menu/product",component:$M,layout:""},{path:"/menu/product/:id",component:WM,layout:""},{path:"/menu/customer",component:DM,layout:""},{path:"/menu/customer/:id",component:LM,layout:""},{path:"/menu/customer:id/create-receive",component:NM,layout:""},{path:"/menu/invoice",component:zM,layout:p0},{path:"/menu/invoice/:id",component:FM,layout:p0},{path:"/menu/receive",component:aj,layout:dh},{path:"/menu/receive/add",component:ZM,layout:dh},{path:"/menu/receive/cart",component:tj,layout:dh},{path:"/menu/receive/checkout",component:nj,layout:dh}];function hj(){const{setUser:i,setLoading:e,loading:t,user:s,justRegistered:o}=Di();return b.useEffect(()=>{(async()=>{jh.onAuthStateChanged(async h=>{if(h&&h.email)if(o.current){o.current=!1;const d={email:h.email,address:"",phone_number:"",store_name:`${h.email}'s Store`};await xu({collection:"Users",data:d,id:h.email}),i(d)}else{const d=await dM({collection:"Users",id:h.email});i(d.data())}else i(null);e(!1)})})()},[]),{user:s,loading:t}}function fj(){return y.jsxs("div",{className:"fixed inset-0 flex flex-col justify-center items-center",children:[y.jsx(Ot,{}),y.jsx(Ie,{className:"mt-5",href:"/",children:"Go Home"})]})}function dj(){const{user:i,loading:e}=hj();return e?y.jsx(Ni,{}):i?y.jsx(YS,{}):y.jsx(Vp,{to:"/login"})}function mj(){return y.jsx(y.Fragment,{children:y.jsx(Tx,{basename:"/",children:y.jsxs(WS,{children:[y.jsx(eu,{path:"*",element:y.jsx(fj,{})}),uj.map((i,e)=>{const t=i.component;let s;return i.layout?s=i.layout:s=sp,y.jsx(eu,{path:i.path,element:y.jsx(s,{children:y.jsx(t,{})})},e)}),y.jsx(eu,{element:y.jsx(dj,{}),children:cj.map((i,e)=>{const t=i.component;let s;return i.layout?s=i.layout:s=sp,y.jsx(eu,{path:i.path,element:y.jsx(s,{children:y.jsx(t,{})})},e)})})]})})})}const pj=()=>{const[i,e]=b.useState([]);return{toasts:i,setErrorToast:o=>e(u=>[...u,{variant:"error",id:Date.now()+"",desc:o||"Somethings went wrong"}]),setSuccessToast:o=>e(u=>[...u,{variant:"success",id:Date.now()+"",desc:o||"Successful"}]),setToasts:e}},gj=b.createContext(null);function yj({children:i}){return y.jsx(gj.Provider,{value:pj(),children:i})}rS.createRoot(document.getElementById("root")).render(y.jsx(b.StrictMode,{children:y.jsx(xM,{children:y.jsx(pM,{children:y.jsx(yR,{children:y.jsx(pR,{children:y.jsx(yj,{children:y.jsx(vR,{children:y.jsx(mj,{})})})})})})})}));
